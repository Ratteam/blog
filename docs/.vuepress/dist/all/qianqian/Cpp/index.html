<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ratfrog的博客</title>
    <meta name="description" content="Just playing around">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/icon.png">
  <script>var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?46eb6dbf0c639c7f8f8b9bc2e1b8e9ad";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();</script>
    
    <link rel="preload" href="/assets/css/0.styles.0cf81d82.css" as="style"><link rel="preload" href="/assets/js/app.f33c03af.js" as="script"><link rel="preload" href="/assets/js/2.8a1ae630.js" as="script"><link rel="preload" href="/assets/js/18.eada6ffb.js" as="script"><link rel="prefetch" href="/assets/js/10.a06011e4.js"><link rel="prefetch" href="/assets/js/11.e1114912.js"><link rel="prefetch" href="/assets/js/12.edc64439.js"><link rel="prefetch" href="/assets/js/13.a3173774.js"><link rel="prefetch" href="/assets/js/14.4bed2e41.js"><link rel="prefetch" href="/assets/js/15.1699dde0.js"><link rel="prefetch" href="/assets/js/16.bad8e339.js"><link rel="prefetch" href="/assets/js/17.a90a954f.js"><link rel="prefetch" href="/assets/js/19.91c13f14.js"><link rel="prefetch" href="/assets/js/20.56a81c75.js"><link rel="prefetch" href="/assets/js/21.41c09a46.js"><link rel="prefetch" href="/assets/js/22.cfc872f3.js"><link rel="prefetch" href="/assets/js/23.a2e057c4.js"><link rel="prefetch" href="/assets/js/24.7249cf00.js"><link rel="prefetch" href="/assets/js/25.1e415478.js"><link rel="prefetch" href="/assets/js/26.c0bb86a7.js"><link rel="prefetch" href="/assets/js/27.f219c934.js"><link rel="prefetch" href="/assets/js/28.c5d553d6.js"><link rel="prefetch" href="/assets/js/29.ed288419.js"><link rel="prefetch" href="/assets/js/3.edeb5efd.js"><link rel="prefetch" href="/assets/js/30.a18f130f.js"><link rel="prefetch" href="/assets/js/31.b2cb940b.js"><link rel="prefetch" href="/assets/js/32.805baf01.js"><link rel="prefetch" href="/assets/js/33.306f9fe8.js"><link rel="prefetch" href="/assets/js/34.04f2de4f.js"><link rel="prefetch" href="/assets/js/35.43117b54.js"><link rel="prefetch" href="/assets/js/36.cbcad82d.js"><link rel="prefetch" href="/assets/js/37.3ef6ca82.js"><link rel="prefetch" href="/assets/js/38.b96ccc3c.js"><link rel="prefetch" href="/assets/js/39.a703af32.js"><link rel="prefetch" href="/assets/js/4.983ed5d5.js"><link rel="prefetch" href="/assets/js/40.4cf0ab32.js"><link rel="prefetch" href="/assets/js/41.c53bad33.js"><link rel="prefetch" href="/assets/js/42.79a3b3ee.js"><link rel="prefetch" href="/assets/js/43.1b497787.js"><link rel="prefetch" href="/assets/js/44.45420b05.js"><link rel="prefetch" href="/assets/js/45.5cdb95ea.js"><link rel="prefetch" href="/assets/js/46.3458eeea.js"><link rel="prefetch" href="/assets/js/47.2bd0a24c.js"><link rel="prefetch" href="/assets/js/48.a9880aaf.js"><link rel="prefetch" href="/assets/js/49.4415a9a4.js"><link rel="prefetch" href="/assets/js/5.14a93412.js"><link rel="prefetch" href="/assets/js/50.d5af4139.js"><link rel="prefetch" href="/assets/js/51.99f0485b.js"><link rel="prefetch" href="/assets/js/52.9c6543e0.js"><link rel="prefetch" href="/assets/js/53.d8f935c7.js"><link rel="prefetch" href="/assets/js/54.389f76b6.js"><link rel="prefetch" href="/assets/js/55.52c85add.js"><link rel="prefetch" href="/assets/js/56.d1ed2a00.js"><link rel="prefetch" href="/assets/js/57.b907a098.js"><link rel="prefetch" href="/assets/js/58.a46232ef.js"><link rel="prefetch" href="/assets/js/59.9bc3c7c3.js"><link rel="prefetch" href="/assets/js/6.d7af4825.js"><link rel="prefetch" href="/assets/js/60.d923f5d7.js"><link rel="prefetch" href="/assets/js/61.f3bb3210.js"><link rel="prefetch" href="/assets/js/62.7a5b52ff.js"><link rel="prefetch" href="/assets/js/63.4c2b44e4.js"><link rel="prefetch" href="/assets/js/64.9ec9de3e.js"><link rel="prefetch" href="/assets/js/65.411c26a0.js"><link rel="prefetch" href="/assets/js/66.242077af.js"><link rel="prefetch" href="/assets/js/7.bf14451a.js"><link rel="prefetch" href="/assets/js/8.7342b8d4.js"><link rel="prefetch" href="/assets/js/9.e7e3dd5a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0cf81d82.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ratfrog的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/all/qianqian/" class="nav-link router-link-active">
  钱钱
</a></li><li class="dropdown-item"><!----> <a href="/all/xiexie/" class="nav-link">
  写写
</a></li><li class="dropdown-item"><!----> <a href="/all/xingxing/" class="nav-link">
  星星
</a></li><li class="dropdown-item"><!----> <a href="/all/paipai/" class="nav-link">
  拍拍
</a></li><li class="dropdown-item"><!----> <a href="/all/fanfan/" class="nav-link">
  翻翻
</a></li><li class="dropdown-item"><!----> <a href="/all/huahua/" class="nav-link">
  画画
</a></li><li class="dropdown-item"><!----> <a href="/all/qiqi/" class="nav-link">
  其其
</a></li></ul></div></div><div class="nav-item"><a href="/web/" class="nav-link">
  网站
</a></div><div class="nav-item"><a href="/app/" class="nav-link">
  应用
</a></div><div class="nav-item"><a href="/radio/" class="nav-link">
  电台
</a></div><div class="nav-item"><a href="/video/" class="nav-link">
  视频
</a></div><div class="nav-item"><a href="/all/" class="nav-link router-link-active">
  最新文章
</a></div><div class="nav-item"><a href="/more/" class="nav-link">
  支持打赏
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="/photowall/" class="nav-link">
  照片墙
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link">
  时间轴
</a></div><div class="nav-item"><a href="/bbs/" class="nav-link">
  公告板
</a></div><div class="nav-item"><a href="/message/" class="nav-link">
  留言板
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/all/qianqian/" class="nav-link router-link-active">
  钱钱
</a></li><li class="dropdown-item"><!----> <a href="/all/xiexie/" class="nav-link">
  写写
</a></li><li class="dropdown-item"><!----> <a href="/all/xingxing/" class="nav-link">
  星星
</a></li><li class="dropdown-item"><!----> <a href="/all/paipai/" class="nav-link">
  拍拍
</a></li><li class="dropdown-item"><!----> <a href="/all/fanfan/" class="nav-link">
  翻翻
</a></li><li class="dropdown-item"><!----> <a href="/all/huahua/" class="nav-link">
  画画
</a></li><li class="dropdown-item"><!----> <a href="/all/qiqi/" class="nav-link">
  其其
</a></li></ul></div></div><div class="nav-item"><a href="/web/" class="nav-link">
  网站
</a></div><div class="nav-item"><a href="/app/" class="nav-link">
  应用
</a></div><div class="nav-item"><a href="/radio/" class="nav-link">
  电台
</a></div><div class="nav-item"><a href="/video/" class="nav-link">
  视频
</a></div><div class="nav-item"><a href="/all/" class="nav-link router-link-active">
  最新文章
</a></div><div class="nav-item"><a href="/more/" class="nav-link">
  支持打赏
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="/photowall/" class="nav-link">
  照片墙
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link">
  时间轴
</a></div><div class="nav-item"><a href="/bbs/" class="nav-link">
  公告板
</a></div><div class="nav-item"><a href="/message/" class="nav-link">
  留言板
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><div><ul><li><a href="/all/qianqian/Cpp/#c-作用">C++ 作用</a></li><li><a href="/all/qianqian/Cpp/#c-特点">C++ 特点</a></li><li><a href="/all/qianqian/Cpp/#c-程序-编译-执行-分析">C++ 程序 编译/执行/分析</a></li><li><a href="/all/qianqian/Cpp/#c-数据类型">C++ 数据类型</a></li><li><a href="/all/qianqian/Cpp/#c-变量">C++ 变量</a></li><li><a href="/all/qianqian/Cpp/#c-常量">C++ 常量</a></li><li><a href="/all/qianqian/Cpp/#c-运算符">C++ 运算符</a></li><li><a href="/all/qianqian/Cpp/#c-判断">C++ 判断</a></li><li><a href="/all/qianqian/Cpp/#c-函数">C++ 函数</a></li><li><a href="/all/qianqian/Cpp/#c-数组">C++ 数组</a></li><li><a href="/all/qianqian/Cpp/#c-字符串">C++ 字符串</a></li><li><a href="/all/qianqian/Cpp/#c-指针">C++ 指针</a></li><li><a href="/all/qianqian/Cpp/#c-日期-时间">C++ 日期 &amp; 时间</a></li><li><a href="/all/qianqian/Cpp/#c-基本的输入输出">C++ 基本的输入输出</a></li><li><a href="/all/qianqian/Cpp/#c-数据结构">C++ 数据结构</a></li><li><a href="/all/qianqian/Cpp/#c-类-对象">C++ 类 &amp; 对象</a></li><li><a href="/all/qianqian/Cpp/#c-继承">C++ 继承</a></li><li><a href="/all/qianqian/Cpp/#c-重载运算符和重载函数">C++ 重载运算符和重载函数</a></li><li><a href="/all/qianqian/Cpp/#c-数据封装">C++ 数据封装</a></li><li><a href="/all/qianqian/Cpp/#c-接口（抽象类）">C++ 接口（抽象类）</a></li><li><a href="/all/qianqian/Cpp/#c-文件和流">C++ 文件和流</a></li><li><a href="/all/qianqian/Cpp/#c-异常处理">C++ 异常处理</a></li><li><a href="/all/qianqian/Cpp/#c-动态内存">C++ 动态内存</a></li><li><a href="/all/qianqian/Cpp/#c-命名空间">C++ 命名空间</a></li><li><a href="/all/qianqian/Cpp/#c-模板">C++ 模板</a></li><li><a href="/all/qianqian/Cpp/#c-stl-教程">C++ STL 教程</a></li></ul></div> <h1 id="cpp语法使用指南"><a href="#cpp语法使用指南" class="header-anchor">#</a> cpp语法使用指南</h1> <blockquote><p>C++是一种被广泛使用的计算机程序设计语言。它是一种通用程序设计语言，支持多重编程模式，例如过程化程序设计、数据抽象、面向对象程序设计、泛型程序设计和设计模式等。</p></blockquote> <h2 id="c-作用"><a href="#c-作用" class="header-anchor">#</a> C++ 作用</h2> <p>C语言：操作系统底层、系统驱动、单片机、嵌入式方面 等等；
C++：网络游戏开发、音视频技术、Socket网络通信，另外，苹果/谷歌/微软 等大型软硬件公司的系统或者软件上面都支持C/C++语言的集成开发。</p> <h2 id="c-特点"><a href="#c-特点" class="header-anchor">#</a> C++ 特点</h2> <p><strong>编译型语言</strong>
定义：需通过编译器（compiler）将源代码编译成机器码，之后才能执行的语言。一般需经过编译（compile）、链接（linker）这两个步骤。编译是把源代码编译成机器码，链接是把各个模块的机器码和依赖库串连起来生成可执行文件。
优点：编译器一般会有预编译的过程对代码进行优化。因为编译只做一次，运行时不需要编译，所以编译型语言的程序执行效率高。可以脱离语言环境独立运行。
缺点：编译之后如果需要修改就需要整个模块重新编译。编译的时候根据对应的运行环境生成机器码，不同的操作系统之间移植就会有问题，需要根据运行的操作系统环境编译不同的可执行文件。
代表语言：C、C++、Pascal、Object###C 以及最近很火的苹果新语言Swift</p> <p><strong>解释型语言</strong>
定义：指用专门解释器对源程序逐行解释成特定平台的机器码并立即执行的语言，相当于把编译型语言的编译链接过程混到一起同时完成的。
解释型语言执行效率较低，且不能脱离解释器运行，但它的跨平台型比较容易，只需提供特定解释器即可。
代表语言：Python（同时是脚本语言）与 Ruby、PHP 等。</p> <p><strong>脚本语言</strong>
定义：为了缩短传统的编写-&gt;编译-&gt;链接-&gt;运行（edit-&gt;compile-&gt;link-&gt;run）过程而创建的计算机编程语言。
它的特点是：程序代码即是最终的执行文件，只是这个过程需要解释器的参与，所以说脚本语言与解释型语言有很大的联系。脚本语言通常是被解释执行的，而且程序是文本文件。
代表语言：JavaScript，Python、Perl 等。</p> <p><strong>混合型语言</strong>
既然编译型和解释型各有缺点就会有人想到把两种类型整合起来，取其精华去其糟粕。就出现了半编译型语言。比如 C#，C#在编译的时候不是直接编译成机器码而是中间码，.NET平台提供了中间语言运行库运行中间码，中间语言运行库类似于Java虚拟机。.Net在编译成IL代码后，保存在DLL中，首次运行时由JIT在编译成机器码缓存在内存中，下次直接执行。严格来说混合型语言属于解释型语言。C#更接近编译型语言。
代表语言：C#、Java</p> <h2 id="c-程序-编译-执行-分析"><a href="#c-程序-编译-执行-分析" class="header-anchor">#</a> C++ 程序 编译/执行/分析</h2> <p><strong>第一个C++程序</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token string">&quot;Hello World!&quot;</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>hello world 代码分析</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;stdafx.h&quot;</span>        </span><span class="token comment">//包含自己的头文件</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span>        </span><span class="token comment">//包含系统的头文件</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>        <span class="token comment">//命名空间</span>

<span class="token keyword">int</span> <span class="token function">_tmain</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> _tchar<span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment">//入口点函数</span>
<span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;hello world!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                <span class="token comment">//输出内容并换行</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>                                                <span class="token comment">//返回</span>
<span class="token punctuation">}</span>
</code></pre></div><p>什么是自己的头文件，什么是系统的头文件，#include &quot;&quot; 和 #include &lt;&gt; 有什么区别？
自己的头文件是在当前工程目录下有的头文件，系统的一般是编译器提供的。</p> <p>命名空间又是什么呢？
防止重复名字的发生，比如系统提供了一个变量或者函数的名字叫做 abc，你自己也定义了一个变量或者函数的名字叫 abc，这时候编译器就不知道该调用哪个？名字有冲突了，这个时候为了防止冲突就引入了命名空间的概念。</p> <h2 id="c-数据类型"><a href="#c-数据类型" class="header-anchor">#</a> C++ 数据类型</h2> <blockquote><p>使用编程语言进行编程时，需要用到各种变量来存储各种信息。变量保留的是它所存储的值的内存位置。这意味着，当创建一个变量时，就会在内存中保留一些空间。可能需要存储各种数据类型（比如字符型、宽字符型、整型、浮点型、双浮点型、布尔型等）的信息，操作系统会根据变量的数据类型，来分配内存和决定在保留内存中存储什么。</p></blockquote> <p>C++中数据类型分为两种：预定义类型和自定义类型。</p> <ul><li>预定义类型
布尔型  <code>bool</code>
字符型 <code>char</code>
整型    <code>int</code>
浮点型  <code>float</code>
双浮点型    <code>double</code>
无类型  <code>void</code></li> <li>自定义类型
数组
结构体  <code>struct</code>
联合体  <code>union</code>
枚举   <code>enum</code></li></ul> <p><strong>修饰符</strong>
一些基本类型可以使用一个或多个类型修饰符进行修饰
<code>signed</code> 有符号
<code>unsigned</code>    无符号
<code>short</code>   短
<code>long</code>    长</p> <p><strong>各种数据类型占用内存大小</strong></p> <blockquote><p>注意：不同系统会有所差异。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>char	            1 个字节	-128 到 127 或者 0 到 255
unsigned char	    1 个字节	0 到 255
signed char        	1 个字节	-128 到 127
int	                4 个字节	-2147483648 到 2147483647
unsigned int	    4 个字节	0 到 4294967295
signed int	        4 个字节	-2147483648 到 2147483647
short int	        2 个字节	-32768 到 32767
unsigned short int	2 个字节	0 到 65,535
signed short int	2 个字节	-32768 到 32767
long int	        8 个字节	-9,223,372,036,854,775,808 到 9,223,372,036,854,775,807
signed long int	    8 个字节	-9,223,372,036,854,775,808 到 9,223,372,036,854,775,807
unsigned long int	8 个字节	0 到 18,446,744,073,709,551,615
float	            4 个字节	精度型占4个字节（32位）内存空间，+/- 3.4e +/- 38 (~7 个数字)
double	            8 个字节	双精度型占8 个字节（64位）内存空间，+/- 1.7e +/- 308 (~15 个数字)
long double	        16 个字节	长双精度型 16 个字节（128位）内存空间，可提供18-19位有效数字。
</code></pre></div><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span>  </span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>  
  
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;type: \t\t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;************size**************&quot;</span><span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;bool: \t\t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">bool</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;char: \t\t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;signed char: \t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">signed</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">signed</span> <span class="token keyword">char</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">signed</span> <span class="token keyword">char</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;unsigned char: \t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;wchar_t: \t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">wchar_t</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">wchar_t</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">wchar_t</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;short: \t\t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">short</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">short</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;int: \t\t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;unsigned: \t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">unsigned</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">unsigned</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;long: \t\t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">long</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">long</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;unsigned long: \t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">unsigned</span> <span class="token keyword">long</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">unsigned</span> <span class="token keyword">long</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;double: \t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;long double: \t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">long</span> <span class="token keyword">double</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">long</span> <span class="token keyword">double</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;float: \t\t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">float</span><span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span><span class="token keyword">float</span><span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;size_t: \t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>size_t<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最大值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span>size_t<span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\t最小值：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span>size_t<span class="token operator">&gt;</span><span class="token operator">::</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;string: \t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;所占字节数：&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    <span class="token comment">// &lt;&lt; &quot;\t最大值：&quot; &lt;&lt; (numeric_limits&lt;string&gt;::max)() &lt;&lt; &quot;\t最小值：&quot; &lt;&lt; (numeric_limits&lt;string&gt;::min)() &lt;&lt; endl;  </span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;type: \t\t&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;************size**************&quot;</span><span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>sizeof()</code> 函数来获取各种数据类型的大小</p></blockquote> <p><strong>数组</strong></p> <blockquote><p>数组是存放相同类型的容器，数组的大小确定不变，不能随意向数组中添加元素。因为数组的大小固定，因此对某些特殊应用来说程序的运行时性能较好，但相应的损失了一些灵活性。</p></blockquote> <ul><li>一维数组：</li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//arr是含有10个整型的数组</span>
<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//arr是含有10个整型的数组，进行了初始化，每个元素的值都是10</span>
<span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//arr是含有10个整型指针的数组</span>
<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//arr是含有3个整型的数组</span>
<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//等价于int arr[5] = {1,2,3,0,0}</span>
string arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//等价于 string arr[3] = {&quot;hello&quot;,&quot;world&quot;,&quot;&quot;};</span>
<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">//这里不能声明维度为5，因为字符串末尾还有一个空字符('\0')，所以应该是&quot;hello\0&quot;</span>
<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'h'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'l'</span><span class="token punctuation">,</span><span class="token string">'l'</span><span class="token punctuation">,</span><span class="token string">'o'</span><span class="token punctuation">,</span><span class="token string">'\0'</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//等价于 char arr[] = &quot;hello&quot;;</span>
<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'h'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'l'</span><span class="token punctuation">,</span><span class="token string">'l'</span><span class="token punctuation">,</span><span class="token string">'o'</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//这条语句和上面一条语句是一样的。默认字符初始化值是'\0'</span>
</code></pre></div><blockquote><p>如果在定义了整型类型的数组后，并没有对内存进行初始化的话，那么里面会存放以前的垃圾值。用字符串字面值初始化字符数组时，一定要注意字符串字面值的末尾还有一个空字符。</p></blockquote> <ul><li>多维数组：</li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> arr1<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//二维数组,大小为m的数组，每个数组的元素都是大小为n的数组。</span>
<span class="token keyword">int</span> arr2<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//三维数组，大小为m的数组，每个数组的元素都是大小为n的数组，然后大小为n的数组 每个元素又是大小为q的数组。</span>
</code></pre></div><p><strong>结构体  <code>struct</code></strong></p> <blockquote><p>结构体是由一系列具有相同类型或者不同类型的数据构成的数据集合。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> SIZE 32</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//结构体数组 </span>
<span class="token keyword">struct</span> <span class="token class-name">BookInfo</span><span class="token punctuation">{</span>
  <span class="token keyword">char</span> name<span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">char</span> author<span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> status<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//结构体数组</span>
<span class="token keyword">struct</span> <span class="token class-name">ReadreInfo</span><span class="token punctuation">{</span>
 <span class="token keyword">char</span> Name<span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
 <span class="token keyword">char</span> Date<span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//结构体嵌套</span>
<span class="token keyword">struct</span> <span class="token class-name">LibraryInfo</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> ID<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">BookInfo</span> book<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">ReadreInfo</span> reader<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>LibraryInfo<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;input the book id:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>LibraryInfo<span class="token punctuation">.</span>ID<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;input the book name:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>LibraryInfo<span class="token punctuation">.</span>book<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;input the book author:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>LibraryInfo<span class="token punctuation">.</span>book<span class="token punctuation">.</span>author<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;input the book status:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>LibraryInfo<span class="token punctuation">.</span>book<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;input the reader name:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>LibraryInfo<span class="token punctuation">.</span>reader<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;input the reader BorrowDate:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>LibraryInfo<span class="token punctuation">.</span>reader<span class="token punctuation">.</span>Date<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;图书信息如下:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;图书编号:%d\n&quot;</span><span class="token punctuation">,</span>LibraryInfo<span class="token punctuation">.</span>ID<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;书名:%s\n&quot;</span><span class="token punctuation">,</span>LibraryInfo<span class="token punctuation">.</span>book<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;图书作者:%s\n&quot;</span><span class="token punctuation">,</span>LibraryInfo<span class="token punctuation">.</span>book<span class="token punctuation">.</span>author<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;图书当前状态:%d\n&quot;</span><span class="token punctuation">,</span>LibraryInfo<span class="token punctuation">.</span>book<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;读者姓名：%s&quot;</span><span class="token punctuation">,</span>LibraryInfo<span class="token punctuation">.</span>reader<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;借阅日期：%s&quot;</span><span class="token punctuation">,</span>LibraryInfo<span class="token punctuation">.</span>reader<span class="token punctuation">.</span>Date<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 
<span class="token punctuation">}</span>
</code></pre></div><p><strong>联合体  <code>union</code></strong></p> <blockquote><p>联合体的使用方式和结构体及普通变量类似。
联合体的主要作用就是节省内存，因为联合体 ·变量不像结构体 成员变量那样，系统会给其 每一个变量都分配相应的内存。在联合体中，所有的成员变量共享一块内存空间。该内存空间是其成员变量中占字节数最多的变量所占用的内存空间，并且所有的成员变量共用这一块内存空间，因此联合体中所有成员变量地址是一样的。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> SIZE 32</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">union</span> Info<span class="token punctuation">{</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">char</span> Name<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> Address<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>info<span class="token punctuation">;</span>
 
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;input age:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>info<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;age:%d\n&quot;</span><span class="token punctuation">,</span>info<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;input name:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>info<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;name:%s\n&quot;</span><span class="token punctuation">,</span>info<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;input address:\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>info<span class="token punctuation">.</span>Address<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;address:%s\n&quot;</span><span class="token punctuation">,</span>info<span class="token punctuation">.</span>Address<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//jinan</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;name:%s\n&quot;</span><span class="token punctuation">,</span>info<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//jinan 和上边的一样，被覆盖</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;age:%d\n&quot;</span><span class="token punctuation">,</span>info<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//1634625898</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;name地址:%p\n&quot;</span><span class="token punctuation">,</span>info<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;age地址:%p\n&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>info<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//0028FED0地址和上边一样</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>枚举    <code>enum</code></strong></p> <blockquote><p>枚举类型(enumeration)是C++ 一种派生数据类型，它是由用户定义的若干枚举常量的集合。
如果一个变量只有几种可能的值，可以定义为枚举(enumeration)类型。所谓&quot;枚举&quot;是指将变量的值一一列举出来，变量的值只能在列举出来的值的范围内。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code>	
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">testEnum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Hello world!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token function">testEnum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">//枚举类型 变量为整型常量，除了定义时可以赋值外，其他时间都不可以</span>
<span class="token keyword">int</span> <span class="token function">testEnum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">enum</span> <span class="token class-name">FourSeason1</span><span class="token punctuation">{</span>
   SPRING<span class="token punctuation">,</span>
   SUMMER<span class="token punctuation">,</span>
   AUTOMN<span class="token punctuation">,</span>
   WINTER
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">enum</span> <span class="token class-name">FourSeason2</span><span class="token punctuation">{</span>
   SPRING2<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
   SUMMER2<span class="token punctuation">,</span>
   AUTOMN2<span class="token punctuation">,</span>
   WINTER2
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">enum</span> <span class="token class-name">FourSeason3</span><span class="token punctuation">{</span>
   SPRING3<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
   SUMMER3<span class="token punctuation">,</span>
   AUTOMN3<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>
   WINTER3
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">enum</span> <span class="token class-name">FourSeason1</span> curSeason1<span class="token punctuation">,</span>PreSeason1<span class="token punctuation">;</span>
  <span class="token keyword">enum</span> <span class="token class-name">FourSeason2</span> curSeason2<span class="token punctuation">,</span>PreSeason2<span class="token punctuation">;</span>
 
  <span class="token keyword">enum</span> <span class="token class-name">FourSeason3</span> curSeason3<span class="token punctuation">,</span>PreSeason3<span class="token punctuation">;</span>
 
  curSeason1<span class="token operator">=</span>WINTER<span class="token punctuation">;</span>
  PreSeason1<span class="token operator">=</span>AUTOMN<span class="token punctuation">;</span>
 
  curSeason2<span class="token operator">=</span>WINTER2<span class="token punctuation">;</span>
  PreSeason2<span class="token operator">=</span>AUTOMN2<span class="token punctuation">;</span>
 
  curSeason3<span class="token operator">=</span>WINTER3<span class="token punctuation">;</span>
  PreSeason3<span class="token operator">=</span>AUTOMN3<span class="token punctuation">;</span>
 
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;curSeason1 is %d\n&quot;</span><span class="token punctuation">,</span>curSeason1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;PreSeason1 is %d\n&quot;</span><span class="token punctuation">,</span>PreSeason1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;curSeason2 is %d\n&quot;</span><span class="token punctuation">,</span>curSeason2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//5</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;PreSeason2 is %d\n&quot;</span><span class="token punctuation">,</span>PreSeason2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;PreSeason2 is %d\n&quot;</span><span class="token punctuation">,</span>curSeason3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//6</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;PreSeason2 is %d\n&quot;</span><span class="token punctuation">,</span>PreSeason3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//5</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;SUMMER3 is %d\n&quot;</span><span class="token punctuation">,</span>SUMMER3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2 SUMMER3</span>
  cout <span class="token operator">&lt;&lt;</span> SUMMER3 <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="c-变量"><a href="#c-变量" class="header-anchor">#</a> C++ 变量</h2> <blockquote><p>变量，顾名思义，就是在程序的运行过程中值是可以改变的。
变量的名称可以由字母、数字和下划线字符组成。它必须以字母或下划线开头。大写字母和小写字母是不同的，因为 C++ 是大小写敏感的。</p></blockquote> <p><strong>匈牙利命名法</strong>
在变量前面加一个字母来表示变量的类型：
iSum，cSex 等等，i 表示 整型的 int，c 表示字符型的 char 等等。</p> <p><strong>何为常量变量？</strong>
常量，就是值不能改变，变量，就是值可以改变</p> <p><strong>变量作用域</strong>
作用域是程序的一个区域，一般来说有三个地方可以定义变量：</p> <ul><li>在函数或一个代码块内部声明的变量，称为局部变量。</li> <li>在函数参数的定义中声明的变量，称为形式参数。</li> <li>在所有函数外部声明的变量，称为全局变量。</li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 全局变量声明</span>
<span class="token keyword">int</span> g <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token comment">// 局部变量声明</span>
  <span class="token keyword">int</span> g <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
 
  cout <span class="token operator">&lt;&lt;</span> g<span class="token punctuation">;</span>
 
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>注意：局部变量和全局变量的名称可以相同，但是在函数内，局部变量的值会覆盖全局变量的值。</p></blockquote> <h2 id="c-常量"><a href="#c-常量" class="header-anchor">#</a> C++ 常量</h2> <blockquote><p>常量是固定值，在程序执行期间不会改变。这些固定的值，又叫做字面量。
常量可以是任何的基本数据类型，可分为整型数字、浮点数字、字符、字符串和布尔值。
常量就像是常规的变量，只不过常量的值在定义后不能进行修改。</p></blockquote> <p><strong>定义常量</strong>
在 C++ 中，有两种简单的定义常量的方式：</p> <ul><li>使用 #define 预处理器。</li> <li>使用 const 关键字。</li></ul> <p>define 预处理器</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token macro property">#<span class="token directive keyword">define</span> LENGTH 10   </span>
<span class="token macro property">#<span class="token directive keyword">define</span> WIDTH  5</span>
<span class="token macro property">#<span class="token directive keyword">define</span> NEWLINE '\n'</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
 
   <span class="token keyword">int</span> area<span class="token punctuation">;</span>  
   
   area <span class="token operator">=</span> LENGTH <span class="token operator">*</span> WIDTH<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> area<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> NEWLINE<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>const 关键字</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token keyword">int</span>  LENGTH <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
   <span class="token keyword">const</span> <span class="token keyword">int</span>  WIDTH  <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
   <span class="token keyword">const</span> <span class="token keyword">char</span> NEWLINE <span class="token operator">=</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> area<span class="token punctuation">;</span>  
   
   area <span class="token operator">=</span> LENGTH <span class="token operator">*</span> WIDTH<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> area<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> NEWLINE<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="c-运算符"><a href="#c-运算符" class="header-anchor">#</a> C++ 运算符</h2> <blockquote><p>运算符是一种告诉编译器执行特定的数学或逻辑操作的符号。C++ 内置了丰富的运算符，并提供了以下类型的运算符：</p> <ul><li>算术运算符</li> <li>关系运算符</li> <li>逻辑运算符</li> <li>位运算符</li> <li>赋值运算符</li> <li>杂项运算符</li></ul></blockquote> <p><strong>算术运算符</strong>
+（加）、-（减）、*（乘）、/（除）、%（整除求余）、++（自加）、--（自减）</p> <p><strong>关系运算符</strong>
（大于）、&lt;（小于）、==（等于）、=（大于或等于）、&lt;=（小于或等于）、!=（不等于）</p> <p><strong>逻辑运算符</strong>
&amp;&amp;（逻辑与）、||（逻辑或）、!（逻辑非）</p> <p><strong>位运算符</strong>
&lt;&lt;（按位左移）、（按位右移）、&amp;（按位与）、|（按位或）、^（按位异或）、~（按位取反）</p> <p><strong>赋值运算符</strong>
（=号及其扩展赋值运算符）</p> <p><strong>条件运算符</strong>
（?:）</p> <p><strong>逗号运算符</strong>
（,）</p> <p><strong>指针运算符</strong>
（*）</p> <p><strong>引用运算符和地址运算符</strong>
（&amp;）</p> <p><strong>求字节数运算符</strong>
（sizeof）</p> <p><strong>强制类型转换运算符</strong>
（(类型) 或 类型()）</p> <p><strong>成员运算符</strong>
（.）</p> <p><strong>指向成员的运算符</strong>
（-）</p> <p><strong>下标运算符</strong>
（[]）</p> <p><strong>其他运算符</strong>
（如函数调用运算符()）</p> <p><strong>混合类型运算规则</strong>
在表达式遇到不同数据类型的混合运算时，要求不同类型的数据要先转换成同一类型然后才能进行运算。默认编译器会有个规则进行自动转换：
自动转换遵循以下规则：</p> <ol><li>若参与运算的两个参数类型不同，则先转换成同一类型，然后再进行运算；</li> <li>按照数据长度增加的方向进行（即：由 少字节类型 向 多字节类型 转换），以保证精度不丢失；</li> <li>所有的浮点运算都是以双精度进行的，即使仅含 float 单精度量运算的表达式，也要先转换成 double 类型，再作运算；</li> <li>char 类型 和 short 类型参与运算时，必须先转换成 int 类型，也就是说最小的运算整形单位是 int；</li> <li>在赋值运算中，赋值号两边量的数据类型不同时，赋值号右边量的类型将转换为左边量的类型（右随左变）。如果右边的数据类型的长度比左边长时，将丢失一部分数据，这样会降低精度，例如：int x = 2.5;</li></ol> <blockquote><p>注意：无论是 自动转换 还是 强制转换 ，都只是为了本次运算的需要而对变量的数据长度进行的临时性转换，不会改变数据说明时对该变量定义的类型。</p></blockquote> <p><strong>强制类型转换运算符</strong>
有时候我们不想要编译器默认的自动转换，我们要手动进行强制类型转换，</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> y <span class="token operator">=</span> <span class="token number">3.6</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>y<span class="token punctuation">;</span>
y <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>运算符优先级</strong>
运算符的优先级确定表达式中项的组合。这会影响到一个表达式如何计算。某些运算符比其他运算符有更高的优先级，例如，乘除运算符具有比加减运算符更高的优先级。</p> <div class="language- extra-class"><pre class="language-text"><code>类别 	运算符 	结合性 
后缀 	() [] -&gt; . ++ - -  	从左到右 
一元 	+ - ! ~ ++ - - (type)* &amp; sizeof 	从右到左 
乘除 	* / % 	从左到右 
加减 	+ - 	从左到右 
移位 	&lt;&lt; &gt;&gt; 	从左到右 
关系 	&lt; &lt;= &gt; &gt;= 	从左到右 
相等 	== != 	从左到右 
位与 AND 	&amp; 	从左到右 
位异或 XOR 	^ 	从左到右 
位或 OR 	| 	从左到右 
逻辑与 AND 	&amp;&amp; 	从左到右 
逻辑或 OR 	|| 	从左到右 
条件 	?: 	从右到左 
赋值 	= += -= *= /= %=&gt;&gt;= &lt;&lt;= &amp;= ^= |= 	从右到左 
逗号 	, 	从左到右 
</code></pre></div><blockquote><p>具有较高优先级的运算符出现在表格的上面，具有较低优先级的运算符出现在表格的下面。</p></blockquote> <h2 id="c-判断"><a href="#c-判断" class="header-anchor">#</a> C++ 判断</h2> <blockquote><p>判断结构要求程序员指定一个或多个要评估或测试的条件，以及条件为真时要执行的语句（必需的）和条件为假时要执行的语句（可选的）。</p></blockquote> <p><strong>判断语句</strong></p> <table><thead><tr><th style="text-align:left;">语句</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;">if 语句</td> <td style="text-align:left;">一个 if 语句 由一个布尔表达式后跟一个或多个语句组成。</td></tr> <tr><td style="text-align:left;">if...else 语句</td> <td style="text-align:left;">一个 if 语句 后可跟一个可选的 else 语句，else 语句在布尔表达式为假时执行。</td></tr> <tr><td style="text-align:left;">嵌套 if 语句</td> <td style="text-align:left;">您可以在一个 if 或 else if 语句内使用另一个 if 或 else if 语句。</td></tr> <tr><td style="text-align:left;">switch 语句</td> <td style="text-align:left;">一个 switch 语句允许测试一个变量等于多个值时的情况。</td></tr> <tr><td style="text-align:left;">嵌套 switch 语句</td> <td style="text-align:left;">您可以在一个 switch 语句内使用另一个 switch 语句。</td></tr></tbody></table> <p><strong>? : 三目运算符</strong>
可以用来替代 if...else 语句。它的一般形式如下：</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>Exp1 <span class="token operator">?</span> Exp2 <span class="token operator">:</span> Exp3<span class="token punctuation">;</span>
</code></pre></div><h2 id="c-函数"><a href="#c-函数" class="header-anchor">#</a> C++ 函数</h2> <blockquote><p>函数是一组一起执行一个任务的语句。每个 C++ 程序都至少有一个函数，即主函数 main() ，所有简单的程序都可以定义其他额外的函数。
您可以把代码划分到不同的函数中。如何划分代码到不同的函数中是由您来决定的，但在逻辑上，划分通常是根据每个函数执行一个特定的任务来进行的。
函数声明告诉编译器函数的名称、返回类型和参数。函数定义提供了函数的实际主体。
C++ 标准库提供了大量的程序可以调用的内置函数。例如，函数 strcat() 用来连接两个字符串，函数 memcpy() 用来复制内存到另一个位置。
函数还有很多叫法，比如方法、子例程或程序，等等。</p></blockquote> <p><strong>定义函数</strong></p> <div class="language- extra-class"><pre class="language-text"><code>return_type function_name( parameter list )
{
   body of the function
}
</code></pre></div><ul><li>返回类型：一个函数可以返回一个值。return_type 是函数返回的值的数据类型。有些函数执行所需的操作而不返回值，在这种情况下，return_type 是关键字 void。</li> <li>函数名称：这是函数的实际名称。函数名和参数列表一起构成了函数签名。</li> <li>参数：参数就像是占位符。当函数被调用时，您向参数传递一个值，这个值被称为实际参数。参数列表包括函数参数的类型、顺序、数量。参数是可选的，也就是说，函数可能不包含参数。</li> <li>函数主体：函数主体包含一组定义函数执行任务的语句。</li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// 函数返回两个数中较大的那个数</span>
<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
   <span class="token comment">// 局部变量声明</span>
   <span class="token keyword">int</span> result<span class="token punctuation">;</span>
 
   <span class="token keyword">if</span> <span class="token punctuation">(</span>num1 <span class="token operator">&gt;</span> num2<span class="token punctuation">)</span>
      result <span class="token operator">=</span> num1<span class="token punctuation">;</span>
   <span class="token keyword">else</span>
      result <span class="token operator">=</span> num2<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> result<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><p><strong>调用函数</strong></p> <blockquote><p>创建 C++ 函数时，会定义函数做什么，然后通过调用函数来完成已定义的任务。
当程序调用函数时，程序控制权会转移给被调用的函数。被调用的函数执行已定义的任务，当函数的返回语句被执行时，或到达函数的结束括号时，会把程序控制权交还给主程序。
调用函数时，传递所需参数，如果函数返回一个值，则可以存储返回值。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 函数声明</span>
<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 局部变量声明</span>
   <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> ret<span class="token punctuation">;</span>
 
   <span class="token comment">// 调用函数来获取最大值</span>
   ret <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Max value is : &quot;</span> <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 函数返回两个数中较大的那个数</span>
<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
   <span class="token comment">// 局部变量声明</span>
   <span class="token keyword">int</span> result<span class="token punctuation">;</span>
 
   <span class="token keyword">if</span> <span class="token punctuation">(</span>num1 <span class="token operator">&gt;</span> num2<span class="token punctuation">)</span>
      result <span class="token operator">=</span> num1<span class="token punctuation">;</span>
   <span class="token keyword">else</span>
      result <span class="token operator">=</span> num2<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> result<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><p><strong>函数参数</strong></p> <blockquote><p>如果函数要使用参数，则必须声明接受参数值的变量。这些变量称为函数的形式参数。
形式参数就像函数内的其他局部变量，在进入函数时被创建，退出函数时被销毁。</p></blockquote> <p>当调用函数时，有三种向函数传递参数的方式：</p> <table><thead><tr><th style="text-align:left;">调用类型</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;">传值调用</td> <td style="text-align:left;">该方法把参数的实际值赋值给函数的形式参数。在这种情况下，修改函数内的形式参数对实际参数没有影响。</td></tr> <tr><td style="text-align:left;">指针调用</td> <td style="text-align:left;">该方法把参数的地址赋值给形式参数。在函数内，该地址用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。</td></tr> <tr><td style="text-align:left;">引用调用</td> <td style="text-align:left;">该方法把参数的引用赋值给形式参数。在函数内，该引用用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。</td></tr></tbody></table> <blockquote><p>默认情况下，C++ 使用传值调用来传递参数。一般来说，这意味着函数内的代码不能改变用于调用函数的参数。</p></blockquote> <p><strong>参数的默认值</strong></p> <blockquote><p>当您定义一个函数，您可以为参数列表中后边的每一个参数指定默认值。当调用函数时，如果实际参数的值留空，则使用这个默认值。
这是通过在函数定义中使用赋值运算符来为参数赋值的。调用函数时，如果未传递参数的值，则会使用默认值，如果指定了值，则会忽略默认值</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">int</span> result<span class="token punctuation">;</span>
 
  result <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 局部变量声明</span>
   <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> result<span class="token punctuation">;</span>
 
   <span class="token comment">// 调用函数来添加值</span>
   result <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Total value is :&quot;</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 再次调用函数</span>
   result <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Total value is :&quot;</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="c-数组"><a href="#c-数组" class="header-anchor">#</a> C++ 数组</h2> <blockquote><p>C++ 支持数组数据结构，它可以存储一个固定大小的相同类型元素的顺序集合。数组是用来存储一系列数据，但它往往被认为是一系列相同类型的变量。
所有的数组都是由连续的内存位置组成。最低的地址对应第一个元素，最高的地址对应最后一个元素。</p></blockquote> <p><strong>声明数组</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// 声明一个类型为 double 的包含 10 个元素的数组 balance</span>
<span class="token keyword">double</span> balance<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>初始化数组</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">double</span> balance<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1000.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">3.4</span><span class="token punctuation">,</span> <span class="token number">7.0</span><span class="token punctuation">,</span> <span class="token number">50.0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>访问数组元素</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">double</span> salary <span class="token operator">=</span> balance<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>实例</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iomanip&gt;</span></span>
<span class="token keyword">using</span> std<span class="token operator">::</span>setw<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span> n<span class="token punctuation">[</span> <span class="token number">10</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// n 是一个包含 10 个整数的数组</span>
 
   <span class="token comment">// 初始化数组元素          </span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      n<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// 设置元素 i 为 i + 100</span>
   <span class="token punctuation">}</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Element&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span> <span class="token number">13</span> <span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 输出数组中每个元素的值                     </span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span> <span class="token number">7</span> <span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span> j <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span> <span class="token number">13</span> <span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> n<span class="token punctuation">[</span> j <span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>setw() 函数来格式化输出</p></blockquote> <p><strong>多维数组</strong></p> <blockquote><p>C++ 支持多维数组。多维数组最简单的形式是二维数组。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 一个带有 5 行 2 列的数组</span>
   <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 输出数组中每个元素的值                      </span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;a[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;][&quot;</span> <span class="token operator">&lt;&lt;</span> j <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;]: &quot;</span><span class="token punctuation">;</span>
         cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>指向数组的指针</strong></p> <blockquote><p>您可以通过指定不带索引的数组名称来生成一个指向数组中第一个元素的指针。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 带有 5 个元素的双精度浮点型数组</span>
   <span class="token keyword">double</span> balance<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1000.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">3.4</span><span class="token punctuation">,</span> <span class="token number">17.0</span><span class="token punctuation">,</span> <span class="token number">50.0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">double</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
 
   p <span class="token operator">=</span> balance<span class="token punctuation">;</span>
 
   <span class="token comment">// 输出数组中每个元素的值</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;使用指针的数组值 &quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
   <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;*(p + &quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;) : &quot;</span><span class="token punctuation">;</span>
       cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;使用 balance 作为地址的数组值 &quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;*(balance + &quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;) : &quot;</span><span class="token punctuation">;</span>
       cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token punctuation">(</span>balance <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>传递数组给函数</strong></p> <blockquote><p>您可以通过指定不带索引的数组名称来给函数传递一个指向数组的指针。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 函数声明</span>
<span class="token keyword">double</span> <span class="token function">getAverage</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 带有 5 个元素的整型数组</span>
   <span class="token keyword">int</span> balance<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">double</span> avg<span class="token punctuation">;</span>
 
   <span class="token comment">// 传递一个指向数组的指针作为参数</span>
   avg <span class="token operator">=</span> <span class="token function">getAverage</span><span class="token punctuation">(</span> balance<span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
 
   <span class="token comment">// 输出返回值</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;平均值是：&quot;</span> <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
    
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>从函数返回数组</strong></p> <blockquote><p>C++ 允许从函数返回数组。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdlib&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ctime&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 要生成和返回随机数的函数</span>
<span class="token keyword">int</span> <span class="token operator">*</span> <span class="token function">getRandom</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">int</span>  r<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
  <span class="token comment">// 设置种子</span>
  <span class="token function">srand</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span> <span class="token constant">NULL</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    r<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> r<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
  <span class="token keyword">return</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 要调用上面定义函数的主函数</span>
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 一个指向整数的指针</span>
   <span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
 
   p <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;*(p + &quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;) : &quot;</span><span class="token punctuation">;</span>
       cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="c-字符串"><a href="#c-字符串" class="header-anchor">#</a> C++ 字符串</h2> <blockquote><p>C++ 提供了以下两种类型的字符串表示形式：</p> <ul><li>C 风格字符串</li> <li>C++ 引入的 string 类类型</li></ul></blockquote> <p><strong>C 风格字符串</strong>
C 风格的字符串起源于 C 语言，并在 C++ 中继续得到支持。字符串实际上是使用 null 字符 '\0' 终止的一维字符数组。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span> greeting<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'\0'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Greeting message: &quot;</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> greeting <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>不需要把 null 字符放在字符串常量的末尾。C++ 编译器会在初始化数组时，自动把 '\0' 放在字符串的末尾。</p></blockquote> <p><strong>C 操作字符串函数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span> str1<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span> str2<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;World&quot;</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span> str3<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>  len <span class="token punctuation">;</span>
 
   <span class="token comment">// 复制 str1 到 str3</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> str3<span class="token punctuation">,</span> str1<span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;strcpy( str3, str1) : &quot;</span> <span class="token operator">&lt;&lt;</span> str3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 连接 str1 和 str2</span>
   <span class="token function">strcat</span><span class="token punctuation">(</span> str1<span class="token punctuation">,</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;strcat( str1, str2): &quot;</span> <span class="token operator">&lt;&lt;</span> str1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 连接后，str1 的总长度</span>
   len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;strlen(str1) : &quot;</span> <span class="token operator">&lt;&lt;</span> len <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>strcpy(s1, s2):复制字符串 s2 到字符串 s1。
strcat(s1, s2):连接字符串 s2 到字符串 s1 的末尾。
strlen(s1):返回字符串 s1 的长度。
strcmp(s1, s2):如果 s1 和 s2 是相同的，则返回 0；如果 s1&lt;s2 则返回值小于 0；如果 s1&gt;s2 则返回值大于 0。
strchr(s1, ch):返回一个指针，指向字符串 s1 中字符 ch 的第一次出现的位置。
strstr(s1, s2):返回一个指针，指向字符串 s1 中字符串 s2 的第一次出现的位置。</p></blockquote> <p>**C++ 中的string类</p> <blockquote><p>C++ 标准库提供了 string 类类型，支持上述所有的操作，另外还增加了其他更多的功能</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   string str1 <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
   string str2 <span class="token operator">=</span> <span class="token string">&quot;World&quot;</span><span class="token punctuation">;</span>
   string str3<span class="token punctuation">;</span>
   <span class="token keyword">int</span>  len <span class="token punctuation">;</span>
 
   <span class="token comment">// 复制 str1 到 str3</span>
   str3 <span class="token operator">=</span> str1<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;str3 : &quot;</span> <span class="token operator">&lt;&lt;</span> str3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 连接 str1 和 str2</span>
   str3 <span class="token operator">=</span> str1 <span class="token operator">+</span> str2<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;str1 + str2 : &quot;</span> <span class="token operator">&lt;&lt;</span> str3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 连接后，str3 的总长度</span>
   len <span class="token operator">=</span> str3<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;str3.size() :  &quot;</span> <span class="token operator">&lt;&lt;</span> len <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="c-指针"><a href="#c-指针" class="header-anchor">#</a> C++ 指针</h2> <blockquote><p>每一个变量都有一个内存位置，每一个内存位置都定义了可使用连字号（&amp;）运算符访问的地址，它表示了在内存中的一个地址。
指针是一个变量，其值为另一个变量的地址，即，内存位置的直接地址。就像其他变量或常量一样，您必须在使用指针存储其他变量地址之前，对其进行声明。</p></blockquote> <p>指针变量声明的一般形式为：<code>type *var-name</code>;</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span>    <span class="token operator">*</span>ip<span class="token punctuation">;</span>    <span class="token comment">/* 一个整型的指针 */</span>
   <span class="token keyword">double</span> <span class="token operator">*</span>dp<span class="token punctuation">;</span>    <span class="token comment">/* 一个 double 型的指针 */</span>
   <span class="token keyword">float</span>  <span class="token operator">*</span>fp<span class="token punctuation">;</span>    <span class="token comment">/* 一个浮点型的指针 */</span>
   <span class="token keyword">char</span>   <span class="token operator">*</span>ch<span class="token punctuation">;</span>    <span class="token comment">/* 一个字符型的指针 */</span>
   <span class="token keyword">int</span>  var1<span class="token punctuation">;</span>
   <span class="token keyword">char</span> var2<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;var1 变量的地址： &quot;</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>var1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;var2 变量的地址： &quot;</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>var2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

   <span class="token comment">// Value of var variable: 20</span>
   <span class="token comment">// Address stored in ip variable: 0xbfc601ac</span>
   <span class="token comment">// Value of *ip variable: 20</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>C++ Null 指针</strong></p> <blockquote><p>C++ 支持空指针。NULL 指针是一个定义在标准库中的值为零的常量。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span>  <span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;ptr 的值是 &quot;</span> <span class="token operator">&lt;&lt;</span> ptr <span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token comment">// ptr 的值是 0</span>
   <span class="token comment">// if(ptr)     /* 如果 ptr 非空，则完成 */</span>
   <span class="token comment">// if(!ptr)    /* 如果 ptr 为空，则完成 */</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>在变量声明的时候，如果没有确切的地址可以赋值，为指针变量赋一个 NULL 值是一个良好的编程习惯。赋为 NULL 值的指针被称为空指针。</p></blockquote> <p><strong>C++ 指针的算术运算</strong></p> <blockquote><p>可以对指针进行四种算术运算：++、--、+、-
递增一个指针</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> MAX <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span>  var<span class="token punctuation">[</span>MAX<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>  <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
 
   <span class="token comment">// 指针中的数组地址</span>
   ptr <span class="token operator">=</span> var<span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Address of var[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] = &quot;</span><span class="token punctuation">;</span>
      cout <span class="token operator">&lt;&lt;</span> ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of var[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] = &quot;</span><span class="token punctuation">;</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
      <span class="token comment">// 移动到下一个位置</span>
      ptr<span class="token operator">++</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// Address of var[0] = 0xbfa088b0</span>
<span class="token comment">// Value of var[0] = 10</span>
<span class="token comment">// Address of var[1] = 0xbfa088b4</span>
<span class="token comment">// Value of var[1] = 100</span>
<span class="token comment">// Address of var[2] = 0xbfa088b8</span>
<span class="token comment">// Value of var[2] = 200</span>
<span class="token punctuation">}</span>
</code></pre></div><p>递减一个指针</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> MAX <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span>  var<span class="token punctuation">[</span>MAX<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>  <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
 
   <span class="token comment">// 指针中最后一个元素的地址</span>
   ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>var<span class="token punctuation">[</span>MAX<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> MAX<span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Address of var[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] = &quot;</span><span class="token punctuation">;</span>
      cout <span class="token operator">&lt;&lt;</span> ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of var[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] = &quot;</span><span class="token punctuation">;</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
      <span class="token comment">// 移动到下一个位置</span>
      ptr<span class="token operator">--</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// Address of var[3] = 0xbfdb70f8</span>
<span class="token comment">// Value of var[3] = 200</span>
<span class="token comment">// Address of var[2] = 0xbfdb70f4</span>
<span class="token comment">// Value of var[2] = 100</span>
<span class="token comment">// Address of var[1] = 0xbfdb70f0</span>
<span class="token comment">// Value of var[1] = 10</span>
<span class="token punctuation">}</span>
</code></pre></div><p>指针的比较</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> MAX <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span>  var<span class="token punctuation">[</span>MAX<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>  <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
 
   <span class="token comment">// 指针中第一个元素的地址</span>
   ptr <span class="token operator">=</span> var<span class="token punctuation">;</span>
   <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">while</span> <span class="token punctuation">(</span> ptr <span class="token operator">&lt;=</span> <span class="token operator">&amp;</span>var<span class="token punctuation">[</span>MAX <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Address of var[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] = &quot;</span><span class="token punctuation">;</span>
      cout <span class="token operator">&lt;&lt;</span> ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of var[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] = &quot;</span><span class="token punctuation">;</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
      <span class="token comment">// 指向上一个位置</span>
      ptr<span class="token operator">++</span><span class="token punctuation">;</span>
      i<span class="token operator">++</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// Address of var[0] = 0xbfce42d0</span>
<span class="token comment">// Value of var[0] = 10</span>
<span class="token comment">// Address of var[1] = 0xbfce42d4</span>
<span class="token comment">// Value of var[1] = 100</span>
<span class="token comment">// Address of var[2] = 0xbfce42d8</span>
<span class="token comment">// Value of var[2] = 200</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>C++ 指针 vs 数组</strong></p> <blockquote><p>指针和数组之间有着密切的关系。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> MAX <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span>  var<span class="token punctuation">[</span>MAX<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>  <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
 
   <span class="token comment">// 指针中的数组地址</span>
   ptr <span class="token operator">=</span> var<span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;var[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;]的内存地址为 &quot;</span><span class="token punctuation">;</span>
      cout <span class="token operator">&lt;&lt;</span> ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;var[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] 的值为 &quot;</span><span class="token punctuation">;</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
      <span class="token comment">// 移动到下一个位置</span>
      ptr<span class="token operator">++</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// var[0]的内存地址为 0x7fff59707adc</span>
<span class="token comment">// var[0] 的值为 10</span>
<span class="token comment">// var[1]的内存地址为 0x7fff59707ae0</span>
<span class="token comment">// var[1] 的值为 100</span>
<span class="token comment">// var[2]的内存地址为 0x7fff59707ae4</span>
<span class="token comment">// var[2] 的值为 200</span>
<span class="token punctuation">}</span>
</code></pre></div><p>把指针运算符 * 应用到 var 上是完全可以的，但修改 var 的值是非法的。这是因为 var 是一个指向数组开头的常量，不能作为左值。
由于一个数组名对应一个指针常量，只要不改变数组的值，仍然可以用指针形式的表达式。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> MAX <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span>  var<span class="token punctuation">[</span>MAX<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      <span class="token operator">*</span>var <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token comment">// 这是正确的语法</span>
      var<span class="token operator">++</span><span class="token punctuation">;</span>       <span class="token comment">// 这是不正确的</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>C++ 指针数组</strong></p> <blockquote><p>可以定义用来存储指针的数组。</p></blockquote> <p>把 ptr 声明为一个数组，由 MAX 个整数指针组成。因此，ptr 中的每个元素，都是一个指向 int 值的指针。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> MAX <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span>  var<span class="token punctuation">[</span>MAX<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> <span class="token operator">*</span>ptr<span class="token punctuation">[</span>MAX<span class="token punctuation">]</span><span class="token punctuation">;</span>
 
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>var<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 赋值为整数的地址</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of var[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] = &quot;</span><span class="token punctuation">;</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// Value of var[0] = 10</span>
<span class="token comment">// Value of var[1] = 100</span>
<span class="token comment">// Value of var[2] = 200</span>
<span class="token punctuation">}</span>
</code></pre></div><p>用一个指向字符的指针数组来存储一个字符串列表</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> MAX <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
 <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>names<span class="token punctuation">[</span>MAX<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
                   <span class="token string">&quot;Zara Ali&quot;</span><span class="token punctuation">,</span>
                   <span class="token string">&quot;Hina Ali&quot;</span><span class="token punctuation">,</span>
                   <span class="token string">&quot;Nuha Ali&quot;</span><span class="token punctuation">,</span>
                   <span class="token string">&quot;Sara Ali&quot;</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
 
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of names[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] = &quot;</span><span class="token punctuation">;</span>
      cout <span class="token operator">&lt;&lt;</span> names<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// Value of names[0] = Zara Ali</span>
<span class="token comment">// Value of names[1] = Hina Ali</span>
<span class="token comment">// Value of names[2] = Nuha Ali</span>
<span class="token comment">// Value of names[3] = Sara Ali</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>C++ 指向指针的指针</strong></p> <blockquote><p>C++ 允许指向指针的指针。
指向指针的指针是一种多级间接寻址的形式，或者说是一个指针链。通常，一个指针包含一个变量的地址。当我们定义一个指向指针的指针时，第一个指针包含了第二个指针的地址，第二个指针指向包含实际值的位置。</p></blockquote> <p>一个指向指针的指针变量必须如下声明，即在变量名前放置两个星号。例如:<code>int **var;</code>
当一个目标值被一个指针间接指向到另一个指针时，访问这个值需要使用两个星号运算符</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span>  var<span class="token punctuation">;</span>
    <span class="token keyword">int</span>  <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
    <span class="token keyword">int</span>  <span class="token operator">*</span><span class="token operator">*</span>pptr<span class="token punctuation">;</span>
 
    var <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>
 
    <span class="token comment">// 获取 var 的地址</span>
    ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>var<span class="token punctuation">;</span>
 
    <span class="token comment">// 使用运算符 &amp; 获取 ptr 的地址</span>
    pptr <span class="token operator">=</span> <span class="token operator">&amp;</span>ptr<span class="token punctuation">;</span>
 
    <span class="token comment">// 使用 pptr 获取值</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;var 值为 :&quot;</span> <span class="token operator">&lt;&lt;</span> var <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;*ptr 值为:&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;**pptr 值为:&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token operator">*</span>pptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// var 值为 :3000</span>
<span class="token comment">// *ptr 值为:3000</span>
<span class="token comment">// **pptr 值为:3000</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>C++ 传递指针给函数</strong></p> <blockquote><p>通过引用或地址传递参数，使传递的参数在调用函数中被改变。
C++ 允许您传递指针给函数，只需要简单地声明函数参数为指针类型即可。</p></blockquote> <p>我们传递一个无符号的 long 型指针给函数，并在函数内改变这个值</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ctime&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token operator">*</span>par<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">unsigned</span> <span class="token keyword">long</span> sec<span class="token punctuation">;</span>
 
 
   <span class="token function">getSeconds</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>sec <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 输出实际值</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Number of seconds :&quot;</span> <span class="token operator">&lt;&lt;</span> sec <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> <span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token operator">*</span>par<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 获取当前的秒数</span>
   <span class="token operator">*</span>par <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span> <span class="token constant">NULL</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Number of seconds :1294450468</span>
</code></pre></div><p>能接受指针作为参数的函数，也能接受数组作为参数</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 函数声明</span>
<span class="token keyword">double</span> <span class="token function">getAverage</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 带有 5 个元素的整型数组</span>
   <span class="token keyword">int</span> balance<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">double</span> avg<span class="token punctuation">;</span>
 
   <span class="token comment">// 传递一个指向数组的指针作为参数</span>
   avg <span class="token operator">=</span> <span class="token function">getAverage</span><span class="token punctuation">(</span> balance<span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
 
   <span class="token comment">// 输出返回值</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Average value is: &quot;</span> <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
    
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">double</span> <span class="token function">getAverage</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">int</span>    i<span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>       
  <span class="token keyword">double</span> avg<span class="token punctuation">;</span>          
 
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    sum <span class="token operator">+=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
  avg <span class="token operator">=</span> <span class="token keyword">double</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span> <span class="token operator">/</span> size<span class="token punctuation">;</span>
 
  <span class="token keyword">return</span> avg<span class="token punctuation">;</span>

<span class="token comment">// Average value is: 214.4</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>C++ 从函数返回指针</strong></p> <blockquote><p>C++ 允许函数返回指针到局部变量、静态变量和动态内存分配。</p></blockquote> <p>让我们来看下面的函数，它会生成 10 个随机数，并使用表示指针的数组名（即第一个数组元素的地址）来返回它们</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ctime&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdlib&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 要生成和返回随机数的函数</span>
<span class="token keyword">int</span> <span class="token operator">*</span> <span class="token function">getRandom</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">int</span>  r<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
  <span class="token comment">// 设置种子</span>
  <span class="token function">srand</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span> <span class="token constant">NULL</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    r<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> r<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
  <span class="token keyword">return</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 要调用上面定义函数的主函数</span>
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 一个指向整数的指针</span>
   <span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
 
   p <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;*(p + &quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;) : &quot;</span><span class="token punctuation">;</span>
       cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// 624723190</span>
<span class="token comment">// 1468735695</span>
<span class="token comment">// 807113585</span>
<span class="token comment">// 976495677</span>
<span class="token comment">// 613357504</span>
<span class="token comment">// 1377296355</span>
<span class="token comment">// 1530315259</span>
<span class="token comment">// 1778906708</span>
<span class="token comment">// 1820354158</span>
<span class="token comment">// 667126415</span>
<span class="token comment">// *(p + 0) : 624723190</span>
<span class="token comment">// *(p + 1) : 1468735695</span>
<span class="token comment">// *(p + 2) : 807113585</span>
<span class="token comment">// *(p + 3) : 976495677</span>
<span class="token comment">// *(p + 4) : 613357504</span>
<span class="token comment">// *(p + 5) : 1377296355</span>
<span class="token comment">// *(p + 6) : 1530315259</span>
<span class="token comment">// *(p + 7) : 1778906708</span>
<span class="token comment">// *(p + 8) : 1820354158</span>
<span class="token comment">// *(p + 9) : 667126415</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>C++ 不支持在函数外返回局部变量的地址，除非定义局部变量为 static 变量。</p></blockquote> <p>##　C++ 引用</p> <blockquote><p>引用变量是一个别名，也就是说，它是某个已存在变量的另一个名字。一旦把引用初始化为某个变量，就可以使用该引用名称或变量名称来指向变量。</p></blockquote> <p><strong>C++ 引用 vs 指针</strong>
引用很容易与指针混淆，它们之间有三个主要的不同：</p> <ul><li>不存在空引用。引用必须连接到一块合法的内存。</li> <li>一旦引用被初始化为一个对象，就不能被指向到另一个对象。指针可以在任何时候指向到另一个对象。</li> <li>引用必须在创建时被初始化。指针可以在任何时间被初始化。</li></ul> <p><strong>C++ 中创建引用</strong>
在这些声明中，&amp; 读作引用。因此，第一个声明可以读作 &quot;r 是一个初始化为 i 的整型引用&quot;，第二个声明可以读作 &quot;s 是一个初始化为 d 的 double 型引用&quot;。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 声明简单的变量</span>
   <span class="token keyword">int</span>    i<span class="token punctuation">;</span>
   <span class="token keyword">double</span> d<span class="token punctuation">;</span>
 
   <span class="token comment">// 声明引用变量</span>
   <span class="token keyword">int</span><span class="token operator">&amp;</span>    r <span class="token operator">=</span> i<span class="token punctuation">;</span>
   <span class="token keyword">double</span><span class="token operator">&amp;</span> s <span class="token operator">=</span> d<span class="token punctuation">;</span>
   
   i <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of i : &quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of i reference : &quot;</span> <span class="token operator">&lt;&lt;</span> r  <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   d <span class="token operator">=</span> <span class="token number">11.7</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of d : &quot;</span> <span class="token operator">&lt;&lt;</span> d <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of d reference : &quot;</span> <span class="token operator">&lt;&lt;</span> s  <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// Value of i : 5</span>
<span class="token comment">// Value of i reference : 5</span>
<span class="token comment">// Value of d : 11.7</span>
<span class="token comment">// Value of d reference : 11.7</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>把引用作为参数</strong></p> <blockquote><p>C++ 支持把引用作为参数传给函数，这比传一般的参数更安全。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 函数声明</span>
<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 局部变量声明</span>
   <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;交换前，a 的值：&quot;</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;交换前，b 的值：&quot;</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">/* 调用函数来交换值 */</span>
   <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;交换后，a 的值：&quot;</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;交换后，b 的值：&quot;</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 函数定义</span>
<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span> temp<span class="token punctuation">;</span>
   temp <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token comment">/* 保存地址 x 的值 */</span>
   x <span class="token operator">=</span> y<span class="token punctuation">;</span>    <span class="token comment">/* 把 y 赋值给 x */</span>
   y <span class="token operator">=</span> temp<span class="token punctuation">;</span> <span class="token comment">/* 把 x 赋值给 y  */</span>
  
   <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 交换前，a 的值： 100</span>
<span class="token comment">// 交换前，b 的值： 200</span>
<span class="token comment">// 交换后，a 的值： 200</span>
<span class="token comment">// 交换后，b 的值： 100</span>
</code></pre></div><p><strong>把引用作为返回值</strong></p> <blockquote><p>可以从 C++ 函数中返回引用，就像返回其他数据类型一样。
通过使用引用来替代指针，会使 C++ 程序更容易阅读和维护。C++ 函数可以返回一个引用，方式与返回一个指针类似。</p></blockquote> <p>当函数返回一个引用时，则返回一个指向返回值的隐式指针。这样，函数就可以放在赋值语句的左边。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">double</span> vals<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">10.1</span><span class="token punctuation">,</span> <span class="token number">12.6</span><span class="token punctuation">,</span> <span class="token number">33.1</span><span class="token punctuation">,</span> <span class="token number">24.1</span><span class="token punctuation">,</span> <span class="token number">50.0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">double</span><span class="token operator">&amp;</span> <span class="token function">setValues</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">return</span> vals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">// 返回第 i 个元素的引用</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 要调用上面定义函数的主函数</span>
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;改变前的值&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;vals[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] = &quot;</span><span class="token punctuation">;</span>
       cout <span class="token operator">&lt;&lt;</span> vals<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token function">setValues</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">20.23</span><span class="token punctuation">;</span> <span class="token comment">// 改变第 2 个元素</span>
   <span class="token function">setValues</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">70.8</span><span class="token punctuation">;</span>  <span class="token comment">// 改变第 4 个元素</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;改变后的值&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;vals[&quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;] = &quot;</span><span class="token punctuation">;</span>
       cout <span class="token operator">&lt;&lt;</span> vals<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 改变前的值</span>
<span class="token comment">// vals[0] = 10.1</span>
<span class="token comment">// vals[1] = 12.6</span>
<span class="token comment">// vals[2] = 33.1</span>
<span class="token comment">// vals[3] = 24.1</span>
<span class="token comment">// vals[4] = 50</span>
<span class="token comment">// 改变后的值</span>
<span class="token comment">// vals[0] = 10.1</span>
<span class="token comment">// vals[1] = 20.23</span>
<span class="token comment">// vals[2] = 33.1</span>
<span class="token comment">// vals[3] = 70.8</span>
<span class="token comment">// vals[4] = 50</span>
</code></pre></div><p>当返回一个引用时，要注意被引用的对象不能超出作用域。所以返回一个对局部变量的引用是不合法的，但是，可以返回一个对静态变量的引用。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">int</span> q<span class="token punctuation">;</span>
   <span class="token comment">//! return q; // 在编译时发生错误</span>
   <span class="token keyword">static</span> <span class="token keyword">int</span> x<span class="token punctuation">;</span>
   <span class="token keyword">return</span> x<span class="token punctuation">;</span>     <span class="token comment">// 安全，x 在函数作用域外依然是有效的</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="c-日期-时间"><a href="#c-日期-时间" class="header-anchor">#</a> C++ 日期 &amp; 时间</h2> <blockquote><p>C++ 标准库没有提供所谓的日期类型。C++ 继承了 C 语言用于日期和时间操作的结构和函数。为了使用日期和时间相关的函数和结构，需要在 C++ 程序中引用 <code>&lt;ctime&gt;</code> 头文件。
有四个与时间相关的类型：clock_t、time_t、size_t 和 tm。类型 clock_t、size_t 和 time_t 能够把系统时间和日期表示为某种整数。</p></blockquote> <p>结构类型 tm 把日期和时间以 C 结构的形式保存，tm 结构的定义如下：</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">struct</span> <span class="token class-name">tm</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> tm_sec<span class="token punctuation">;</span>   <span class="token comment">// 秒，正常范围从 0 到 59，但允许至 61</span>
  <span class="token keyword">int</span> tm_min<span class="token punctuation">;</span>   <span class="token comment">// 分，范围从 0 到 59</span>
  <span class="token keyword">int</span> tm_hour<span class="token punctuation">;</span>  <span class="token comment">// 小时，范围从 0 到 23</span>
  <span class="token keyword">int</span> tm_mday<span class="token punctuation">;</span>  <span class="token comment">// 一月中的第几天，范围从 1 到 31</span>
  <span class="token keyword">int</span> tm_mon<span class="token punctuation">;</span>   <span class="token comment">// 月，范围从 0 到 11</span>
  <span class="token keyword">int</span> tm_year<span class="token punctuation">;</span>  <span class="token comment">// 自 1900 年起的年数</span>
  <span class="token keyword">int</span> tm_wday<span class="token punctuation">;</span>  <span class="token comment">// 一周中的第几天，范围从 0 到 6，从星期日算起</span>
  <span class="token keyword">int</span> tm_yday<span class="token punctuation">;</span>  <span class="token comment">// 一年中的第几天，范围从 0 到 365，从 1 月 1 日算起</span>
  <span class="token keyword">int</span> tm_isdst<span class="token punctuation">;</span> <span class="token comment">// 夏令时</span>
<span class="token punctuation">}</span>
<span class="token comment">// 本地日期和时间：Sat Jan  8 20:07:41 2011</span>
<span class="token comment">// UTC 日期和时间：Sun Jan  9 03:07:41 2011</span>
</code></pre></div><p><strong>当前日期和时间</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ctime&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 基于当前系统的当前日期/时间</span>
   time_t now <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token comment">// 把 now 转换为字符串形式</span>
   <span class="token keyword">char</span><span class="token operator">*</span> dt <span class="token operator">=</span> <span class="token function">ctime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;本地日期和时间：&quot;</span> <span class="token operator">&lt;&lt;</span> dt <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 把 now 转换为 tm 结构</span>
   tm <span class="token operator">*</span>gmtm <span class="token operator">=</span> <span class="token function">gmtime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
   dt <span class="token operator">=</span> <span class="token function">asctime</span><span class="token punctuation">(</span>gmtm<span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;UTC 日期和时间：&quot;</span><span class="token operator">&lt;&lt;</span> dt <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>使用结构 tm 格式化时间</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ctime&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 基于当前系统的当前日期/时间</span>
   time_t now <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;1970 到目前经过秒数:&quot;</span> <span class="token operator">&lt;&lt;</span> now <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   tm <span class="token operator">*</span>ltm <span class="token operator">=</span> <span class="token function">localtime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 输出 tm 结构的各个组成部分</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;年: &quot;</span><span class="token operator">&lt;&lt;</span> <span class="token number">1900</span> <span class="token operator">+</span> ltm<span class="token operator">-&gt;</span>tm_year <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;月: &quot;</span><span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">+</span> ltm<span class="token operator">-&gt;</span>tm_mon<span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;日: &quot;</span><span class="token operator">&lt;&lt;</span>  ltm<span class="token operator">-&gt;</span>tm_mday <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;时间: &quot;</span><span class="token operator">&lt;&lt;</span> ltm<span class="token operator">-&gt;</span>tm_hour <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;:&quot;</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> ltm<span class="token operator">-&gt;</span>tm_min <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;:&quot;</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> ltm<span class="token operator">-&gt;</span>tm_sec <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

##　C<span class="token operator">++</span> 日期 <span class="token operator">&amp;</span> 时间
<span class="token operator">&gt;</span> C<span class="token operator">++</span> 标准库没有提供所谓的日期类型。C<span class="token operator">++</span> 继承了 C 语言用于日期和时间操作的结构和函数。为了使用日期和时间相关的函数和结构，需要在 C<span class="token operator">++</span> 程序中引用 `<span class="token operator">&lt;</span>ctime<span class="token operator">&gt;</span>` 头文件。
<span class="token operator">&gt;</span>
<span class="token operator">&gt;</span> 有四个与时间相关的类型：clock_t、time_t、size_t 和 tm。类型 clock_t、size_t 和 time_t 能够把系统时间和日期表示为某种整数。

结构类型 tm 把日期和时间以 C 结构的形式保存，tm 结构的定义如下：

```cpp
<span class="token keyword">struct</span> <span class="token class-name">tm</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> tm_sec<span class="token punctuation">;</span>   <span class="token comment">// 秒，正常范围从 0 到 59，但允许至 61</span>
  <span class="token keyword">int</span> tm_min<span class="token punctuation">;</span>   <span class="token comment">// 分，范围从 0 到 59</span>
  <span class="token keyword">int</span> tm_hour<span class="token punctuation">;</span>  <span class="token comment">// 小时，范围从 0 到 23</span>
  <span class="token keyword">int</span> tm_mday<span class="token punctuation">;</span>  <span class="token comment">// 一月中的第几天，范围从 1 到 31</span>
  <span class="token keyword">int</span> tm_mon<span class="token punctuation">;</span>   <span class="token comment">// 月，范围从 0 到 11</span>
  <span class="token keyword">int</span> tm_year<span class="token punctuation">;</span>  <span class="token comment">// 自 1900 年起的年数</span>
  <span class="token keyword">int</span> tm_wday<span class="token punctuation">;</span>  <span class="token comment">// 一周中的第几天，范围从 0 到 6，从星期日算起</span>
  <span class="token keyword">int</span> tm_yday<span class="token punctuation">;</span>  <span class="token comment">// 一年中的第几天，范围从 0 到 365，从 1 月 1 日算起</span>
  <span class="token keyword">int</span> tm_isdst<span class="token punctuation">;</span> <span class="token comment">// 夏令时</span>
<span class="token punctuation">}</span>
<span class="token comment">// 本地日期和时间：Sat Jan  8 20:07:41 2011</span>
<span class="token comment">// UTC 日期和时间：Sun Jan  9 03:07:41 2011</span>
</code></pre></div><p><strong>当前日期和时间</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ctime&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 基于当前系统的当前日期/时间</span>
   time_t now <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token comment">// 把 now 转换为字符串形式</span>
   <span class="token keyword">char</span><span class="token operator">*</span> dt <span class="token operator">=</span> <span class="token function">ctime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;本地日期和时间：&quot;</span> <span class="token operator">&lt;&lt;</span> dt <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 把 now 转换为 tm 结构</span>
   tm <span class="token operator">*</span>gmtm <span class="token operator">=</span> <span class="token function">gmtime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
   dt <span class="token operator">=</span> <span class="token function">asctime</span><span class="token punctuation">(</span>gmtm<span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;UTC 日期和时间：&quot;</span><span class="token operator">&lt;&lt;</span> dt <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>使用结构 tm 格式化时间</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ctime&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// 基于当前系统的当前日期/时间</span>
   time_t now <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;1970 到目前经过秒数:&quot;</span> <span class="token operator">&lt;&lt;</span> now <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   tm <span class="token operator">*</span>ltm <span class="token operator">=</span> <span class="token function">localtime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 输出 tm 结构的各个组成部分</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;年: &quot;</span><span class="token operator">&lt;&lt;</span> <span class="token number">1900</span> <span class="token operator">+</span> ltm<span class="token operator">-&gt;</span>tm_year <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;月: &quot;</span><span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">+</span> ltm<span class="token operator">-&gt;</span>tm_mon<span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;日: &quot;</span><span class="token operator">&lt;&lt;</span>  ltm<span class="token operator">-&gt;</span>tm_mday <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;时间: &quot;</span><span class="token operator">&lt;&lt;</span> ltm<span class="token operator">-&gt;</span>tm_hour <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;:&quot;</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> ltm<span class="token operator">-&gt;</span>tm_min <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;:&quot;</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> ltm<span class="token operator">-&gt;</span>tm_sec <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token comment">// 1970 到目前时间:1503564157</span>
<span class="token comment">// 年: 2017</span>
<span class="token comment">// 月: 8</span>
<span class="token comment">// 日: 24</span>
<span class="token comment">// 时间: 16:42:37u</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>time() 函数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>

<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  time_t seconds<span class="token punctuation">;</span>

  seconds <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;自 1970-01-01 起的小时数 = %ld\n&quot;</span><span class="token punctuation">,</span> seconds<span class="token operator">/</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>自 1970-01-01 起的小时数 = 373711</p></blockquote> <p><strong>ctime() 函数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   time_t curtime<span class="token punctuation">;</span>
 
   <span class="token function">time</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>curtime<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间 = %s&quot;</span><span class="token punctuation">,</span> <span class="token function">ctime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>curtime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>当前时间 = Mon Aug 13 08:23:14 2012</p></blockquote> <p><strong>localtime() 函数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   time_t rawtime<span class="token punctuation">;</span>
   <span class="token keyword">struct</span> <span class="token class-name">tm</span> <span class="token operator">*</span>info<span class="token punctuation">;</span>
   <span class="token keyword">char</span> buffer<span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
   <span class="token function">time</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>rawtime <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   info <span class="token operator">=</span> <span class="token function">localtime</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>rawtime <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;当前的本地时间和日期：%s&quot;</span><span class="token punctuation">,</span> <span class="token function">asctime</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>当前的本地时间和日期：Thu Aug 23 09:12:05 2012</p></blockquote> <p><strong>clock() 函数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   clock_t start_t<span class="token punctuation">,</span> end_t<span class="token punctuation">;</span>
   <span class="token keyword">double</span> total_t<span class="token punctuation">;</span>
   <span class="token keyword">int</span> i<span class="token punctuation">;</span>
 
   start_t <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;程序启动，start_t = %ld\n&quot;</span><span class="token punctuation">,</span> start_t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;开始一个大循环，start_t = %ld\n&quot;</span><span class="token punctuation">,</span> start_t<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token number">10000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
   <span class="token punctuation">}</span>
   end_t <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;大循环结束，end_t = %ld\n&quot;</span><span class="token punctuation">,</span> end_t<span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   total_t <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">(</span>end_t <span class="token operator">-</span> start_t<span class="token punctuation">)</span> <span class="token operator">/</span> CLOCKS_PER_SEC<span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;CPU 占用的总时间：%f\n&quot;</span><span class="token punctuation">,</span> total_t  <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;程序退出...\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>程序启动，start_t = 2614
开始一个大循环，start_t = 2614
大循环结束，end_t = 28021
CPU 占用的总时间：0.025407
程序退出...</p></blockquote> <p><strong>asctime() 函数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">struct</span> <span class="token class-name">tm</span> t<span class="token punctuation">;</span>

   t<span class="token punctuation">.</span>tm_sec    <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
   t<span class="token punctuation">.</span>tm_min    <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
   t<span class="token punctuation">.</span>tm_hour   <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
   t<span class="token punctuation">.</span>tm_mday   <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>
   t<span class="token punctuation">.</span>tm_mon    <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
   t<span class="token punctuation">.</span>tm_year   <span class="token operator">=</span> <span class="token number">89</span><span class="token punctuation">;</span>
   t<span class="token punctuation">.</span>tm_wday   <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

   <span class="token function">puts</span><span class="token punctuation">(</span><span class="token function">asctime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Sat Mar 25 06:10:10 1989</p></blockquote> <p><strong>gmtime() 函数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
 
<span class="token macro property">#<span class="token directive keyword">define</span> BST (+1)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> CCT (+8)</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
 
   time_t rawtime<span class="token punctuation">;</span>
   <span class="token keyword">struct</span> <span class="token class-name">tm</span> <span class="token operator">*</span>info<span class="token punctuation">;</span>
 
   <span class="token function">time</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rawtime<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">/* 获取 GMT 时间 */</span>
   info <span class="token operator">=</span> <span class="token function">gmtime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rawtime <span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;当前的世界时钟：\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;伦敦：%2d:%02d\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>info<span class="token operator">-&gt;</span>tm_hour<span class="token operator">+</span>BST<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">24</span><span class="token punctuation">,</span> info<span class="token operator">-&gt;</span>tm_min<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;中国：%2d:%02d\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>info<span class="token operator">-&gt;</span>tm_hour<span class="token operator">+</span>CCT<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">24</span><span class="token punctuation">,</span> info<span class="token operator">-&gt;</span>tm_min<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>当前的世界时钟：
伦敦：14:10
中国：21:10</p></blockquote> <p><strong>mktime() 函数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">/* 输入日期判断是周几 */</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span>      </span><span class="token comment">/* printf, scanf */</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span>       </span><span class="token comment">/* time_t, struct tm, time, mktime */</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    time_t rawtime<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">tm</span> <span class="token operator">*</span> timeinfo<span class="token punctuation">;</span>
    <span class="token keyword">int</span> year<span class="token punctuation">,</span> month <span class="token punctuation">,</span>day<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> weekday<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;周日&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周一&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;周二&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周三&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;周四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周五&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周六&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 
    <span class="token comment">/* 用户输入日期 */</span>
    printf <span class="token punctuation">(</span><span class="token string">&quot;年: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span> scanf <span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>year<span class="token punctuation">)</span><span class="token punctuation">;</span>
    printf <span class="token punctuation">(</span><span class="token string">&quot;月: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span> scanf <span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>month<span class="token punctuation">)</span><span class="token punctuation">;</span>
    printf <span class="token punctuation">(</span><span class="token string">&quot;日: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span> scanf <span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token comment">/* 获取当前时间信息，并修改用户输入的输入信息 */</span>
    time <span class="token punctuation">(</span> <span class="token operator">&amp;</span>rawtime <span class="token punctuation">)</span><span class="token punctuation">;</span>
    timeinfo <span class="token operator">=</span> localtime <span class="token punctuation">(</span> <span class="token operator">&amp;</span>rawtime <span class="token punctuation">)</span><span class="token punctuation">;</span>
    timeinfo<span class="token operator">-&gt;</span>tm_year <span class="token operator">=</span> year <span class="token operator">-</span> <span class="token number">1900</span><span class="token punctuation">;</span>
    timeinfo<span class="token operator">-&gt;</span>tm_mon <span class="token operator">=</span> month <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    timeinfo<span class="token operator">-&gt;</span>tm_mday <span class="token operator">=</span> day<span class="token punctuation">;</span>
 
    <span class="token comment">/* 调用 mktime: timeinfo-&gt;tm_wday  */</span>
    mktime <span class="token punctuation">(</span> timeinfo <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    printf <span class="token punctuation">(</span><span class="token string">&quot;那一天是：%s\n&quot;</span><span class="token punctuation">,</span> weekday<span class="token punctuation">[</span>timeinfo<span class="token operator">-&gt;</span>tm_wday<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>	
</code></pre></div><blockquote><p>年: 2018
月: 7
日: 26
那一天是：周四</p></blockquote> <p><strong>difftime() 函数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">ifdef</span> _WIN32</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;Windows.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">else</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   time_t start_t<span class="token punctuation">,</span> end_t<span class="token punctuation">;</span>
   <span class="token keyword">double</span> diff_t<span class="token punctuation">;</span>
 
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;程序启动...\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">time</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>start_t<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;休眠 5 秒...\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token function">time</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>end_t<span class="token punctuation">)</span><span class="token punctuation">;</span>
   diff_t <span class="token operator">=</span> <span class="token function">difftime</span><span class="token punctuation">(</span>end_t<span class="token punctuation">,</span> start_t<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;执行时间 = %f\n&quot;</span><span class="token punctuation">,</span> diff_t<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;程序退出...\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>	
</code></pre></div><blockquote><p>程序启动...
休眠 5 秒...
执行时间 = 5.000000
程序退出...</p></blockquote> <p><strong>strftime() 函数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>

<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   time_t rawtime<span class="token punctuation">;</span>
   <span class="token keyword">struct</span> <span class="token class-name">tm</span> <span class="token operator">*</span>info<span class="token punctuation">;</span>
   <span class="token keyword">char</span> buffer<span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

   <span class="token function">time</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>rawtime <span class="token punctuation">)</span><span class="token punctuation">;</span>

   info <span class="token operator">=</span> <span class="token function">localtime</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>rawtime <span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token function">strftime</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;格式化的日期 &amp; 时间 : |%s|\n&quot;</span><span class="token punctuation">,</span> buffer <span class="token punctuation">)</span><span class="token punctuation">;</span>
  
   <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>格式化的日期 &amp; 时间 : |2018-09-19 08:59:07|</p></blockquote> <h2 id="c-基本的输入输出"><a href="#c-基本的输入输出" class="header-anchor">#</a> C++ 基本的输入输出</h2> <blockquote><p>C++ 标准库提供了一组丰富的输入/输出功能，我们将在后续的章节进行介绍。本章将讨论 C++ 编程中最基本和最常见的 I/O 操作。</p> <p>C++ 的 I/O 发生在流中，流是字节序列。如果字节流是从设备（如键盘、磁盘驱动器、网络连接等）流向内存，这叫做<strong>输入操作</strong>。如果字节流是从内存流向设备（如显示屏、打印机、磁盘驱动器、网络连接等），这叫做<strong>输出操作</strong>。</p></blockquote> <p><strong>I/O 库头文件</strong></p> <p><strong>标准输出流（cout）</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Hello C++&quot;</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of str is : &quot;</span> <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Value of str is : Hello C++Value of str is : Hello C++</p></blockquote> <p><strong>标准输入流（cin）</strong></p> <blockquote><p>预定义的对象 <strong>cin</strong> 是 <strong>iostream</strong> 类的一个实例。cin 对象附属到标准输入设备，通常是键盘。<strong>cin</strong> 是与流提取运算符 &gt;&gt; 结合使用的</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;请输入您的名称： &quot;</span><span class="token punctuation">;</span>
   cin <span class="token operator">&gt;&gt;</span> name<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;您的名称是： &quot;</span> <span class="token operator">&lt;&lt;</span> name <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>请输入您的名称： cplusplus
您的名称是： cplusplus</p></blockquote> <p><strong>标准错误流（cerr）</strong></p> <blockquote><p>预定义的对象 <strong>cerr</strong> 是 <strong>iostream</strong> 类的一个实例。cerr 对象附属到标准错误设备，通常也是显示屏，但是 <strong>cerr</strong> 对象是非缓冲的，且每个流插入到 cerr 都会立即输出。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Unable to read....&quot;</span><span class="token punctuation">;</span>
 
   cerr <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Error message : &quot;</span> <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>`
</code></pre></div><blockquote><p>Error message : Unable to read....</p></blockquote> <p><strong>标准日志流（clog）</strong></p> <blockquote><p>预定义的对象 <strong>clog</strong> 是 <strong>iostream</strong> 类的一个实例。clog 对象附属到标准错误设备，通常也是显示屏，但是 <strong>clog</strong> 对象是缓冲的。这意味着每个流插入到 clog 都会先存储在缓冲在，直到缓冲填满或者缓冲区刷新时才会输出。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Unable to read....&quot;</span><span class="token punctuation">;</span>
 
   clog <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Error message : &quot;</span> <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Error message : Unable to read....</p></blockquote> <h2 id="c-数据结构"><a href="#c-数据结构" class="header-anchor">#</a> C++ 数据结构</h2> <blockquote><p>C/C++ 数组允许定义可存储相同类型数据项的变量，但是<strong>结构</strong>是 C++ 中另一种用户自定义的可用的数据类型，它允许您存储不同类型的数据项。</p></blockquote> <p><strong>定义结构</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">struct</span> <span class="token class-name">Books</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span>  title<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  author<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  subject<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>   book_id<span class="token punctuation">;</span>
<span class="token punctuation">}</span> book<span class="token punctuation">;</span>
</code></pre></div><p><strong>访问结构成员</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 声明一个结构体类型 Books </span>
<span class="token keyword">struct</span> <span class="token class-name">Books</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span>  title<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  author<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  subject<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>   book_id<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Books Book1<span class="token punctuation">;</span>        <span class="token comment">// 定义结构体类型 Books 的变量 Book1</span>
   Books Book2<span class="token punctuation">;</span>        <span class="token comment">// 定义结构体类型 Books 的变量 Book2</span>
 
   <span class="token comment">// Book1 详述</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token string">&quot;C++ 教程&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1<span class="token punctuation">.</span>author<span class="token punctuation">,</span> <span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1<span class="token punctuation">.</span>subject<span class="token punctuation">,</span> <span class="token string">&quot;编程语言&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Book1<span class="token punctuation">.</span>book_id <span class="token operator">=</span> <span class="token number">12345</span><span class="token punctuation">;</span>
 
   <span class="token comment">// Book2 详述</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book2<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token string">&quot;CSS 教程&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book2<span class="token punctuation">.</span>author<span class="token punctuation">,</span> <span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book2<span class="token punctuation">.</span>subject<span class="token punctuation">,</span> <span class="token string">&quot;前端技术&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Book2<span class="token punctuation">.</span>book_id <span class="token operator">=</span> <span class="token number">12346</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 输出 Book1 信息</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;第一本书标题 : &quot;</span> <span class="token operator">&lt;&lt;</span> Book1<span class="token punctuation">.</span>title <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;第一本书作者 : &quot;</span> <span class="token operator">&lt;&lt;</span> Book1<span class="token punctuation">.</span>author <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;第一本书类目 : &quot;</span> <span class="token operator">&lt;&lt;</span> Book1<span class="token punctuation">.</span>subject <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;第一本书 ID : &quot;</span> <span class="token operator">&lt;&lt;</span> Book1<span class="token punctuation">.</span>book_id <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 输出 Book2 信息</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;第二本书标题 : &quot;</span> <span class="token operator">&lt;&lt;</span> Book2<span class="token punctuation">.</span>title <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;第二本书作者 : &quot;</span> <span class="token operator">&lt;&lt;</span> Book2<span class="token punctuation">.</span>author <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;第二本书类目 : &quot;</span> <span class="token operator">&lt;&lt;</span> Book2<span class="token punctuation">.</span>subject <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;第二本书 ID : &quot;</span> <span class="token operator">&lt;&lt;</span> Book2<span class="token punctuation">.</span>book_id <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>了访问结构的成员，我们使用<strong>成员访问运算符（.）</strong>。成员访问运算符是结构变量名称和我们要访问的结构成员之间的一个句号。</p></blockquote> <blockquote><p>第一本书标题 : C++ 教程
第一本书作者 : Runoob
第一本书类目 : 编程语言
第一本书 ID : 12345
第二本书标题 : CSS 教程
第二本书作者 : Runoob
第二本书类目 : 前端技术
第二本书 ID : 12346</p></blockquote> <p><strong>结构作为函数参数</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">printBook</span><span class="token punctuation">(</span> <span class="token keyword">struct</span> <span class="token class-name">Books</span> book <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// 声明一个结构体类型 Books </span>
<span class="token keyword">struct</span> <span class="token class-name">Books</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span>  title<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  author<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  subject<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>   book_id<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Books Book1<span class="token punctuation">;</span>        <span class="token comment">// 定义结构体类型 Books 的变量 Book1</span>
   Books Book2<span class="token punctuation">;</span>        <span class="token comment">// 定义结构体类型 Books 的变量 Book2</span>
 
    <span class="token comment">// Book1 详述</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token string">&quot;C++ 教程&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1<span class="token punctuation">.</span>author<span class="token punctuation">,</span> <span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1<span class="token punctuation">.</span>subject<span class="token punctuation">,</span> <span class="token string">&quot;编程语言&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Book1<span class="token punctuation">.</span>book_id <span class="token operator">=</span> <span class="token number">12345</span><span class="token punctuation">;</span>
 
   <span class="token comment">// Book2 详述</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book2<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token string">&quot;CSS 教程&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book2<span class="token punctuation">.</span>author<span class="token punctuation">,</span> <span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book2<span class="token punctuation">.</span>subject<span class="token punctuation">,</span> <span class="token string">&quot;前端技术&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Book2<span class="token punctuation">.</span>book_id <span class="token operator">=</span> <span class="token number">12346</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 输出 Book1 信息</span>
   <span class="token function">printBook</span><span class="token punctuation">(</span> Book1 <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 输出 Book2 信息</span>
   <span class="token function">printBook</span><span class="token punctuation">(</span> Book2 <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">printBook</span><span class="token punctuation">(</span> <span class="token keyword">struct</span> <span class="token class-name">Books</span> book <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;书标题 : &quot;</span> <span class="token operator">&lt;&lt;</span> book<span class="token punctuation">.</span>title <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;书作者 : &quot;</span> <span class="token operator">&lt;&lt;</span> book<span class="token punctuation">.</span>author <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;书类目 : &quot;</span> <span class="token operator">&lt;&lt;</span> book<span class="token punctuation">.</span>subject <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;书 ID : &quot;</span> <span class="token operator">&lt;&lt;</span> book<span class="token punctuation">.</span>book_id <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>书标题 : C++ 教程
书作者 : Runoob
书类目 : 编程语言
书 ID : 12345
书标题 : CSS 教程
书作者 : Runoob
书类目 : 前端技术
书 ID : 12346</p></blockquote> <p><strong>指向结构的指针</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">printBook</span><span class="token punctuation">(</span> <span class="token keyword">struct</span> <span class="token class-name">Books</span> <span class="token operator">*</span>book <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">struct</span> <span class="token class-name">Books</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span>  title<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  author<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  subject<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>   book_id<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Books Book1<span class="token punctuation">;</span>        <span class="token comment">// 定义结构体类型 Books 的变量 Book1</span>
   Books Book2<span class="token punctuation">;</span>        <span class="token comment">// 定义结构体类型 Books 的变量 Book2</span>
 
    <span class="token comment">// Book1 详述</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token string">&quot;C++ 教程&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1<span class="token punctuation">.</span>author<span class="token punctuation">,</span> <span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book1<span class="token punctuation">.</span>subject<span class="token punctuation">,</span> <span class="token string">&quot;编程语言&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Book1<span class="token punctuation">.</span>book_id <span class="token operator">=</span> <span class="token number">12345</span><span class="token punctuation">;</span>
 
   <span class="token comment">// Book2 详述</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book2<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token string">&quot;CSS 教程&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book2<span class="token punctuation">.</span>author<span class="token punctuation">,</span> <span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">strcpy</span><span class="token punctuation">(</span> Book2<span class="token punctuation">.</span>subject<span class="token punctuation">,</span> <span class="token string">&quot;前端技术&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Book2<span class="token punctuation">.</span>book_id <span class="token operator">=</span> <span class="token number">12346</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 通过传 Book1 的地址来输出 Book1 信息</span>
   <span class="token function">printBook</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>Book1 <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 通过传 Book2 的地址来输出 Book2 信息</span>
   <span class="token function">printBook</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>Book2 <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 该函数以结构指针作为参数</span>
<span class="token keyword">void</span> <span class="token function">printBook</span><span class="token punctuation">(</span> <span class="token keyword">struct</span> <span class="token class-name">Books</span> <span class="token operator">*</span>book <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;书标题  : &quot;</span> <span class="token operator">&lt;&lt;</span> book<span class="token operator">-&gt;</span>title <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;书作者 : &quot;</span> <span class="token operator">&lt;&lt;</span> book<span class="token operator">-&gt;</span>author <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;书类目 : &quot;</span> <span class="token operator">&lt;&lt;</span> book<span class="token operator">-&gt;</span>subject <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;书 ID : &quot;</span> <span class="token operator">&lt;&lt;</span> book<span class="token operator">-&gt;</span>book_id <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>书标题  : C++ 教程
书作者 : Runoob
书类目 : 编程语言
书 ID : 12345
书标题  : CSS 教程
书作者 : Runoob
书类目 : 前端技术
书 ID : 12346</p></blockquote> <p><strong>typedef 关键字</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Books</span>
<span class="token punctuation">{</span>
   <span class="token keyword">char</span>  title<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  author<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">char</span>  subject<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span>   book_id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Books<span class="token punctuation">;</span>
</code></pre></div><p>现在，您可以直接使用 <em>Books</em> 来定义 <em>Books</em> 类型的变量，而不需要使用 struct 关键字。下面是实例：</p> <div class="language- extra-class"><pre class="language-text"><code>Books Book1, Book2;
</code></pre></div><p>您可以使用 <strong>typedef</strong> 关键字来定义非结构类型，如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>typedef long int *pint32;
 
pint32 x, y, z;
</code></pre></div><p>x, y 和 z 都是指向长整型 long int 的指针。</p> <h2 id="c-类-对象"><a href="#c-类-对象" class="header-anchor">#</a> C++ 类 &amp; 对象</h2> <blockquote><p>C++ 在 C 语言的基础上增加了面向对象编程，C++ 支持面向对象程序设计。类是 C++ 的核心特性，通常被称为用户定义的类型。
类用于指定对象的形式，它包含了数据表示法和用于处理数据的方法。类中的数据和方法称为类的成员。函数在一个类中被称为类的成员</p></blockquote> <p><strong>C++ 类定义</strong></p> <blockquote><p>定义一个类，本质上是定义一个数据类型的蓝图。这实际上并没有定义任何数据，但它定义了类的名称意味着什么，也就是说，它定义了类的对象包括了什么，以及可以在这个对象上执行哪些操作。
类定义是以关键字 class 开头，后跟类的名称。类的主体是包含在一对花括号中。类定义后必须跟着一个分号或一个声明列表。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>   <span class="token comment">// 盒子的长度</span>
      <span class="token keyword">double</span> breadth<span class="token punctuation">;</span>  <span class="token comment">// 盒子的宽度</span>
      <span class="token keyword">double</span> height<span class="token punctuation">;</span>   <span class="token comment">// 盒子的高度</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>关键字 public 确定了类成员的访问属性。在类对象作用域内，公共成员在类的外部是可访问的。也可以指定类的成员为 private 或 protected</p></blockquote> <p><strong>定义 C++ 对象</strong></p> <blockquote><p>类提供了对象的蓝图，所以基本上，对象是根据类来创建的。声明类的对象，就像声明基本类型的变量一样。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code>Box Box1<span class="token punctuation">;</span>          <span class="token comment">// 声明 Box1，类型为 Box</span>
Box Box2<span class="token punctuation">;</span>          <span class="token comment">// 声明 Box2，类型为 Box</span>
</code></pre></div><p><strong>访问数据成员</strong></p> <blockquote><p>类的对象的公共数据成员可以使用直接成员访问运算符 (.) 来访问。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>   <span class="token comment">// 长度</span>
      <span class="token keyword">double</span> breadth<span class="token punctuation">;</span>  <span class="token comment">// 宽度</span>
      <span class="token keyword">double</span> height<span class="token punctuation">;</span>   <span class="token comment">// 高度</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Box Box1<span class="token punctuation">;</span>        <span class="token comment">// 声明 Box1，类型为 Box</span>
   Box Box2<span class="token punctuation">;</span>        <span class="token comment">// 声明 Box2，类型为 Box</span>
   <span class="token keyword">double</span> volume <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>     <span class="token comment">// 用于存储体积</span>
 
   <span class="token comment">// box 1 详述</span>
   Box1<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">5.0</span><span class="token punctuation">;</span> 
   Box1<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">6.0</span><span class="token punctuation">;</span> 
   Box1<span class="token punctuation">.</span>breadth <span class="token operator">=</span> <span class="token number">7.0</span><span class="token punctuation">;</span>
 
   <span class="token comment">// box 2 详述</span>
   Box2<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">10.0</span><span class="token punctuation">;</span>
   Box2<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">12.0</span><span class="token punctuation">;</span>
   Box2<span class="token punctuation">.</span>breadth <span class="token operator">=</span> <span class="token number">13.0</span><span class="token punctuation">;</span>
 
   <span class="token comment">// box 1 的体积</span>
   volume <span class="token operator">=</span> Box1<span class="token punctuation">.</span>height <span class="token operator">*</span> Box1<span class="token punctuation">.</span>length <span class="token operator">*</span> Box1<span class="token punctuation">.</span>breadth<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Box1 的体积：&quot;</span> <span class="token operator">&lt;&lt;</span> volume <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token comment">// box 2 的体积</span>
   volume <span class="token operator">=</span> Box2<span class="token punctuation">.</span>height <span class="token operator">*</span> Box2<span class="token punctuation">.</span>length <span class="token operator">*</span> Box2<span class="token punctuation">.</span>breadth<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Box2 的体积：&quot;</span> <span class="token operator">&lt;&lt;</span> volume <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Box1 的体积：210</span>
<span class="token comment">// Box2 的体积：1560</span>
</code></pre></div><blockquote><p>需要注意的是，私有的成员和受保护的成员不能使用直接成员访问运算符 (.) 来直接访问</p></blockquote> <p><strong>类成员函数</strong></p> <blockquote><p>类的成员函数是指那些把定义和原型写在类定义内部的函数，就像类定义中的其他变量一样。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>         <span class="token comment">// 长度</span>
      <span class="token keyword">double</span> breadth<span class="token punctuation">;</span>        <span class="token comment">// 宽度</span>
      <span class="token keyword">double</span> height<span class="token punctuation">;</span>         <span class="token comment">// 高度</span>
 
      <span class="token comment">// 成员函数声明</span>
      <span class="token keyword">double</span> <span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">void</span> <span class="token function">setLength</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">void</span> <span class="token function">setBreadth</span><span class="token punctuation">(</span> <span class="token keyword">double</span> bre <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">void</span> <span class="token function">setHeight</span><span class="token punctuation">(</span> <span class="token keyword">double</span> hei <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 成员函数定义</span>
<span class="token keyword">double</span> Box<span class="token operator">::</span><span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> length <span class="token operator">*</span> breadth <span class="token operator">*</span> height<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> Box<span class="token operator">::</span><span class="token function">setLength</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    length <span class="token operator">=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> Box<span class="token operator">::</span><span class="token function">setBreadth</span><span class="token punctuation">(</span> <span class="token keyword">double</span> bre <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    breadth <span class="token operator">=</span> bre<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> Box<span class="token operator">::</span><span class="token function">setHeight</span><span class="token punctuation">(</span> <span class="token keyword">double</span> hei <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    height <span class="token operator">=</span> hei<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Box Box1<span class="token punctuation">;</span>                <span class="token comment">// 声明 Box1，类型为 Box</span>
   Box Box2<span class="token punctuation">;</span>                <span class="token comment">// 声明 Box2，类型为 Box</span>
   <span class="token keyword">double</span> volume <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>     <span class="token comment">// 用于存储体积</span>
 
   <span class="token comment">// box 1 详述</span>
   Box1<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">6.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box1<span class="token punctuation">.</span><span class="token function">setBreadth</span><span class="token punctuation">(</span><span class="token number">7.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box1<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">5.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// box 2 详述</span>
   Box2<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">12.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box2<span class="token punctuation">.</span><span class="token function">setBreadth</span><span class="token punctuation">(</span><span class="token number">13.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box2<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// box 1 的体积</span>
   volume <span class="token operator">=</span> Box1<span class="token punctuation">.</span><span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Box1 的体积：&quot;</span> <span class="token operator">&lt;&lt;</span> volume <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token comment">// box 2 的体积</span>
   volume <span class="token operator">=</span> Box2<span class="token punctuation">.</span><span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Box2 的体积：&quot;</span> <span class="token operator">&lt;&lt;</span> volume <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Box1 的体积： 210</span>
<span class="token comment">// Box2 的体积： 1560</span>
</code></pre></div><p><strong>类访问修饰符</strong></p> <blockquote><p>类成员可以被定义为 public、private 或 protected。默认情况下是定义为 private。</p></blockquote> <ul><li>公有（public）成员</li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Line</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>
      <span class="token keyword">void</span> <span class="token function">setLength</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">double</span> <span class="token function">getLength</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 成员函数定义</span>
<span class="token keyword">double</span> Line<span class="token operator">::</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> length <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> Line<span class="token operator">::</span><span class="token function">setLength</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    length <span class="token operator">=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Line line<span class="token punctuation">;</span>
 
   <span class="token comment">// 设置长度</span>
   line<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">6.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Length of line : &quot;</span> <span class="token operator">&lt;&lt;</span> line<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 不使用成员函数设置长度</span>
   line<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">10.0</span><span class="token punctuation">;</span> <span class="token comment">// OK: 因为 length 是公有的</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Length of line : &quot;</span> <span class="token operator">&lt;&lt;</span> line<span class="token punctuation">.</span>length <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Length of line : 6</span>
<span class="token comment">// Length of line : 10</span>
</code></pre></div><ul><li>私有（private）成员</li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>
      <span class="token keyword">void</span> <span class="token function">setWidth</span><span class="token punctuation">(</span> <span class="token keyword">double</span> wid <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">double</span> <span class="token function">getWidth</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">double</span> width<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 成员函数定义</span>
<span class="token keyword">double</span> Box<span class="token operator">::</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> width <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> Box<span class="token operator">::</span><span class="token function">setWidth</span><span class="token punctuation">(</span> <span class="token keyword">double</span> wid <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    width <span class="token operator">=</span> wid<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Box box<span class="token punctuation">;</span>
 
   <span class="token comment">// 不使用成员函数设置长度</span>
   box<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">10.0</span><span class="token punctuation">;</span> <span class="token comment">// OK: 因为 length 是公有的</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Length of box : &quot;</span> <span class="token operator">&lt;&lt;</span> box<span class="token punctuation">.</span>length <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 不使用成员函数设置宽度</span>
   <span class="token comment">// box.width = 10.0; // Error: 因为 width 是私有的</span>
   box<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 使用成员函数设置宽度</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Width of box : &quot;</span> <span class="token operator">&lt;&lt;</span> box<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>保护（protected）成员</li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">protected</span><span class="token operator">:</span>
      <span class="token keyword">double</span> width<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">SmallBox</span><span class="token operator">:</span>Box <span class="token comment">// SmallBox 是派生类</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">void</span> <span class="token function">setSmallWidth</span><span class="token punctuation">(</span> <span class="token keyword">double</span> wid <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">double</span> <span class="token function">getSmallWidth</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 子类的成员函数</span>
<span class="token keyword">double</span> SmallBox<span class="token operator">::</span><span class="token function">getSmallWidth</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> width <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> SmallBox<span class="token operator">::</span><span class="token function">setSmallWidth</span><span class="token punctuation">(</span> <span class="token keyword">double</span> wid <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    width <span class="token operator">=</span> wid<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   SmallBox box<span class="token punctuation">;</span>
 
   <span class="token comment">// 使用成员函数设置宽度</span>
   box<span class="token punctuation">.</span><span class="token function">setSmallWidth</span><span class="token punctuation">(</span><span class="token number">5.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Width of box : &quot;</span><span class="token operator">&lt;&lt;</span> box<span class="token punctuation">.</span><span class="token function">getSmallWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>继承中的特点
有public, protected, private三种继承方式，它们相应地改变了基类成员的访问属性。
<ul><li>public 继承：基类 public 成员，protected 成员，private 成员的访问属性在派生类中分别变成：public, protected, private</li> <li>protected 继承：基类 public 成员，protected 成员，private 成员的访问属性在派生类中分别变成：protected, protected, private</li> <li>private 继承：基类 public 成员，protected 成员，private 成员的访问属性在派生类中分别变成：private, private, private</li></ul></li></ul> <p>但无论哪种继承方式，上面两点都没有改变：</p> <ul><li>private 成员只能被本类成员（类内）和友元访问，不能被派生类访问；</li> <li>protected 成员可以被派生类访问。</li> <li>public 继承</li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a<span class="token punctuation">;</span>
  <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    a1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    a2 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    a3 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    a <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment">//正确</span>
    cout <span class="token operator">&lt;&lt;</span> a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//正确</span>
    cout <span class="token operator">&lt;&lt;</span> a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//正确</span>
    cout <span class="token operator">&lt;&lt;</span> a3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//正确</span>
  <span class="token punctuation">}</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a1<span class="token punctuation">;</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a2<span class="token punctuation">;</span>
<span class="token keyword">private</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a3<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token keyword">public</span> A<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a<span class="token punctuation">;</span>
  <span class="token function">B</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a <span class="token operator">=</span> i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确，public成员</span>
    cout <span class="token operator">&lt;&lt;</span> a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确，基类的public成员，在派生类中仍是public成员。</span>
    cout <span class="token operator">&lt;&lt;</span> a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确，基类的protected成员，在派生类中仍是protected可以被派生类访问。</span>
    cout <span class="token operator">&lt;&lt;</span> a3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//错误，基类的private成员不能被派生类访问。</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  B <span class="token function">b</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//正确</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//错误，类外不能访问protected成员</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//错误，类外不能访问private成员</span>
  <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>protected 继承</li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a<span class="token punctuation">;</span>
  <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    a1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    a2 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    a3 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    a <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment">//正确</span>
    cout <span class="token operator">&lt;&lt;</span> a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//正确</span>
    cout <span class="token operator">&lt;&lt;</span> a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//正确</span>
    cout <span class="token operator">&lt;&lt;</span> a3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//正确</span>
  <span class="token punctuation">}</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a1<span class="token punctuation">;</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a2<span class="token punctuation">;</span>
<span class="token keyword">private</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a3<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token keyword">protected</span> A<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a<span class="token punctuation">;</span>
  <span class="token function">B</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a <span class="token operator">=</span> i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确，public成员。</span>
    cout <span class="token operator">&lt;&lt;</span> a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确，基类的public成员，在派生类中变成了protected，可以被派生类访问。</span>
    cout <span class="token operator">&lt;&lt;</span> a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确，基类的protected成员，在派生类中还是protected，可以被派生类访问。</span>
    cout <span class="token operator">&lt;&lt;</span> a3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//错误，基类的private成员不能被派生类访问。</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  B <span class="token function">b</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确。public成员</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>      <span class="token comment">//错误，protected成员不能在类外访问。</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>      <span class="token comment">//错误，protected成员不能在类外访问。</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>      <span class="token comment">//错误，private成员不能在类外访问。</span>
  <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>private 继承</li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a<span class="token punctuation">;</span>
  <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    a1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    a2 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    a3 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    a <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment">//正确</span>
    cout <span class="token operator">&lt;&lt;</span> a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//正确</span>
    cout <span class="token operator">&lt;&lt;</span> a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//正确</span>
    cout <span class="token operator">&lt;&lt;</span> a3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//正确</span>
  <span class="token punctuation">}</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a1<span class="token punctuation">;</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a2<span class="token punctuation">;</span>
<span class="token keyword">private</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a3<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token keyword">private</span> A<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token keyword">int</span> a<span class="token punctuation">;</span>
  <span class="token function">B</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a <span class="token operator">=</span> i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确，public成员。</span>
    cout <span class="token operator">&lt;&lt;</span> a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确，基类public成员,在派生类中变成了private,可以被派生类访问。</span>
    cout <span class="token operator">&lt;&lt;</span> a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确，基类的protected成员，在派生类中变成了private,可以被派生类访问。</span>
    cout <span class="token operator">&lt;&lt;</span> a3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//错误，基类的private成员不能被派生类访问。</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  B <span class="token function">b</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">//正确。public成员</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>      <span class="token comment">//错误，private成员不能在类外访问。</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>      <span class="token comment">//错误, private成员不能在类外访问。</span>
  cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>a3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>      <span class="token comment">//错误，private成员不能在类外访问。</span>
  <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>构造函数 &amp; 析构函数</strong></p> <blockquote><p>类的构造函数是一种特殊的函数，在创建一个新的对象时调用。类的析构函数也是一种特殊的函数，在删除所创建的对象时调用。</p></blockquote> <ul><li>带参数的构造函数</li></ul> <blockquote><p>默认的构造函数没有任何参数，但如果需要，构造函数也可以带有参数。这样在创建对象时就会给对象赋初始值</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Line</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">void</span> <span class="token function">setLength</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">double</span> <span class="token function">getLength</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">Line</span><span class="token punctuation">(</span><span class="token keyword">double</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 这是构造函数</span>
 
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 成员函数定义，包括构造函数</span>
Line<span class="token operator">::</span><span class="token function">Line</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Object is being created, length = &quot;</span> <span class="token operator">&lt;&lt;</span> len <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    length <span class="token operator">=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> Line<span class="token operator">::</span><span class="token function">setLength</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    length <span class="token operator">=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">double</span> Line<span class="token operator">::</span><span class="token function">getLength</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Line <span class="token function">line</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 获取默认设置的长度</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Length of line : &quot;</span> <span class="token operator">&lt;&lt;</span> line<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   <span class="token comment">// 再次设置长度</span>
   line<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">6.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Length of line : &quot;</span> <span class="token operator">&lt;&lt;</span> line<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Object is being created, length = 10</span>
<span class="token comment">// Length of line : 10</span>
<span class="token comment">// Length of line : 6</span>
</code></pre></div><ul><li>类的析构函数</li></ul> <blockquote><p>类的析构函数是类的一种特殊的成员函数，它会在每次删除所创建的对象时执行。</p></blockquote> <blockquote><p>析构函数的名称与类的名称是完全相同的，只是在前面加了个波浪号（~）作为前缀，它不会返回任何值，也不能带有任何参数。析构函数有助于在跳出程序（比如关闭文件、释放内存等）前释放资源。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Line</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">void</span> <span class="token function">setLength</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">double</span> <span class="token function">getLength</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">Line</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 这是构造函数声明</span>
      <span class="token operator">~</span><span class="token function">Line</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 这是析构函数声明</span>
 
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 成员函数定义，包括构造函数</span>
Line<span class="token operator">::</span><span class="token function">Line</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Object is being created&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Line<span class="token operator">::</span><span class="token operator">~</span><span class="token function">Line</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Object is being deleted&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> Line<span class="token operator">::</span><span class="token function">setLength</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    length <span class="token operator">=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">double</span> Line<span class="token operator">::</span><span class="token function">getLength</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Line line<span class="token punctuation">;</span>
 
   <span class="token comment">// 设置长度</span>
   line<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">6.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Length of line : &quot;</span> <span class="token operator">&lt;&lt;</span> line<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Object is being created</span>
<span class="token comment">// Length of line : 6</span>
<span class="token comment">// Object is being deleted</span>
</code></pre></div><p><strong>C++ 拷贝构造函数</strong></p> <blockquote><p>拷贝构造函数，是一种特殊的构造函数，它在创建对象时，是使用同一类中之前创建的对象来初始化新创建的对象。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Line</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">int</span> <span class="token function">getLength</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">Line</span><span class="token punctuation">(</span> <span class="token keyword">int</span> len <span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 简单的构造函数</span>
      <span class="token function">Line</span><span class="token punctuation">(</span> <span class="token keyword">const</span> Line <span class="token operator">&amp;</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 拷贝构造函数</span>
      <span class="token operator">~</span><span class="token function">Line</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">// 析构函数</span>
 
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">int</span> <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 成员函数定义，包括构造函数</span>
Line<span class="token operator">::</span><span class="token function">Line</span><span class="token punctuation">(</span><span class="token keyword">int</span> len<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;调用构造函数&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token comment">// 为指针分配内存</span>
    ptr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>ptr <span class="token operator">=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
Line<span class="token operator">::</span><span class="token function">Line</span><span class="token punctuation">(</span><span class="token keyword">const</span> Line <span class="token operator">&amp;</span>obj<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;调用拷贝构造函数并为指针 ptr 分配内存&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    ptr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token operator">*</span>obj<span class="token punctuation">.</span>ptr<span class="token punctuation">;</span> <span class="token comment">// 拷贝值</span>
<span class="token punctuation">}</span>
 
Line<span class="token operator">::</span><span class="token operator">~</span><span class="token function">Line</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;释放内存&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword">delete</span> ptr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> Line<span class="token operator">::</span><span class="token function">getLength</span><span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span>Line obj<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;line 大小 : &quot;</span> <span class="token operator">&lt;&lt;</span> obj<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Line <span class="token function">line1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   Line line2 <span class="token operator">=</span> line1<span class="token punctuation">;</span> <span class="token comment">// 这里也调用了拷贝构造函数</span>
 
   <span class="token function">display</span><span class="token punctuation">(</span>line1<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">display</span><span class="token punctuation">(</span>line2<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 调用构造函数</span>
<span class="token comment">// 调用拷贝构造函数并为指针 ptr 分配内存</span>
<span class="token comment">// 调用拷贝构造函数并为指针 ptr 分配内存</span>
<span class="token comment">// line 大小 : 10</span>
<span class="token comment">// 释放内存</span>
<span class="token comment">// 调用拷贝构造函数并为指针 ptr 分配内存</span>
<span class="token comment">// line 大小 : 10</span>
<span class="token comment">// 释放内存</span>
<span class="token comment">// 释放内存</span>
<span class="token comment">// 释放内存</span>
</code></pre></div><p><strong>C++ 友元函数</strong></p> <blockquote><p>友元函数可以访问类的 private 和 protected 成员。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">double</span> width<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
   <span class="token keyword">friend</span> <span class="token keyword">void</span> <span class="token function">printWidth</span><span class="token punctuation">(</span> Box box <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">void</span> <span class="token function">setWidth</span><span class="token punctuation">(</span> <span class="token keyword">double</span> wid <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 成员函数定义</span>
<span class="token keyword">void</span> Box<span class="token operator">::</span><span class="token function">setWidth</span><span class="token punctuation">(</span> <span class="token keyword">double</span> wid <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    width <span class="token operator">=</span> wid<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 请注意：printWidth() 不是任何类的成员函数</span>
<span class="token keyword">void</span> <span class="token function">printWidth</span><span class="token punctuation">(</span> Box box <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">/* 因为 printWidth() 是 Box 的友元，它可以直接访问该类的任何成员 */</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Width of box : &quot;</span> <span class="token operator">&lt;&lt;</span> box<span class="token punctuation">.</span>width <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Box box<span class="token punctuation">;</span>
 
   <span class="token comment">// 使用成员函数设置宽度</span>
   box<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token comment">// 使用友元函数输出宽度</span>
   <span class="token function">printWidth</span><span class="token punctuation">(</span> box <span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Width of box : 10</span>
</code></pre></div><p><strong>C++ 内联函数</strong></p> <blockquote><p>通过内联函数，编译器试图在调用函数的地方扩展函数体中的代码。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">Max</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;</span> y<span class="token punctuation">)</span><span class="token operator">?</span> x <span class="token operator">:</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>

   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Max (20,10): &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token function">Max</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Max (0,200): &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token function">Max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Max (100,1010): &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token function">Max</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">1010</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Max (20,10): 20</span>
<span class="token comment">// Max (0,200): 200</span>
<span class="token comment">// Max (100,1010): 1010</span>
</code></pre></div><p><strong>C++ 中的 this 指针</strong></p> <blockquote><p>每个对象都有一个特殊的指针 this，它指向对象本身。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token comment">// 构造函数定义</span>
      <span class="token function">Box</span><span class="token punctuation">(</span><span class="token keyword">double</span> l<span class="token operator">=</span><span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token operator">=</span><span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token keyword">double</span> h<span class="token operator">=</span><span class="token number">2.0</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span><span class="token string">&quot;Constructor called.&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
         length <span class="token operator">=</span> l<span class="token punctuation">;</span>
         breadth <span class="token operator">=</span> b<span class="token punctuation">;</span>
         height <span class="token operator">=</span> h<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">double</span> <span class="token function">Volume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token keyword">return</span> length <span class="token operator">*</span> breadth <span class="token operator">*</span> height<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span>Box box<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">Volume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> box<span class="token punctuation">.</span><span class="token function">Volume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>     <span class="token comment">// Length of a box</span>
      <span class="token keyword">double</span> breadth<span class="token punctuation">;</span>    <span class="token comment">// Breadth of a box</span>
      <span class="token keyword">double</span> height<span class="token punctuation">;</span>     <span class="token comment">// Height of a box</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Box <span class="token function">Box1</span><span class="token punctuation">(</span><span class="token number">3.3</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Declare box1</span>
   Box <span class="token function">Box2</span><span class="token punctuation">(</span><span class="token number">8.5</span><span class="token punctuation">,</span> <span class="token number">6.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Declare box2</span>
 
   <span class="token keyword">if</span><span class="token punctuation">(</span>Box1<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>Box2<span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Box2 is smaller than Box1&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">else</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Box2 is equal to or larger than Box1&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Constructor called.</span>
<span class="token comment">// Constructor called.</span>
<span class="token comment">// Box2 is equal to or larger than Box1</span>
</code></pre></div><p><strong>C++ 中指向类的指针</strong></p> <blockquote><p>指向类的指针方式如同指向结构的指针。实际上，类可以看成是一个带有函数的结构。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token comment">// 构造函数定义</span>
      <span class="token function">Box</span><span class="token punctuation">(</span><span class="token keyword">double</span> l<span class="token operator">=</span><span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token operator">=</span><span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token keyword">double</span> h<span class="token operator">=</span><span class="token number">2.0</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span><span class="token string">&quot;Constructor called.&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
         length <span class="token operator">=</span> l<span class="token punctuation">;</span>
         breadth <span class="token operator">=</span> b<span class="token punctuation">;</span>
         height <span class="token operator">=</span> h<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">double</span> <span class="token function">Volume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token keyword">return</span> length <span class="token operator">*</span> breadth <span class="token operator">*</span> height<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>     <span class="token comment">// Length of a box</span>
      <span class="token keyword">double</span> breadth<span class="token punctuation">;</span>    <span class="token comment">// Breadth of a box</span>
      <span class="token keyword">double</span> height<span class="token punctuation">;</span>     <span class="token comment">// Height of a box</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Box <span class="token function">Box1</span><span class="token punctuation">(</span><span class="token number">3.3</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Declare box1</span>
   Box <span class="token function">Box2</span><span class="token punctuation">(</span><span class="token number">8.5</span><span class="token punctuation">,</span> <span class="token number">6.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Declare box2</span>
   Box <span class="token operator">*</span>ptrBox<span class="token punctuation">;</span>                <span class="token comment">// Declare pointer to a class.</span>

   <span class="token comment">// 保存第一个对象的地址</span>
   ptrBox <span class="token operator">=</span> <span class="token operator">&amp;</span>Box1<span class="token punctuation">;</span>

   <span class="token comment">// 现在尝试使用成员访问运算符来访问成员</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Volume of Box1: &quot;</span> <span class="token operator">&lt;&lt;</span> ptrBox<span class="token operator">-&gt;</span><span class="token function">Volume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

   <span class="token comment">// 保存第二个对象的地址</span>
   ptrBox <span class="token operator">=</span> <span class="token operator">&amp;</span>Box2<span class="token punctuation">;</span>

   <span class="token comment">// 现在尝试使用成员访问运算符来访问成员</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Volume of Box2: &quot;</span> <span class="token operator">&lt;&lt;</span> ptrBox<span class="token operator">-&gt;</span><span class="token function">Volume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
  
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Constructor called.</span>
<span class="token comment">// Constructor called.</span>
<span class="token comment">// Volume of Box1: 5.94</span>
<span class="token comment">// Volume of Box2: 102</span>
</code></pre></div><p><strong>C++ 类的静态成员</strong></p> <blockquote><p>类的数据成员和函数成员都可以被声明为静态的。</p></blockquote> <ul><li>静态成员函数与普通成员函数的区别：
<ul><li>静态成员函数没有 this 指针，只能访问静态成员（包括静态成员变量和静态成员函数）。</li> <li>普通成员函数有 this 指针，可以访问类中的任意成员；而静态成员函数没有 this 指针。</li></ul></li></ul> <div class="language-cpp extra-class"><pre class="language-cpp"><code>
<span class="token macro property">#<span class="token directive keyword">include</span>#i  &lt;iostream&gt;</span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">static</span> <span class="token keyword">int</span> objectCount<span class="token punctuation">;</span>
      <span class="token comment">// 构造函数定义</span>
      <span class="token function">Box</span><span class="token punctuation">(</span><span class="token keyword">double</span> l<span class="token operator">=</span><span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token operator">=</span><span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token keyword">double</span> h<span class="token operator">=</span><span class="token number">2.0</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span><span class="token string">&quot;Constructor called.&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
         length <span class="token operator">=</span> l<span class="token punctuation">;</span>
         breadth <span class="token operator">=</span> b<span class="token punctuation">;</span>
         height <span class="token operator">=</span> h<span class="token punctuation">;</span>
         <span class="token comment">// 每次创建对象时增加 1</span>
         objectCount<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">double</span> <span class="token function">Volume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token keyword">return</span> length <span class="token operator">*</span> breadth <span class="token operator">*</span> height<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token keyword">return</span> objectCount<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>     <span class="token comment">// 长度</span>
      <span class="token keyword">double</span> breadth<span class="token punctuation">;</span>    <span class="token comment">// 宽度</span>
      <span class="token keyword">double</span> height<span class="token punctuation">;</span>     <span class="token comment">// 高度</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 初始化类 Box 的静态成员</span>
<span class="token keyword">int</span> Box<span class="token operator">::</span>objectCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  
   <span class="token comment">// 在创建对象之前输出对象的总数</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Inital Stage Count: &quot;</span> <span class="token operator">&lt;&lt;</span> Box<span class="token operator">::</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   Box <span class="token function">Box1</span><span class="token punctuation">(</span><span class="token number">3.3</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 声明 box1</span>
   Box <span class="token function">Box2</span><span class="token punctuation">(</span><span class="token number">8.5</span><span class="token punctuation">,</span> <span class="token number">6.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 声明 box2</span>
 
   <span class="token comment">// 在创建对象之后输出对象的总数</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Final Stage Count: &quot;</span> <span class="token operator">&lt;&lt;</span> Box<span class="token operator">::</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Inital Stage Count: 0</span>
<span class="token comment">// Constructor called.</span>
<span class="token comment">// Constructor called.</span>
<span class="token comment">// Final Stage Count: 2</span>
</code></pre></div><h2 id="c-继承"><a href="#c-继承" class="header-anchor">#</a> C++ 继承</h2> <blockquote><p>面向对象程序设计中最重要的一个概念是继承。继承允许我们依据另一个类来定义一个类，这使得创建和维护一个应用程序变得更容易。这样做，也达到了重用代码功能和提高执行效率的效果。</p></blockquote> <blockquote><p>当创建一个类时，您不需要重新编写新的数据成员和成员函数，只需指定新建的类继承了一个已有的类的成员即可。这个已有的类称为基类，新建的类称为派生类。</p></blockquote> <blockquote><p>继承代表了 is a 关系。例如，哺乳动物是动物，狗是哺乳动物，因此，狗是动物，等等。</p></blockquote> <p><strong>基类 &amp; 派生类</strong></p> <blockquote><p>一个类可以派生自多个类，这意味着，它可以从多个基类继承数据和函数。定义一个派生类，我们使用一个类派生列表来指定基类</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 基类</span>
<span class="token keyword">class</span> <span class="token class-name">Shape</span> 
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">void</span> <span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token keyword">int</span> w<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         width <span class="token operator">=</span> w<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">void</span> <span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         height <span class="token operator">=</span> h<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token keyword">protected</span><span class="token operator">:</span>
      <span class="token keyword">int</span> width<span class="token punctuation">;</span>
      <span class="token keyword">int</span> height<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 派生类</span>
<span class="token keyword">class</span> <span class="token class-name">Rectangle</span><span class="token operator">:</span> <span class="token keyword">public</span> Shape
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">int</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span> 
         <span class="token keyword">return</span> <span class="token punctuation">(</span>width <span class="token operator">*</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Rectangle Rect<span class="token punctuation">;</span>
 
   Rect<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Rect<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 输出对象的面积</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Total area: &quot;</span> <span class="token operator">&lt;&lt;</span> Rect<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Total area: 35</span>
</code></pre></div><p><strong>访问控制和继承</strong></p> <blockquote><p>派生类可以访问基类中所有的非私有成员。因此基类成员如果不想被派生类的成员函数访问，则应在基类中声明为 private。</p></blockquote> <table><thead><tr><th style="text-align:left;">访问</th> <th style="text-align:left;">public</th> <th style="text-align:left;">proteced</th> <th style="text-align:left;">private</th></tr></thead> <tbody><tr><td style="text-align:left;">同一个类</td> <td style="text-align:left;">yes</td> <td style="text-align:left;">yes</td> <td style="text-align:left;">yes</td></tr> <tr><td style="text-align:left;">派生类</td> <td style="text-align:left;">yes</td> <td style="text-align:left;">yes</td> <td style="text-align:left;">no</td></tr> <tr><td style="text-align:left;">外部的类</td> <td style="text-align:left;">yes</td> <td style="text-align:left;">no</td> <td style="text-align:left;">no</td></tr></tbody></table> <ul><li>一个派生类继承了所有的基类方法，但下列情况除外：
<ul><li>基类的构造函数、析构函数和拷贝构造函数。</li> <li>基类的重载运算符。</li> <li>基类的友元函数。</li></ul></li></ul> <p><strong>继承类型</strong></p> <blockquote><p>当一个类派生自基类，该基类可以被继承为 public、protected 或 private 几种类型。</p></blockquote> <ul><li><p>公有继承（public）：当一个类派生自公有基类时，基类的公有成员也是派生类的公有成员，基类的保护成员也是派生类的保护成员，基类的私有成员不能直接被派生类访问，但是可以通过调用基类的公有和保护成员来访问。</p></li> <li><p>保护继承（protected）： 当一个类派生自保护基类时，基类的公有和保护成员将成为派生类的保护成员。</p></li> <li><p>私有继承（private）：当一个类派生自私有基类时，基类的公有和保护成员将成为派生类的私有成员。</p></li></ul> <p><strong>多继承</strong></p> <blockquote><p>多继承即一个子类可以有多个父类，它继承了多个父类的特性。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 基类 Shape</span>
<span class="token keyword">class</span> <span class="token class-name">Shape</span> 
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">void</span> <span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token keyword">int</span> w<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         width <span class="token operator">=</span> w<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">void</span> <span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         height <span class="token operator">=</span> h<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token keyword">protected</span><span class="token operator">:</span>
      <span class="token keyword">int</span> width<span class="token punctuation">;</span>
      <span class="token keyword">int</span> height<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 基类 PaintCost</span>
<span class="token keyword">class</span> <span class="token class-name">PaintCost</span> 
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">int</span> <span class="token function">getCost</span><span class="token punctuation">(</span><span class="token keyword">int</span> area<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token keyword">return</span> area <span class="token operator">*</span> <span class="token number">70</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 派生类</span>
<span class="token keyword">class</span> <span class="token class-name">Rectangle</span><span class="token operator">:</span> <span class="token keyword">public</span> Shape<span class="token punctuation">,</span> <span class="token keyword">public</span> PaintCost
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">int</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span> 
         <span class="token keyword">return</span> <span class="token punctuation">(</span>width <span class="token operator">*</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Rectangle Rect<span class="token punctuation">;</span>
   <span class="token keyword">int</span> area<span class="token punctuation">;</span>
 
   Rect<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Rect<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   area <span class="token operator">=</span> Rect<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token comment">// 输出对象的面积</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Total area: &quot;</span> <span class="token operator">&lt;&lt;</span> Rect<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 输出总花费</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Total paint cost: $&quot;</span> <span class="token operator">&lt;&lt;</span> Rect<span class="token punctuation">.</span><span class="token function">getCost</span><span class="token punctuation">(</span>area<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Total area: 35</span>
<span class="token comment">// Total paint cost: $2450</span>
</code></pre></div><h2 id="c-重载运算符和重载函数"><a href="#c-重载运算符和重载函数" class="header-anchor">#</a> C++ 重载运算符和重载函数</h2> <blockquote><p>C++ 允许在同一作用域中的某个函数和运算符指定多个定义，分别称为函数重载和运算符重载。</p></blockquote> <blockquote><p>重载声明是指一个与之前已经在该作用域内声明过的函数或方法具有相同名称的声明，但是它们的参数列表和定义（实现）不相同。</p></blockquote> <blockquote><p>当您调用一个重载函数或重载运算符时，编译器通过把您所使用的参数类型与定义中的参数类型进行比较，决定选用最合适的定义。选择最合适的重载函数或重载运算符的过程，称为重载决策。</p></blockquote> <p><strong>C++ 中的函数重载</strong></p> <blockquote><p>在同一个作用域内，可以声明几个功能类似的同名函数，但是这些同名函数的形式参数（指参数的个数、类型或者顺序）必须不同。您不能仅通过返回类型的不同来重载函数。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">printData</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;整数为: &quot;</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
 
      <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">double</span>  f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;浮点数为: &quot;</span> <span class="token operator">&lt;&lt;</span> f <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
 
      <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;字符串为: &quot;</span> <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   printData pd<span class="token punctuation">;</span>
 
   <span class="token comment">// 输出整数</span>
   pd<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// 输出浮点数</span>
   pd<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">500.263</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// 输出字符串</span>
   <span class="token keyword">char</span> c<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Hello C++&quot;</span><span class="token punctuation">;</span>
   pd<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 整数为: 5</span>
<span class="token comment">// 浮点数为: 500.263</span>
<span class="token comment">// 字符串为: Hello C++</span>
</code></pre></div><p><strong>C++ 中的运算符重载</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
 
      <span class="token keyword">double</span> <span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token keyword">return</span> length <span class="token operator">*</span> breadth <span class="token operator">*</span> height<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">void</span> <span class="token function">setLength</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len <span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          length <span class="token operator">=</span> len<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
 
      <span class="token keyword">void</span> <span class="token function">setBreadth</span><span class="token punctuation">(</span> <span class="token keyword">double</span> bre <span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          breadth <span class="token operator">=</span> bre<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
 
      <span class="token keyword">void</span> <span class="token function">setHeight</span><span class="token punctuation">(</span> <span class="token keyword">double</span> hei <span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          height <span class="token operator">=</span> hei<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 重载 + 运算符，用于把两个 Box 对象相加</span>
      Box <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> Box<span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         Box box<span class="token punctuation">;</span>
         box<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>length <span class="token operator">+</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
         box<span class="token punctuation">.</span>breadth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>breadth <span class="token operator">+</span> b<span class="token punctuation">.</span>breadth<span class="token punctuation">;</span>
         box<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>height <span class="token operator">+</span> b<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
         <span class="token keyword">return</span> box<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">double</span> length<span class="token punctuation">;</span>      <span class="token comment">// 长度</span>
      <span class="token keyword">double</span> breadth<span class="token punctuation">;</span>     <span class="token comment">// 宽度</span>
      <span class="token keyword">double</span> height<span class="token punctuation">;</span>      <span class="token comment">// 高度</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Box Box1<span class="token punctuation">;</span>                <span class="token comment">// 声明 Box1，类型为 Box</span>
   Box Box2<span class="token punctuation">;</span>                <span class="token comment">// 声明 Box2，类型为 Box</span>
   Box Box3<span class="token punctuation">;</span>                <span class="token comment">// 声明 Box3，类型为 Box</span>
   <span class="token keyword">double</span> volume <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>     <span class="token comment">// 把体积存储在该变量中</span>
 
   <span class="token comment">// Box1 详述</span>
   Box1<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">6.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box1<span class="token punctuation">.</span><span class="token function">setBreadth</span><span class="token punctuation">(</span><span class="token number">7.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box1<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">5.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// Box2 详述</span>
   Box2<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">12.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box2<span class="token punctuation">.</span><span class="token function">setBreadth</span><span class="token punctuation">(</span><span class="token number">13.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box2<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// Box1 的体积</span>
   volume <span class="token operator">=</span> Box1<span class="token punctuation">.</span><span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Volume of Box1 : &quot;</span> <span class="token operator">&lt;&lt;</span> volume <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token comment">// Box2 的体积</span>
   volume <span class="token operator">=</span> Box2<span class="token punctuation">.</span><span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Volume of Box2 : &quot;</span> <span class="token operator">&lt;&lt;</span> volume <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 把两个对象相加，得到 Box3</span>
   Box3 <span class="token operator">=</span> Box1 <span class="token operator">+</span> Box2<span class="token punctuation">;</span>
 
   <span class="token comment">// Box3 的体积</span>
   volume <span class="token operator">=</span> Box3<span class="token punctuation">.</span><span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Volume of Box3 : &quot;</span> <span class="token operator">&lt;&lt;</span> volume <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Volume of Box1 : 210</span>
<span class="token comment">// Volume of Box2 : 1560</span>
<span class="token comment">// Volume of Box3 : 5400</span>
</code></pre></div><p><strong>可重载运算符/不可重载运算符</strong></p> <ul><li>下面是可重载的运算符列表：
<ul><li>双目算术运算符	+ (加)，-(减)，*(乘)，/(除)，% (取模)</li> <li>关系运算符	==(等于)，!= (不等于)，&lt; (小于)，&gt; (大于&gt;，&lt;=(小于等于)，&gt;=(大于等于)</li> <li>逻辑运算符	||(逻辑或)，&amp;&amp;(逻辑与)，!(逻辑非)</li> <li>单目运算符	+ (正)，-(负)，*(指针)，&amp;(取地址)</li> <li>自增自减运算符	++(自增)，--(自减)</li> <li>位运算符	| (按位或)，&amp; (按位与)，~(按位取反)，^(按位异或),，&lt;&lt; (左移)，&gt;&gt;(右移)</li> <li>赋值运算符	=, +=, -=, *=, /= , % = , &amp;=, |=, ^=, &lt;&lt;=, &gt;&gt;=</li> <li>空间申请与释放	new, delete, new[ ] , delete[]</li> <li>其他运算符	()(函数调用)，-&gt;(成员访问)，,(逗号)，<a href="%E4%B8%8B%E6%A0%87"></a></li></ul></li> <li>下面是不可重载的运算符列表：
<ul><li>成员访问运算符:  .</li> <li>成员指针访问运算符：  .<em>, -&gt;</em></li> <li>域运算符：  ::</li> <li>长度运算符：  sizeof</li> <li>条件运算符：  ?:</li> <li>预处理符号：   #</li></ul></li></ul> <p><strong>一元运算符重载</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Distance</span>
<span class="token punctuation">{</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">int</span> feet<span class="token punctuation">;</span>             <span class="token comment">// 0 到无穷</span>
      <span class="token keyword">int</span> inches<span class="token punctuation">;</span>           <span class="token comment">// 0 到 12</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token comment">// 所需的构造函数</span>
      <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         feet <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
         inches <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token keyword">int</span> f<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
         feet <span class="token operator">=</span> f<span class="token punctuation">;</span>
         inches <span class="token operator">=</span> i<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 显示距离的方法</span>
      <span class="token keyword">void</span> <span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;F: &quot;</span> <span class="token operator">&lt;&lt;</span> feet <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; I:&quot;</span> <span class="token operator">&lt;&lt;</span> inches <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 重载负运算符（ - ）</span>
      Distance <span class="token keyword">operator</span><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>  
      <span class="token punctuation">{</span>
         feet <span class="token operator">=</span> <span class="token operator">-</span>feet<span class="token punctuation">;</span>
         inches <span class="token operator">=</span> <span class="token operator">-</span>inches<span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token function">Distance</span><span class="token punctuation">(</span>feet<span class="token punctuation">,</span> inches<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Distance <span class="token function">D1</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">D2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token operator">-</span>D1<span class="token punctuation">;</span>                     <span class="token comment">// 取相反数</span>
   D1<span class="token punctuation">.</span><span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 距离 D1</span>
 
   <span class="token operator">-</span>D2<span class="token punctuation">;</span>                     <span class="token comment">// 取相反数</span>
   D2<span class="token punctuation">.</span><span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 距离 D2</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// F: -11 I:-10</span>
<span class="token comment">// F: 5 I:-11</span>
</code></pre></div><p><strong>二元运算符重载</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">double</span> length<span class="token punctuation">;</span>      <span class="token comment">// 长度</span>
   <span class="token keyword">double</span> breadth<span class="token punctuation">;</span>     <span class="token comment">// 宽度</span>
   <span class="token keyword">double</span> height<span class="token punctuation">;</span>      <span class="token comment">// 高度</span>
<span class="token keyword">public</span><span class="token operator">:</span>
 
   <span class="token keyword">double</span> <span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      <span class="token keyword">return</span> length <span class="token operator">*</span> breadth <span class="token operator">*</span> height<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">void</span> <span class="token function">setLength</span><span class="token punctuation">(</span> <span class="token keyword">double</span> len <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       length <span class="token operator">=</span> len<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token keyword">void</span> <span class="token function">setBreadth</span><span class="token punctuation">(</span> <span class="token keyword">double</span> bre <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       breadth <span class="token operator">=</span> bre<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token keyword">void</span> <span class="token function">setHeight</span><span class="token punctuation">(</span> <span class="token keyword">double</span> hei <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       height <span class="token operator">=</span> hei<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token comment">// 重载 + 运算符，用于把两个 Box 对象相加</span>
   Box <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> Box<span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      Box box<span class="token punctuation">;</span>
      box<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>length <span class="token operator">+</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      box<span class="token punctuation">.</span>breadth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>breadth <span class="token operator">+</span> b<span class="token punctuation">.</span>breadth<span class="token punctuation">;</span>
      box<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>height <span class="token operator">+</span> b<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
      <span class="token keyword">return</span> box<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Box Box1<span class="token punctuation">;</span>                <span class="token comment">// 声明 Box1，类型为 Box</span>
   Box Box2<span class="token punctuation">;</span>                <span class="token comment">// 声明 Box2，类型为 Box</span>
   Box Box3<span class="token punctuation">;</span>                <span class="token comment">// 声明 Box3，类型为 Box</span>
   <span class="token keyword">double</span> volume <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>     <span class="token comment">// 把体积存储在该变量中</span>
 
   <span class="token comment">// Box1 详述</span>
   Box1<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">6.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box1<span class="token punctuation">.</span><span class="token function">setBreadth</span><span class="token punctuation">(</span><span class="token number">7.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box1<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">5.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// Box2 详述</span>
   Box2<span class="token punctuation">.</span><span class="token function">setLength</span><span class="token punctuation">(</span><span class="token number">12.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box2<span class="token punctuation">.</span><span class="token function">setBreadth</span><span class="token punctuation">(</span><span class="token number">13.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   Box2<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// Box1 的体积</span>
   volume <span class="token operator">=</span> Box1<span class="token punctuation">.</span><span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Volume of Box1 : &quot;</span> <span class="token operator">&lt;&lt;</span> volume <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token comment">// Box2 的体积</span>
   volume <span class="token operator">=</span> Box2<span class="token punctuation">.</span><span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Volume of Box2 : &quot;</span> <span class="token operator">&lt;&lt;</span> volume <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 把两个对象相加，得到 Box3</span>
   Box3 <span class="token operator">=</span> Box1 <span class="token operator">+</span> Box2<span class="token punctuation">;</span>
 
   <span class="token comment">// Box3 的体积</span>
   volume <span class="token operator">=</span> Box3<span class="token punctuation">.</span><span class="token function">getVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Volume of Box3 : &quot;</span> <span class="token operator">&lt;&lt;</span> volume <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Volume of Box1 : 210</span>
<span class="token comment">// Volume of Box2 : 1560</span>
<span class="token comment">// Volume of Box3 : 5400</span>
</code></pre></div><p><strong>关系运算符重载</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Distance</span>
<span class="token punctuation">{</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">int</span> feet<span class="token punctuation">;</span>             <span class="token comment">// 0 到无穷</span>
      <span class="token keyword">int</span> inches<span class="token punctuation">;</span>           <span class="token comment">// 0 到 12</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token comment">// 所需的构造函数</span>
      <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         feet <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
         inches <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token keyword">int</span> f<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
         feet <span class="token operator">=</span> f<span class="token punctuation">;</span>
         inches <span class="token operator">=</span> i<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 显示距离的方法</span>
      <span class="token keyword">void</span> <span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;F: &quot;</span> <span class="token operator">&lt;&lt;</span> feet <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; I:&quot;</span> <span class="token operator">&lt;&lt;</span> inches <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 重载负运算符（ - ）</span>
      Distance <span class="token keyword">operator</span><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>  
      <span class="token punctuation">{</span>
         feet <span class="token operator">=</span> <span class="token operator">-</span>feet<span class="token punctuation">;</span>
         inches <span class="token operator">=</span> <span class="token operator">-</span>inches<span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token function">Distance</span><span class="token punctuation">(</span>feet<span class="token punctuation">,</span> inches<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 重载小于运算符（ &lt; ）</span>
      <span class="token keyword">bool</span> <span class="token keyword">operator</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> Distance<span class="token operator">&amp;</span> d<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token keyword">if</span><span class="token punctuation">(</span>feet <span class="token operator">&lt;</span> d<span class="token punctuation">.</span>feet<span class="token punctuation">)</span>
         <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">if</span><span class="token punctuation">(</span>feet <span class="token operator">==</span> d<span class="token punctuation">.</span>feet <span class="token operator">&amp;&amp;</span> inches <span class="token operator">&lt;</span> d<span class="token punctuation">.</span>inches<span class="token punctuation">)</span>
         <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Distance <span class="token function">D1</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">D2</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">if</span><span class="token punctuation">(</span> D1 <span class="token operator">&lt;</span> D2 <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;D1 is less than D2 &quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">else</span>
   <span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;D2 is less than D1 &quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// D2 is less than D1</span>
</code></pre></div><p><strong>输入/输出运算符重载</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Distance</span>
<span class="token punctuation">{</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">int</span> feet<span class="token punctuation">;</span>             <span class="token comment">// 0 到无穷</span>
      <span class="token keyword">int</span> inches<span class="token punctuation">;</span>           <span class="token comment">// 0 到 12</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token comment">// 所需的构造函数</span>
      <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         feet <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
         inches <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token keyword">int</span> f<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
         feet <span class="token operator">=</span> f<span class="token punctuation">;</span>
         inches <span class="token operator">=</span> i<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">friend</span> ostream <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span> ostream <span class="token operator">&amp;</span>output<span class="token punctuation">,</span> 
                                       <span class="token keyword">const</span> Distance <span class="token operator">&amp;</span>D <span class="token punctuation">)</span>
      <span class="token punctuation">{</span> 
         output <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;F : &quot;</span> <span class="token operator">&lt;&lt;</span> D<span class="token punctuation">.</span>feet <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; I : &quot;</span> <span class="token operator">&lt;&lt;</span> D<span class="token punctuation">.</span>inches<span class="token punctuation">;</span>
         <span class="token keyword">return</span> output<span class="token punctuation">;</span>            
      <span class="token punctuation">}</span>
 
      <span class="token keyword">friend</span> istream <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span> istream  <span class="token operator">&amp;</span>input<span class="token punctuation">,</span> Distance <span class="token operator">&amp;</span>D <span class="token punctuation">)</span>
      <span class="token punctuation">{</span> 
         input <span class="token operator">&gt;&gt;</span> D<span class="token punctuation">.</span>feet <span class="token operator">&gt;&gt;</span> D<span class="token punctuation">.</span>inches<span class="token punctuation">;</span>
         <span class="token keyword">return</span> input<span class="token punctuation">;</span>            
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Distance <span class="token function">D1</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">D2</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span> D3<span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Enter the value of object : &quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cin <span class="token operator">&gt;&gt;</span> D3<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;First Distance : &quot;</span> <span class="token operator">&lt;&lt;</span> D1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Second Distance :&quot;</span> <span class="token operator">&lt;&lt;</span> D2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Third Distance :&quot;</span> <span class="token operator">&lt;&lt;</span> D3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// $./a.out</span>
<span class="token comment">// Enter the value of object :</span>
<span class="token comment">// 70</span>
<span class="token comment">// 10</span>
<span class="token comment">// First Distance : F : 11 I : 10</span>
<span class="token comment">// Second Distance :F : 5 I : 11</span>
<span class="token comment">// Third Distance :F : 70 I : 10</span>
</code></pre></div><p><strong>++ 和 -- 运算符重载</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Time</span>
<span class="token punctuation">{</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">int</span> hours<span class="token punctuation">;</span>             <span class="token comment">// 0 到 23</span>
      <span class="token keyword">int</span> minutes<span class="token punctuation">;</span>           <span class="token comment">// 0 到 59</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token comment">// 所需的构造函数</span>
      <span class="token function">Time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         hours <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
         minutes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">Time</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">)</span><span class="token punctuation">{</span>
         hours <span class="token operator">=</span> h<span class="token punctuation">;</span>
         minutes <span class="token operator">=</span> m<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 显示时间的方法</span>
      <span class="token keyword">void</span> <span class="token function">displayTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;H: &quot;</span> <span class="token operator">&lt;&lt;</span> hours <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; M:&quot;</span> <span class="token operator">&lt;&lt;</span> minutes <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 重载前缀递增运算符（ ++ ）</span>
      Time <span class="token keyword">operator</span><span class="token operator">++</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>  
      <span class="token punctuation">{</span>
         <span class="token operator">++</span>minutes<span class="token punctuation">;</span>          <span class="token comment">// 对象加 1</span>
         <span class="token keyword">if</span><span class="token punctuation">(</span>minutes <span class="token operator">&gt;=</span> <span class="token number">60</span><span class="token punctuation">)</span>  
         <span class="token punctuation">{</span>
            <span class="token operator">++</span>hours<span class="token punctuation">;</span>
            minutes <span class="token operator">-=</span> <span class="token number">60</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">return</span> <span class="token function">Time</span><span class="token punctuation">(</span>hours<span class="token punctuation">,</span> minutes<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 重载后缀递增运算符（ ++ ）</span>
      Time <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span> <span class="token keyword">int</span> <span class="token punctuation">)</span>         
      <span class="token punctuation">{</span>
         <span class="token comment">// 保存原始值</span>
         Time <span class="token function">T</span><span class="token punctuation">(</span>hours<span class="token punctuation">,</span> minutes<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">// 对象加 1</span>
         <span class="token operator">++</span>minutes<span class="token punctuation">;</span>                    
         <span class="token keyword">if</span><span class="token punctuation">(</span>minutes <span class="token operator">&gt;=</span> <span class="token number">60</span><span class="token punctuation">)</span>
         <span class="token punctuation">{</span>
            <span class="token operator">++</span>hours<span class="token punctuation">;</span>
            minutes <span class="token operator">-=</span> <span class="token number">60</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token comment">// 返回旧的原始值</span>
         <span class="token keyword">return</span> T<span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Time <span class="token function">T1</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">T2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token operator">++</span>T1<span class="token punctuation">;</span>                    <span class="token comment">// T1 加 1</span>
   T1<span class="token punctuation">.</span><span class="token function">displayTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 显示 T1</span>
   <span class="token operator">++</span>T1<span class="token punctuation">;</span>                    <span class="token comment">// T1 再加 1</span>
   T1<span class="token punctuation">.</span><span class="token function">displayTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 显示 T1</span>
 
   T2<span class="token operator">++</span><span class="token punctuation">;</span>                    <span class="token comment">// T2 加 1</span>
   T2<span class="token punctuation">.</span><span class="token function">displayTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 显示 T2</span>
   T2<span class="token operator">++</span><span class="token punctuation">;</span>                    <span class="token comment">// T2 再加 1</span>
   T2<span class="token punctuation">.</span><span class="token function">displayTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 显示 T2</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
H<span class="token operator">:</span> <span class="token number">12</span> M<span class="token operator">:</span><span class="token number">0</span>
H<span class="token operator">:</span> <span class="token number">12</span> M<span class="token operator">:</span><span class="token number">1</span>
H<span class="token operator">:</span> <span class="token number">10</span> M<span class="token operator">:</span><span class="token number">41</span>
H<span class="token operator">:</span> <span class="token number">10</span> M<span class="token operator">:</span><span class="token number">42</span>
</code></pre></div><p><strong>赋值运算符重载</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Distance</span>
<span class="token punctuation">{</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">int</span> feet<span class="token punctuation">;</span>             <span class="token comment">// 0 到无穷</span>
      <span class="token keyword">int</span> inches<span class="token punctuation">;</span>           <span class="token comment">// 0 到 12</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token comment">// 所需的构造函数</span>
      <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         feet <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
         inches <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token keyword">int</span> f<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
         feet <span class="token operator">=</span> f<span class="token punctuation">;</span>
         inches <span class="token operator">=</span> i<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">void</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Distance <span class="token operator">&amp;</span>D <span class="token punctuation">)</span>
      <span class="token punctuation">{</span> 
         feet <span class="token operator">=</span> D<span class="token punctuation">.</span>feet<span class="token punctuation">;</span>
         inches <span class="token operator">=</span> D<span class="token punctuation">.</span>inches<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 显示距离的方法</span>
      <span class="token keyword">void</span> <span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;F: &quot;</span> <span class="token operator">&lt;&lt;</span> feet <span class="token operator">&lt;&lt;</span>  <span class="token string">&quot; I:&quot;</span> <span class="token operator">&lt;&lt;</span>  inches <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Distance <span class="token function">D1</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">D2</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;First Distance : &quot;</span><span class="token punctuation">;</span> 
   D1<span class="token punctuation">.</span><span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Second Distance :&quot;</span><span class="token punctuation">;</span> 
   D2<span class="token punctuation">.</span><span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 使用赋值运算符</span>
   D1 <span class="token operator">=</span> D2<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;First Distance :&quot;</span><span class="token punctuation">;</span> 
   D1<span class="token punctuation">.</span><span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// First Distance : F: 11 I:10</span>
<span class="token comment">// Second Distance :F: 5 I:11</span>
<span class="token comment">// First Distance :F: 5 I:11</span>
</code></pre></div><p><strong>函数调用运算符 () 重载</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Distance</span>
<span class="token punctuation">{</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">int</span> feet<span class="token punctuation">;</span>             <span class="token comment">// 0 到无穷</span>
      <span class="token keyword">int</span> inches<span class="token punctuation">;</span>           <span class="token comment">// 0 到 12</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token comment">// 所需的构造函数</span>
      <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         feet <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
         inches <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token keyword">int</span> f<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
         feet <span class="token operator">=</span> f<span class="token punctuation">;</span>
         inches <span class="token operator">=</span> i<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 重载函数调用运算符</span>
      Distance <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         Distance D<span class="token punctuation">;</span>
         <span class="token comment">// 进行随机计算</span>
         D<span class="token punctuation">.</span>feet <span class="token operator">=</span> a <span class="token operator">+</span> c <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
         D<span class="token punctuation">.</span>inches <span class="token operator">=</span> b <span class="token operator">+</span> c <span class="token operator">+</span> <span class="token number">100</span> <span class="token punctuation">;</span>
         <span class="token keyword">return</span> D<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 显示距离的方法</span>
      <span class="token keyword">void</span> <span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;F: &quot;</span> <span class="token operator">&lt;&lt;</span> feet <span class="token operator">&lt;&lt;</span>  <span class="token string">&quot; I:&quot;</span> <span class="token operator">&lt;&lt;</span>  inches <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Distance <span class="token function">D1</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> D2<span class="token punctuation">;</span>

   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;First Distance : &quot;</span><span class="token punctuation">;</span> 
   D1<span class="token punctuation">.</span><span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   D2 <span class="token operator">=</span> <span class="token function">D1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// invoke operator()</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Second Distance :&quot;</span><span class="token punctuation">;</span> 
   D2<span class="token punctuation">.</span><span class="token function">displayDistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// First Distance : F: 11 I:10</span>
<span class="token comment">// Second Distance :F: 30 I:120</span>
</code></pre></div><p><strong>下标运算符 [] 重载</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> SIZE <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">safearay</span>
<span class="token punctuation">{</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token keyword">int</span> arr<span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token function">safearay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
      <span class="token punctuation">{</span>
         <span class="token keyword">register</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>
         <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> SIZE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
         <span class="token punctuation">{</span>
           arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span> i <span class="token operator">&gt;</span> SIZE <span class="token punctuation">)</span>
          <span class="token punctuation">{</span>
              cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;索引超过最大值&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
              <span class="token comment">// 返回第一个元素</span>
              <span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">return</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   safearay A<span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;A[2] 的值为 : &quot;</span> <span class="token operator">&lt;&lt;</span> A<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;A[5] 的值为 : &quot;</span> <span class="token operator">&lt;&lt;</span> A<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;A[12] 的值为 : &quot;</span> <span class="token operator">&lt;&lt;</span> A<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// $ g++ -o test test.cpp</span>
<span class="token comment">// $ ./test </span>
<span class="token comment">// A[2] 的值为 : 2</span>
<span class="token comment">// A[5] 的值为 : 5</span>
<span class="token comment">// A[12] 的值为 : 索引超过最大值</span>
<span class="token number">0</span>
</code></pre></div><p><strong>类成员访问运算符 -&gt; 重载</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 假设一个实际的类</span>
<span class="token keyword">class</span> <span class="token class-name">Obj</span> <span class="token punctuation">{</span>
   <span class="token keyword">static</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
   <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> i<span class="token operator">++</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
   <span class="token keyword">void</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> j<span class="token operator">++</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 静态成员定义</span>
<span class="token keyword">int</span> Obj<span class="token operator">::</span>i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> Obj<span class="token operator">::</span>j <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
 
<span class="token comment">// 为上面的类实现一个容器</span>
<span class="token keyword">class</span> <span class="token class-name">ObjContainer</span> <span class="token punctuation">{</span>
   vector<span class="token operator">&lt;</span>Obj<span class="token operator">*</span><span class="token operator">&gt;</span> a<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
   <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span>Obj<span class="token operator">*</span> obj<span class="token punctuation">)</span>
   <span class="token punctuation">{</span> 
      a<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 调用向量的标准方法</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">friend</span> <span class="token keyword">class</span> <span class="token class-name">SmartPointer</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 实现智能指针，用于访问类 Obj 的成员</span>
<span class="token keyword">class</span> <span class="token class-name">SmartPointer</span> <span class="token punctuation">{</span>
   ObjContainer oc<span class="token punctuation">;</span>
   <span class="token keyword">int</span> index<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
   <span class="token function">SmartPointer</span><span class="token punctuation">(</span>ObjContainer<span class="token operator">&amp;</span> objc<span class="token punctuation">)</span>
   <span class="token punctuation">{</span> 
       oc <span class="token operator">=</span> objc<span class="token punctuation">;</span>
       index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token comment">// 返回值表示列表结束</span>
   <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 前缀版本</span>
   <span class="token punctuation">{</span> 
     <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> oc<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span><span class="token punctuation">(</span>oc<span class="token punctuation">.</span>a<span class="token punctuation">[</span><span class="token operator">++</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
     <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token comment">// 后缀版本</span>
   <span class="token punctuation">{</span> 
      <span class="token keyword">return</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token comment">// 重载运算符 -&gt;</span>
   Obj<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> 
   <span class="token punctuation">{</span>
     <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>oc<span class="token punctuation">.</span>a<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
     <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Zero value&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>Obj<span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> oc<span class="token punctuation">.</span>a<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token keyword">int</span> sz <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
   Obj o<span class="token punctuation">[</span>sz<span class="token punctuation">]</span><span class="token punctuation">;</span>
   ObjContainer oc<span class="token punctuation">;</span>
   <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sz<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       oc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>o<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   SmartPointer <span class="token function">sp</span><span class="token punctuation">(</span>oc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个迭代器</span>
   <span class="token keyword">do</span> <span class="token punctuation">{</span>
      sp<span class="token operator">-&gt;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 智能指针调用</span>
      sp<span class="token operator">-&gt;</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span> <span class="token keyword">while</span><span class="token punctuation">(</span>sp<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 10</span>
<span class="token comment">// 12</span>
<span class="token comment">// 11</span>
<span class="token comment">// 13</span>
<span class="token comment">// 12</span>
<span class="token comment">// 14</span>
<span class="token comment">// 13</span>
<span class="token comment">// 15</span>
<span class="token comment">// 14</span>
<span class="token comment">// 16</span>
<span class="token comment">// 15</span>
<span class="token comment">// 17</span>
<span class="token comment">// 16</span>
<span class="token comment">// 18</span>
<span class="token comment">// 17</span>
<span class="token comment">// 19</span>
<span class="token comment">// 18</span>
<span class="token comment">// 20</span>
<span class="token comment">// 19</span>
<span class="token comment">// 21</span>
</code></pre></div><p>##　C++ 多态</p> <blockquote><p>多态按字面的意思就是多种形态。当类之间存在层次结构，并且类之间是通过继承关联时，就会用到多态。</p></blockquote> <blockquote><p>C++ 多态意味着调用成员函数时，会根据调用函数的对象的类型来执行不同的函数。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span> </span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
   <span class="token keyword">protected</span><span class="token operator">:</span>
      <span class="token keyword">int</span> width<span class="token punctuation">,</span> height<span class="token punctuation">;</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token function">Shape</span><span class="token punctuation">(</span> <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         width <span class="token operator">=</span> a<span class="token punctuation">;</span>
         height <span class="token operator">=</span> b<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">int</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Parent class area :&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Rectangle</span><span class="token operator">:</span> <span class="token keyword">public</span> Shape<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token function">Rectangle</span><span class="token punctuation">(</span> <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">Shape</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
      <span class="token keyword">int</span> area <span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span> 
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Rectangle class area :&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token punctuation">(</span>width <span class="token operator">*</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Triangle</span><span class="token operator">:</span> <span class="token keyword">public</span> Shape<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token function">Triangle</span><span class="token punctuation">(</span> <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">Shape</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
      <span class="token keyword">int</span> area <span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span> 
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Triangle class area :&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token punctuation">(</span>width <span class="token operator">*</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 程序的主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Shape <span class="token operator">*</span>shape<span class="token punctuation">;</span>
   Rectangle <span class="token function">rec</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Triangle  <span class="token function">tri</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 存储矩形的地址</span>
   shape <span class="token operator">=</span> <span class="token operator">&amp;</span>rec<span class="token punctuation">;</span>
   <span class="token comment">// 调用矩形的求面积函数 area</span>
   shape<span class="token operator">-&gt;</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 存储三角形的地址</span>
   shape <span class="token operator">=</span> <span class="token operator">&amp;</span>tri<span class="token punctuation">;</span>
   <span class="token comment">// 调用三角形的求面积函数 area</span>
   shape<span class="token operator">-&gt;</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Parent class area</span>
<span class="token comment">// Parent class area</span>
</code></pre></div><blockquote><p>导致错误输出的原因是，调用函数 area() 被编译器设置为基类中的版本，这就是所谓的静态多态，或静态链接 - 函数调用在程序执行前就准备好了。有时候这也被称为早绑定，因为 area() 函数在程序编译期间就已经设置好了。</p></blockquote> <p>但现在，让我们对程序稍作修改，在 Shape 类中，area() 的声明前放置关键字 virtual，如下所示：</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
   <span class="token keyword">protected</span><span class="token operator">:</span>
      <span class="token keyword">int</span> width<span class="token punctuation">,</span> height<span class="token punctuation">;</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token function">Shape</span><span class="token punctuation">(</span> <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         width <span class="token operator">=</span> a<span class="token punctuation">;</span>
         height <span class="token operator">=</span> b<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">virtual</span> <span class="token keyword">int</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Parent class area :&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// Rectangle class area</span>
<span class="token comment">// Triangle class area</span>
</code></pre></div><p>此时，编译器看的是指针的内容，而不是它的类型。因此，由于 tri 和 rec 类的对象的地址存储在 *shape 中，所以会调用各自的 area() 函数。</p> <p>正如您所看到的，每个子类都有一个函数 area() 的独立实现。这就是多态的一般使用方式。有了多态，您可以有多个不同的类，都带有同一个名称但具有不同实现的函数，函数的参数甚至可以是相同的。
<strong>虚函数</strong></p> <blockquote><p>虚函数 是在基类中使用关键字 virtual 声明的函数。在派生类中重新定义基类中定义的虚函数时，会告诉编译器不要静态链接到该函数。</p></blockquote> <blockquote><p>我们想要的是在程序中任意点可以根据所调用的对象类型来选择调用的函数，这种操作被称为动态链接，或后期绑定。
<strong>纯虚函数</strong>
可能想要在基类中定义虚函数，以便在派生类中重新定义该函数更好地适用于对象，但是您在基类中又不能对虚函数给出有意义的实现，这个时候就会用到纯虚函数。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
   <span class="token keyword">protected</span><span class="token operator">:</span>
      <span class="token keyword">int</span> width<span class="token punctuation">,</span> height<span class="token punctuation">;</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token function">Shape</span><span class="token punctuation">(</span> <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         width <span class="token operator">=</span> a<span class="token punctuation">;</span>
         height <span class="token operator">=</span> b<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// pure virtual function</span>
      <span class="token keyword">virtual</span> <span class="token keyword">int</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><blockquote><p>= 0 告诉编译器，函数没有主体，上面的虚函数是纯虚函数。</p></blockquote> <p><strong>C++ 数据抽象</strong></p> <blockquote><p>数据抽象是指，只向外界提供关键信息，并隐藏其后台的实现细节，即只表现必要的信息而不呈现细节。</p></blockquote> <blockquote><p>数据抽象是一种依赖于接口和实现分离的编程（设计）技术。</p></blockquote> <blockquote><p>让我们举一个现实生活中的真实例子，比如一台电视机，您可以打开和关闭、切换频道、调整音量、添加外部组件（如喇叭、录像机、DVD 播放器），但是您不知道它的内部实现细节，也就是说，您并不知道它是如何通过缆线接收信号，如何转换信号，并最终显示在屏幕上。</p></blockquote> <blockquote><p>因此，我们可以说电视把它的内部实现和外部接口分离开了，您无需知道它的内部实现原理，直接通过它的外部接口（比如电源按钮、遥控器、声量控制器）就可以操控电视。</p></blockquote> <blockquote><p>现在，让我们言归正传，就 C++ 编程而言，C++ 类为数据抽象提供了可能。它们向外界提供了大量用于操作对象数据的公共方法，也就是说，外界实际上并不清楚类的内部实现。</p></blockquote> <blockquote><p>例如，您的程序可以调用 sort() 函数，而不需要知道函数中排序数据所用到的算法。实际上，函数排序的底层实现会因库的版本不同而有所差异，只要接口不变，函数调用就可以照常工作。</p></blockquote> <p>在 C++ 中，我们使用类来定义我们自己的抽象数据类型（ADT）。您可以使用类 iostream 的 cout 对象来输出数据到标准输出，如下所示：</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Hello C++&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><blockquote><p>在这里，您不需要理解 cout 是如何在用户的屏幕上显示文本。您只需要知道公共接口即可，cout 的底层实现可以自由改变。</p></blockquote> <p><strong>访问标签强制抽象</strong></p> <ul><li>在 C++ 中，我们使用访问标签来定义类的抽象接口。一个类可以包含零个或多个访问标签：
<ul><li>使用公共标签定义的成员都可以访问该程序的所有部分。一个类型的数据抽象视图是由它的公共成员来定义的。</li> <li>使用私有标签定义的成员无法访问到使用类的代码。私有部分对使用类型的代码隐藏了实现细节。</li></ul></li></ul> <blockquote><p>访问标签出现的频率没有限制。每个访问标签指定了紧随其后的成员定义的访问级别。指定的访问级别会一直有效，直到遇到下一个访问标签或者遇到类主体的关闭右括号为止。</p></blockquote> <p><strong>数据抽象的好处</strong></p> <ul><li>数据抽象有两个重要的优势：
<ul><li>类的内部受到保护，不会因无意的用户级错误导致对象状态受损。</li> <li>类实现可能随着时间的推移而发生变化，以便应对不断变化的需求，或者应对那些要求不改变用户级代码的错误报告。</li></ul></li></ul> <blockquote><p>如果只在类的私有部分定义数据成员，编写该类的作者就可以随意更改数据。如果实现发生改变，则只需要检查类的代码，看看这个改变会导致哪些影响。如果数据是公有的，则任何直接访问旧表示形式的数据成员的函数都可能受到影响。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Adder</span><span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token comment">// 构造函数</span>
      <span class="token function">Adder</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
        total <span class="token operator">=</span> i<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 对外的接口</span>
      <span class="token keyword">void</span> <span class="token function">addNum</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          total <span class="token operator">+=</span> number<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 对外的接口</span>
      <span class="token keyword">int</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          <span class="token keyword">return</span> total<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token comment">// 对外隐藏的数据</span>
      <span class="token keyword">int</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Adder a<span class="token punctuation">;</span>
   
   a<span class="token punctuation">.</span><span class="token function">addNum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   a<span class="token punctuation">.</span><span class="token function">addNum</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   a<span class="token punctuation">.</span><span class="token function">addNum</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Total &quot;</span> <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Total 60</span>
</code></pre></div><blockquote><p>上面的类把数字相加，并返回总和。公有成员 addNum 和 getTotal 是对外的接口，用户需要知道它们以便使用类。私有成员 total 是用户不需要了解的，但又是类能正常工作所必需的。</p></blockquote> <p><strong>设计策略</strong></p> <blockquote><p>抽象把代码分离为接口和实现。所以在设计组件时，必须保持接口独立于实现，这样，如果改变底层实现，接口也将保持不变。</p></blockquote> <blockquote><p>在这种情况下，不管任何程序使用接口，接口都不会受到影响，只需要将最新的实现重新编译即可。</p></blockquote> <h2 id="c-数据封装"><a href="#c-数据封装" class="header-anchor">#</a> C++ 数据封装</h2> <blockquote><p>所有的 C++ 程序都有以下两个基本要素：</p> <ul><li>程序语句（代码）：这是程序中执行动作的部分，它们被称为函数。</li> <li>程序数据：数据是程序的信息，会受到程序函数的影响。</li></ul></blockquote> <blockquote><p>封装是面向对象编程中的把数据和操作数据的函数绑定在一起的一个概念，这样能避免受到外界的干扰和误用，从而确保了安全。数据封装引申出了另一个重要的 OOP 概念，即数据隐藏。</p></blockquote> <blockquote><p>数据封装是一种把数据和操作数据的函数捆绑在一起的机制，数据抽象是一种仅向用户暴露接口而把具体的实现细节隐藏起来的机制。</p></blockquote> <blockquote><p>C++ 通过创建类来支持封装和数据隐藏（public、protected、private）。我们已经知道，类包含私有成员（private）、保护成员（protected）和公有成员（public）成员。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Adder</span><span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token comment">// 构造函数</span>
      <span class="token function">Adder</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
        total <span class="token operator">=</span> i<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 对外的接口</span>
      <span class="token keyword">void</span> <span class="token function">addNum</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          total <span class="token operator">+=</span> number<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 对外的接口</span>
      <span class="token keyword">int</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          <span class="token keyword">return</span> total<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">private</span><span class="token operator">:</span>
      <span class="token comment">// 对外隐藏的数据</span>
      <span class="token keyword">int</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Adder a<span class="token punctuation">;</span>
   
   a<span class="token punctuation">.</span><span class="token function">addNum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   a<span class="token punctuation">.</span><span class="token function">addNum</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   a<span class="token punctuation">.</span><span class="token function">addNum</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Total &quot;</span> <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Total 60</span>
</code></pre></div><blockquote><p>上面的类把数字相加，并返回总和。公有成员 addNum 和 getTotal 是对外的接口，用户需要知道它们以便使用类。私有成员 total 是对外隐藏的，用户不需要了解它，但它又是类能正常工作所必需的。</p></blockquote> <p><strong>设计策略</strong></p> <blockquote><p>通常情况下，我们都会设置类成员状态为私有（private），除非我们真的需要将其暴露，这样才能保证良好的封装性。</p></blockquote> <blockquote><p>这通常应用于数据成员，但它同样适用于所有成员，包括虚函数。</p></blockquote> <h2 id="c-接口（抽象类）"><a href="#c-接口（抽象类）" class="header-anchor">#</a> C++ 接口（抽象类）</h2> <blockquote><p>接口描述了类的行为和功能，而不需要完成类的特定实现。</p></blockquote> <blockquote><p>C++ 接口是使用抽象类来实现的，抽象类与数据抽象互不混淆，数据抽象是一个把实现细节与相关的数据分离开的概念。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 基类</span>
<span class="token keyword">class</span> <span class="token class-name">Shape</span> 
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
   <span class="token comment">// 提供接口框架的纯虚函数</span>
   <span class="token keyword">virtual</span> <span class="token keyword">int</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">void</span> <span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token keyword">int</span> w<span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      width <span class="token operator">=</span> w<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">void</span> <span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      height <span class="token operator">=</span> h<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
   <span class="token keyword">int</span> width<span class="token punctuation">;</span>
   <span class="token keyword">int</span> height<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token comment">// 派生类</span>
<span class="token keyword">class</span> <span class="token class-name">Rectangle</span><span class="token operator">:</span> <span class="token keyword">public</span> Shape
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
   <span class="token keyword">int</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span> 
      <span class="token keyword">return</span> <span class="token punctuation">(</span>width <span class="token operator">*</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Triangle</span><span class="token operator">:</span> <span class="token keyword">public</span> Shape
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
   <span class="token keyword">int</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span> 
      <span class="token keyword">return</span> <span class="token punctuation">(</span>width <span class="token operator">*</span> height<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> 
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Rectangle Rect<span class="token punctuation">;</span>
   Triangle  Tri<span class="token punctuation">;</span>
 
   Rect<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Rect<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// 输出对象的面积</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Total Rectangle area: &quot;</span> <span class="token operator">&lt;&lt;</span> Rect<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   Tri<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   Tri<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// 输出对象的面积</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Total Triangle area: &quot;</span> <span class="token operator">&lt;&lt;</span> Tri<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Total Rectangle area: 35</span>
<span class="token comment">// Total Triangle area: 17</span>
</code></pre></div><p><strong>设计策略</strong></p> <blockquote><p>面向对象的系统可能会使用一个抽象基类为所有的外部应用程序提供一个适当的、通用的、标准化的接口。然后，派生类通过继承抽象基类，就把所有类似的操作都继承下来。</p></blockquote> <blockquote><p>外部应用程序提供的功能（即公有函数）在抽象基类中是以纯虚函数的形式存在的。这些纯虚函数在相应的派生类中被实现。</p></blockquote> <blockquote><p>这个架构也使得新的应用程序可以很容易地被添加到系统中，即使是在系统被定义之后依然可以如此。</p></blockquote> <h2 id="c-文件和流"><a href="#c-文件和流" class="header-anchor">#</a> C++ 文件和流</h2> <blockquote><p>到目前为止，我们已经使用了 iostream 标准库，它提供了 cin 和 cout 方法分别用于从标准输入读取流和向标准输出写入流。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    
   <span class="token keyword">char</span> data<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 以写模式打开文件</span>
   ofstream outfile<span class="token punctuation">;</span>
   outfile<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;afile.dat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Writing to the file&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Enter your name: &quot;</span><span class="token punctuation">;</span> 
   cin<span class="token punctuation">.</span><span class="token function">getline</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 向文件写入用户输入的数据</span>
   outfile <span class="token operator">&lt;&lt;</span> data <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Enter your age: &quot;</span><span class="token punctuation">;</span> 
   cin <span class="token operator">&gt;&gt;</span> data<span class="token punctuation">;</span>
   cin<span class="token punctuation">.</span><span class="token function">ignore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token comment">// 再次向文件写入用户输入的数据</span>
   outfile <span class="token operator">&lt;&lt;</span> data <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token comment">// 关闭打开的文件</span>
   outfile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token comment">// 以读模式打开文件</span>
   ifstream infile<span class="token punctuation">;</span> 
   infile<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;afile.dat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Reading from the file&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
   infile <span class="token operator">&gt;&gt;</span> data<span class="token punctuation">;</span> 
 
   <span class="token comment">// 在屏幕上写入数据</span>
   cout <span class="token operator">&lt;&lt;</span> data <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   
   <span class="token comment">// 再次从文件读取数据，并显示它</span>
   infile <span class="token operator">&gt;&gt;</span> data<span class="token punctuation">;</span> 
   cout <span class="token operator">&lt;&lt;</span> data <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
 
   <span class="token comment">// 关闭打开的文件</span>
   infile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// $./a.out</span>
<span class="token comment">// Writing to the file</span>
<span class="token comment">// Enter your name: Zara</span>
<span class="token comment">// Enter your age: 9</span>
<span class="token comment">// Reading from the file</span>
<span class="token comment">// Zara</span>
<span class="token comment">// 9</span>
</code></pre></div><h2 id="c-异常处理"><a href="#c-异常处理" class="header-anchor">#</a> C++ 异常处理</h2> <blockquote><p>异常是程序在执行期间产生的问题。C++ 异常是指在程序运行时发生的特殊情况，比如尝试除以零的操作。</p></blockquote> <blockquote><p>异常提供了一种转移程序控制权的方式。C++ 异常处理涉及到三个关键字：try、catch、throw。</p></blockquote> <blockquote><p>throw: 当问题出现时，程序会抛出一个异常。这是通过使用 throw 关键字来完成的。</p></blockquote> <blockquote><p>catch: 在您想要处理问题的地方，通过异常处理程序捕获异常。catch 关键字用于捕获异常。</p></blockquote> <blockquote><p>try: try 块中的代码标识将被激活的特定异常。它后面通常跟着一个或多个 catch 块。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">double</span> <span class="token function">division</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span> b <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token string">&quot;Division by zero condition!&quot;</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>a<span class="token operator">/</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">double</span> z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 
   <span class="token keyword">try</span> <span class="token punctuation">{</span>
     z <span class="token operator">=</span> <span class="token function">division</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
     cout <span class="token operator">&lt;&lt;</span> z <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     cerr <span class="token operator">&lt;&lt;</span> msg <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Division by zero condition!</span>
</code></pre></div><p><strong>C++ 标准的异常</strong></p> <blockquote><p>C++ 提供了一系列标准的异常，定义在 <code>&lt;exception&gt;</code> 中，我们可以在程序中使用这些标准的异常。它们是以父子类层次结构组织起来的</p></blockquote> <p>std::exception	该异常是所有标准 C++ 异常的父类。
std::bad_alloc	该异常可以通过 new 抛出。
std::bad_cast	该异常可以通过 dynamic_cast 抛出。
std::bad_exception	这在处理 C++ 程序中无法预期的异常时非常有用。
std::bad_typeid	该异常可以通过 typeid 抛出。
std::logic_error	理论上可以通过读取代码来检测到的异常。
std::domain_error	当使用了一个无效的数学域时，会抛出该异常。
std::invalid_argument	当使用了无效的参数时，会抛出该异常。
std::length_error	当创建了太长的 std::string 时，会抛出该异常。
std::out_of_range	该异常可以通过方法抛出，例如 std::vector 和 std::bitset&lt;&gt;::operator<a href=""></a>。
std::runtime_error	理论上不可以通过读取代码来检测到的异常。
std::overflow_error	当发生数学上溢时，会抛出该异常。
std::range_error	当尝试存储超出范围的值时，会抛出该异常。
std::underflow_error	当发生数学下溢时，会抛出该异常。</p> <p><strong>定义新的异常</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;exception&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">struct</span> <span class="token class-name">MyException</span> <span class="token operator">:</span> <span class="token keyword">public</span> exception
<span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> what <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">throw</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;C++ Exception&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">try</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token function">MyException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">catch</span><span class="token punctuation">(</span>MyException<span class="token operator">&amp;</span> e<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;MyException caught&quot;</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">catch</span><span class="token punctuation">(</span>std<span class="token operator">::</span>exception<span class="token operator">&amp;</span> e<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token comment">//其他的错误</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// MyException caught</span>
<span class="token comment">// C++ Exception</span>
</code></pre></div><h2 id="c-动态内存"><a href="#c-动态内存" class="header-anchor">#</a> C++ 动态内存</h2> <blockquote><p>了解动态内存在 C++ 中是如何工作的是成为一名合格的 C++ 程序员必不可少的。C++ 程序中的内存分为两个部分：</p></blockquote> <blockquote><p>栈：在函数内部声明的所有变量都将占用栈内存。</p></blockquote> <blockquote><p>堆：这是程序中未使用的内存，在程序运行时可用于动态分配内存。</p></blockquote> <blockquote><p>很多时候，您无法提前预知需要多少内存来存储某个定义变量中的特定信息，所需内存的大小需要在运行时才能确定。</p></blockquote> <blockquote><p>在 C++ 中，您可以使用特殊的运算符为给定类型的变量在运行时分配堆内的内存，这会返回所分配的空间地址。这种运算符即 new 运算符。</p></blockquote> <p><strong>new 和 delete 运算符</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">double</span><span class="token operator">*</span> pvalue  <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> <span class="token comment">// 初始化为 null 的指针</span>
   pvalue  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">;</span>   <span class="token comment">// 为变量请求内存</span>
 
   <span class="token operator">*</span>pvalue <span class="token operator">=</span> <span class="token number">29494.99</span><span class="token punctuation">;</span>     <span class="token comment">// 在分配的地址存储值</span>
   cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of pvalue : &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>pvalue <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
   <span class="token keyword">delete</span> pvalue<span class="token punctuation">;</span>         <span class="token comment">// 释放内存</span>
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Value of pvalue : 29495</span>
</code></pre></div><p><strong>数组的动态内存分配</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>   
    <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">;</span>   <span class="token comment">// p[2][3][4]</span>
    
    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>p<span class="token punctuation">;</span>
    p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> 
            p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    
    <span class="token comment">//输出 p[i][j][k] 三维数据</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>   
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>   
        <span class="token punctuation">{</span> 
            <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span> 
                p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token operator">+</span>j<span class="token operator">+</span>k<span class="token punctuation">;</span>
                cout<span class="token operator">&lt;&lt;</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 释放内存</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>   
            <span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>   
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>       
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>   
    <span class="token punctuation">{</span>       
        <span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    <span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> p<span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>对象的动态内存分配</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">Box</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span><span class="token operator">:</span>
      <span class="token function">Box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;调用构造函数！&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
      <span class="token operator">~</span><span class="token function">Box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;调用析构函数！&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   Box<span class="token operator">*</span> myBoxArray <span class="token operator">=</span> <span class="token keyword">new</span> Box<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
   <span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> myBoxArray<span class="token punctuation">;</span> <span class="token comment">// 删除数组</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 调用构造函数！</span>
</code></pre></div><h2 id="c-命名空间"><a href="#c-命名空间" class="header-anchor">#</a> C++ 命名空间</h2> <blockquote><p>假设这样一种情况，当一个班上有两个名叫 Zara 的学生时，为了明确区分它们，我们在使用名字之外，不得不使用一些额外的信息，比如他们的家庭住址，或者他们父母的名字等等。</p></blockquote> <blockquote><p>同样的情况也出现在 C++ 应用程序中。例如，您可能会写一个名为 xyz() 的函数，在另一个可用的库中也存在一个相同的函数 xyz()。这样，编译器就无法判断您所使用的是哪一个 xyz() 函数。</p></blockquote> <blockquote><p>因此，引入了命名空间这个概念，专门用于解决上面的问题，它可作为附加信息来区分不同库中相同名称的函数、类、变量等。使用了命名空间即定义了上下文。本质上，命名空间就是定义了一个范围。</p></blockquote> <p><strong>定义命名空间</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 第一个命名空间</span>
<span class="token keyword">namespace</span> first_space<span class="token punctuation">{</span>
   <span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Inside first_space&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 第二个命名空间</span>
<span class="token keyword">namespace</span> second_space<span class="token punctuation">{</span>
   <span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Inside second_space&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
 
   <span class="token comment">// 调用第一个命名空间中的函数</span>
   first_space<span class="token operator">::</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token comment">// 调用第二个命名空间中的函数</span>
   second_space<span class="token operator">::</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>using 指令</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 第一个命名空间</span>
<span class="token keyword">namespace</span> first_space<span class="token punctuation">{</span>
   <span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Inside first_space&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 第二个命名空间</span>
<span class="token keyword">namespace</span> second_space<span class="token punctuation">{</span>
   <span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Inside second_space&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> first_space<span class="token punctuation">;</span>
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
 
   <span class="token comment">// 调用第一个命名空间中的函数</span>
   <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Inside first_space</span>
</code></pre></div><p><strong>不连续的命名空间/嵌套的命名空间</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token comment">// 第一个命名空间</span>
<span class="token keyword">namespace</span> first_space<span class="token punctuation">{</span>
   <span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Inside first_space&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token comment">// 第二个命名空间</span>
   <span class="token keyword">namespace</span> second_space<span class="token punctuation">{</span>
      <span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Inside second_space&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> first_space<span class="token operator">::</span>second_space<span class="token punctuation">;</span>
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
 
   <span class="token comment">// 调用第二个命名空间中的函数</span>
   <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Inside second_space</span>
</code></pre></div><h2 id="c-模板"><a href="#c-模板" class="header-anchor">#</a> C++ 模板</h2> <blockquote><p>模板是泛型编程的基础，泛型编程即以一种独立于任何特定类型的方式编写代码。</p></blockquote> <blockquote><p>模板是创建泛型类或函数的蓝图或公式。库容器，比如迭代器和算法，都是泛型编程的例子，它们都使用了模板的概念。</p></blockquote> <blockquote><p>每个容器都有一个单一的定义，比如 向量，我们可以定义许多不同类型的向量，比如 <code>vector &lt;int&gt;</code> 或 <code>vector &lt;string&gt;</code>。</p></blockquote> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> T<span class="token operator">&gt;</span>
<span class="token keyword">inline</span> T <span class="token keyword">const</span><span class="token operator">&amp;</span> Max <span class="token punctuation">(</span>T <span class="token keyword">const</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span> T <span class="token keyword">const</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
    <span class="token keyword">return</span> a <span class="token operator">&lt;</span> b <span class="token operator">?</span> b<span class="token operator">:</span>a<span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token keyword">int</span> main <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
 
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Max(i, j): &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token function">Max</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
 
    <span class="token keyword">double</span> f1 <span class="token operator">=</span> <span class="token number">13.5</span><span class="token punctuation">;</span> 
    <span class="token keyword">double</span> f2 <span class="token operator">=</span> <span class="token number">20.7</span><span class="token punctuation">;</span> 
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Max(f1, f2): &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token function">Max</span><span class="token punctuation">(</span>f1<span class="token punctuation">,</span> f2<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
 
    string s1 <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span> 
    string s2 <span class="token operator">=</span> <span class="token string">&quot;World&quot;</span><span class="token punctuation">;</span> 
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Max(s1, s2): &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token function">Max</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
 
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Max(i, j): 39</span>
<span class="token comment">// Max(f1, f2): 20.7</span>
<span class="token comment">// Max(s1, s2): World</span>
</code></pre></div><p><strong>类模板</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdlib&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdexcept&gt;</span></span>
 
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Stack</span> <span class="token punctuation">{</span> 
  <span class="token keyword">private</span><span class="token operator">:</span> 
    vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> elems<span class="token punctuation">;</span>     <span class="token comment">// 元素 </span>
 
  <span class="token keyword">public</span><span class="token operator">:</span> 
    <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span>T <span class="token keyword">const</span><span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 入栈</span>
    <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 出栈</span>
    T <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>            <span class="token comment">// 返回栈顶元素</span>
    <span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">{</span>       <span class="token comment">// 如果为空则返回真。</span>
        <span class="token keyword">return</span> elems<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span> 
 
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> Stack<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span>push <span class="token punctuation">(</span>T <span class="token keyword">const</span><span class="token operator">&amp;</span> elem<span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
    <span class="token comment">// 追加传入元素的副本</span>
    elems<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span> 
 
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> Stack<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span>pop <span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>elems<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">throw</span> <span class="token function">out_of_range</span><span class="token punctuation">(</span><span class="token string">&quot;Stack&lt;&gt;::pop(): empty stack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token comment">// 删除最后一个元素</span>
    elems<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         
<span class="token punctuation">}</span> 
 
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T Stack<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">::</span>top <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> 
<span class="token punctuation">{</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>elems<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">throw</span> <span class="token function">out_of_range</span><span class="token punctuation">(</span><span class="token string">&quot;Stack&lt;&gt;::top(): empty stack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token comment">// 返回最后一个元素的副本 </span>
    <span class="token keyword">return</span> elems<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
<span class="token punctuation">}</span> 
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
    <span class="token keyword">try</span> <span class="token punctuation">{</span> 
        Stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span>         intStack<span class="token punctuation">;</span>  <span class="token comment">// int 类型的栈 </span>
        Stack<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> stringStack<span class="token punctuation">;</span>    <span class="token comment">// string 类型的栈 </span>
 
        <span class="token comment">// 操作 int 类型的栈 </span>
        intStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        cout <span class="token operator">&lt;&lt;</span> intStack<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
 
        <span class="token comment">// 操作 string 类型的栈 </span>
        stringStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        cout <span class="token operator">&lt;&lt;</span> stringStack<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span> 
        stringStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        stringStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>exception <span class="token keyword">const</span><span class="token operator">&amp;</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        cerr <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Exception: &quot;</span> <span class="token operator">&lt;&lt;</span> ex<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">// 7</span>
<span class="token comment">// hello</span>
<span class="token comment">// Exception: Stack&lt;&gt;::pop(): empty stack</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>C++ 预处理器
预处理器是一些指令，指示编译器在实际编译之前所需完成的预处理。

所有的预处理器指令都是以井号（#）开头，只有空格字符可以出现在预处理指令之前。预处理指令不是 C++ 语句，所以它们不会以分号（;）结尾。

我们已经看到，之前所有的实例中都有 #include 指令。这个宏用于把头文件包含到源文件中。

C++ 还支持很多预处理指令，比如 #include、#define、#if、#else、#line 等，让我们一起看看这些重要指令。

#define 预处理
#define 预处理指令用于创建符号常量。该符号常量通常称为宏，指令的一般形式是：

#define macro-name replacement-text 
当这一行代码出现在一个文件中时，在该文件中后续出现的所有宏都将会在程序编译之前被替换为 replacement-text。例如：

#include &lt;iostream&gt;
using namespace std;
 
#define PI 3.14159
 
int main ()
{
 
    cout &lt;&lt; &quot;Value of PI :&quot; &lt;&lt; PI &lt;&lt; endl; 
 
    return 0;
}
现在，让我们测试这段代码，看看预处理的结果。假设源代码文件已经存在，接下来使用 -E 选项进行编译，并把结果重定向到 test.p。现在，如果您查看 test.p 文件，将会看到它已经包含大量的信息，而且在文件底部的值被改为如下：

$ gcc -E test.cpp &gt; test.p

...
int main ()
{
 
    cout &lt;&lt; &quot;Value of PI :&quot; &lt;&lt; 3.14159 &lt;&lt; endl; 

    return 0;
}
参数宏
您可以使用 #define 来定义一个带有参数的宏，如下所示：

#include &lt;iostream&gt;
using namespace std;
 
#define MIN(a,b) (a&lt;b ? a : b)
 
int main ()
{
   int i, j;
   i = 100;
   j = 30;
   cout &lt;&lt;&quot;较小的值为：&quot; &lt;&lt; MIN(i, j) &lt;&lt; endl;
 
    return 0;
}
当上面的代码被编译和执行时，它会产生下列结果：

较小的值为：30
条件编译
有几个指令可以用来有选择地对部分程序源代码进行编译。这个过程被称为条件编译。

条件预处理器的结构与 if 选择结构很像。请看下面这段预处理器的代码：

#ifdef NULL
   #define NULL 0
#endif
您可以只在调试时进行编译，调试开关可以使用一个宏来实现，如下所示：

#ifdef DEBUG
   cerr &lt;&lt;&quot;Variable x = &quot; &lt;&lt; x &lt;&lt; endl;
#endif
如果在指令 #ifdef DEBUG 之前已经定义了符号常量 DEBUG，则会对程序中的 cerr 语句进行编译。您可以使用 #if 0 语句注释掉程序的一部分，如下所示：

#if 0
   不进行编译的代码
#endif
让我们尝试下面的实例：

实例
#include &lt;iostream&gt;
using namespace std;
#define DEBUG
 
#define MIN(a,b) (((a)&lt;(b)) ? a : b)
 
int main ()
{
   int i, j;
   i = 100;
   j = 30;
#ifdef DEBUG
   cerr &lt;&lt;&quot;Trace: Inside main function&quot; &lt;&lt; endl;
#endif
 
#if 0
   /* 这是注释部分 */
   cout &lt;&lt; MKSTR(HELLO C++) &lt;&lt; endl;
#endif
 
   cout &lt;&lt;&quot;The minimum is &quot; &lt;&lt; MIN(i, j) &lt;&lt; endl;
 
#ifdef DEBUG
   cerr &lt;&lt;&quot;Trace: Coming out of main function&quot; &lt;&lt; endl;
#endif
    return 0;
}
当上面的代码被编译和执行时，它会产生下列结果：

Trace: Inside main function
The minimum is 30
Trace: Coming out of main function
# 和 ## 运算符
# 和 ## 预处理运算符在 C++ 和 ANSI/ISO C 中都是可用的。# 运算符会把 replacement-text 令牌转换为用引号引起来的字符串。

请看下面的宏定义：

实例
#include &lt;iostream&gt;
using namespace std;
 
#define MKSTR( x ) #x
 
int main ()
{
    cout &lt;&lt; MKSTR(HELLO C++) &lt;&lt; endl;
 
    return 0;
}
当上面的代码被编译和执行时，它会产生下列结果：

HELLO C++
让我们来看看它是如何工作的。不难理解，C++ 预处理器把下面这行：

cout &lt;&lt; MKSTR(HELLO C++) &lt;&lt; endl;
转换成了：

cout &lt;&lt; &quot;HELLO C++&quot; &lt;&lt; endl;
## 运算符用于连接两个令牌。下面是一个实例：

#define CONCAT( x, y )  x ## y
当 CONCAT 出现在程序中时，它的参数会被连接起来，并用来取代宏。例如，程序中 CONCAT(HELLO, C++) 会被替换为 &quot;HELLO C++&quot;，如下面实例所示。

实例
#include &lt;iostream&gt;
using namespace std;
 
#define concat(a, b) a ## b
int main()
{
   int xy = 100;
   
   cout &lt;&lt; concat(x, y);
   return 0;
}
当上面的代码被编译和执行时，它会产生下列结果：

100
让我们来看看它是如何工作的。不难理解，C++ 预处理器把下面这行：

cout &lt;&lt; concat(x, y);
转换成了：

cout &lt;&lt; xy;
C++ 中的预定义宏
C++ 提供了下表所示的一些预定义宏：

宏	描述
__LINE__	这会在程序编译时包含当前行号。
__FILE__	这会在程序编译时包含当前文件名。
__DATE__	这会包含一个形式为 month/day/year 的字符串，它表示把源文件转换为目标代码的日期。
__TIME__	这会包含一个形式为 hour:minute:second 的字符串，它表示程序被编译的时间。
让我们看看上述这些宏的实例：

实例
#include &lt;iostream&gt;
using namespace std;
 
int main ()
{
    cout &lt;&lt; &quot;Value of __LINE__ : &quot; &lt;&lt; __LINE__ &lt;&lt; endl;
    cout &lt;&lt; &quot;Value of __FILE__ : &quot; &lt;&lt; __FILE__ &lt;&lt; endl;
    cout &lt;&lt; &quot;Value of __DATE__ : &quot; &lt;&lt; __DATE__ &lt;&lt; endl;
    cout &lt;&lt; &quot;Value of __TIME__ : &quot; &lt;&lt; __TIME__ &lt;&lt; endl;
 
    return 0;
}
当上面的代码被编译和执行时，它会产生下列结果：

Value of __LINE__ : 6
Value of __FILE__ : test.cpp
Value of __DATE__ : Feb 28 2011
Value of __TIME__ : 18:52:48

C++ 信号处理
信号是由操作系统传给进程的中断，会提早终止一个程序。在 UNIX、LINUX、Mac OS X 或 Windows 系统上，可以通过按 Ctrl+C 产生中断。

有些信号不能被程序捕获，但是下表所列信号可以在程序中捕获，并可以基于信号采取适当的动作。这些信号是定义在 C++ 头文件 &lt;csignal&gt; 中。

信号	描述
SIGABRT	程序的异常终止，如调用 abort。
SIGFPE	错误的算术运算，比如除以零或导致溢出的操作。
SIGILL	检测非法指令。
SIGINT	接收到交互注意信号。
SIGSEGV	非法访问内存。
SIGTERM	发送到程序的终止请求。
signal() 函数
C++ 信号处理库提供了 signal 函数，用来捕获突发事件。以下是 signal() 函数的语法：

void (*signal (int sig, void (*func)(int)))(int); 
这个函数接收两个参数：第一个参数是一个整数，代表了信号的编号；第二个参数是一个指向信号处理函数的指针。

让我们编写一个简单的 C++ 程序，使用 signal() 函数捕获 SIGINT 信号。不管您想在程序中捕获什么信号，您都必须使用 signal 函数来注册信号，并将其与信号处理程序相关联。看看下面的实例：

实例
#include &lt;iostream&gt;
#include &lt;csignal&gt;
#include &lt;unistd.h&gt;
 
using namespace std;
 
void signalHandler( int signum )
{
    cout &lt;&lt; &quot;Interrupt signal (&quot; &lt;&lt; signum &lt;&lt; &quot;) received.\n&quot;;
 
    // 清理并关闭
    // 终止程序  
 
   exit(signum);  
 
}
 
int main ()
{
    // 注册信号 SIGINT 和信号处理程序
    signal(SIGINT, signalHandler);  
 
    while(1){
       cout &lt;&lt; &quot;Going to sleep....&quot; &lt;&lt; endl;
       sleep(1);
    }
 
    return 0;
}
当上面的代码被编译和执行时，它会产生下列结果：

Going to sleep....
Going to sleep....
Going to sleep....
现在，按 Ctrl+C 来中断程序，您会看到程序捕获信号，程序打印如下内容并退出：

Going to sleep....
Going to sleep....
Going to sleep....
Interrupt signal (2) received.
raise() 函数
您可以使用函数 raise() 生成信号，该函数带有一个整数信号编号作为参数，语法如下：

int raise (signal sig);
在这里，sig 是要发送的信号的编号，这些信号包括：SIGINT、SIGABRT、SIGFPE、SIGILL、SIGSEGV、SIGTERM、SIGHUP。以下是我们使用 raise() 函数内部生成信号的实例：

实例
#include &lt;iostream&gt;
#include &lt;csignal&gt;
#include &lt;unistd.h&gt;
 
using namespace std;
 
void signalHandler( int signum )
{
    cout &lt;&lt; &quot;Interrupt signal (&quot; &lt;&lt; signum &lt;&lt; &quot;) received.\n&quot;;
 
    // 清理并关闭
    // 终止程序 
 
   exit(signum);  
 
}
 
int main ()
{
    int i = 0;
    // 注册信号 SIGINT 和信号处理程序
    signal(SIGINT, signalHandler);  
 
    while(++i){
       cout &lt;&lt; &quot;Going to sleep....&quot; &lt;&lt; endl;
       if( i == 3 ){
          raise( SIGINT);
       }
       sleep(1);
    }
 
    return 0;
}
当上面的代码被编译和执行时，它会产生下列结果，并会自动退出：

Going to sleep....
Going to sleep....
Going to sleep....
Interrupt signal (2) received.

C++ 多线程
多线程是多任务处理的一种特殊形式，多任务处理允许让电脑同时运行两个或两个以上的程序。一般情况下，两种类型的多任务处理：基于进程和基于线程。

基于进程的多任务处理是程序的并发执行。
基于线程的多任务处理是同一程序的片段的并发执行。
多线程程序包含可以同时运行的两个或多个部分。这样的程序中的每个部分称为一个线程，每个线程定义了一个单独的执行路径。

本教程假设您使用的是 Linux 操作系统，我们要使用 POSIX 编写多线程 C++ 程序。POSIX Threads 或 Pthreads 提供的 API 可在多种类 Unix POSIX 系统上可用，比如 FreeBSD、NetBSD、GNU/Linux、Mac OS X 和 Solaris。

创建线程
下面的程序，我们可以用它来创建一个 POSIX 线程：

#include &lt;pthread.h&gt;
pthread_create (thread, attr, start_routine, arg) 
在这里，pthread_create 创建一个新的线程，并让它可执行。下面是关于参数的说明：

参数	描述
thread	指向线程标识符指针。
attr	一个不透明的属性对象，可以被用来设置线程属性。您可以指定线程属性对象，也可以使用默认值 NULL。
start_routine	线程运行函数起始地址，一旦线程被创建就会执行。
arg	运行函数的参数。它必须通过把引用作为指针强制转换为 void 类型进行传递。如果没有传递参数，则使用 NULL。
创建线程成功时，函数返回 0，若返回值不为 0 则说明创建线程失败。

终止线程
使用下面的程序，我们可以用它来终止一个 POSIX 线程：

#include &lt;pthread.h&gt;
pthread_exit (status) 
在这里，pthread_exit 用于显式地退出一个线程。通常情况下，pthread_exit() 函数是在线程完成工作后无需继续存在时被调用。

如果 main() 是在它所创建的线程之前结束，并通过 pthread_exit() 退出，那么其他线程将继续执行。否则，它们将在 main() 结束时自动被终止。

实例
以下简单的实例代码使用 pthread_create() 函数创建了 5 个线程，每个线程输出&quot;Hello Runoob！&quot;:

实例
#include &lt;iostream&gt;
// 必须的头文件
#include &lt;pthread.h&gt;
 
using namespace std;
 
#define NUM_THREADS 5
 
// 线程的运行函数
void* say_hello(void* args)
{
    cout &lt;&lt; &quot;Hello Runoob！&quot; &lt;&lt; endl;
    return 0;
}
 
int main()
{
    // 定义线程的 id 变量，多个变量使用数组
    pthread_t tids[NUM_THREADS];
    for(int i = 0; i &lt; NUM_THREADS; ++i)
    {
        //参数依次是：创建的线程id，线程参数，调用的函数，传入的函数参数
        int ret = pthread_create(&amp;tids[i], NULL, say_hello, NULL);
        if (ret != 0)
        {
           cout &lt;&lt; &quot;pthread_create error: error_code=&quot; &lt;&lt; ret &lt;&lt; endl;
        }
    }
    //等各个线程退出后，进程才结束，否则进程强制结束了，线程可能还没反应过来；
    pthread_exit(NULL);
}
使用 -lpthread 库编译下面的程序：

$ g++ test.cpp -lpthread -o test.o
现在，执行程序，将产生下列结果：

$ ./test.o
Hello Runoob！
Hello Runoob！
Hello Runoob！
Hello Runoob！
Hello Runoob！
以下简单的实例代码使用 pthread_create() 函数创建了 5 个线程，并接收传入的参数。每个线程打印一个 &quot;Hello Runoob!&quot; 消息，并输出接收的参数，然后调用 pthread_exit() 终止线程。

实例
//文件名：test.cpp
 
#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
#include &lt;pthread.h&gt;
 
using namespace std;
 
#define NUM_THREADS     5
 
void *PrintHello(void *threadid)
{  
   // 对传入的参数进行强制类型转换，由无类型指针变为整形数指针，然后再读取
   int tid = *((int*)threadid);
   cout &lt;&lt; &quot;Hello Runoob! 线程 ID, &quot; &lt;&lt; tid &lt;&lt; endl;
   pthread_exit(NULL);
}
 
int main ()
{
   pthread_t threads[NUM_THREADS];
   int indexes[NUM_THREADS];// 用数组来保存i的值
   int rc;
   int i;
   for( i=0; i &lt; NUM_THREADS; i++ ){      
      cout &lt;&lt; &quot;main() : 创建线程, &quot; &lt;&lt; i &lt;&lt; endl;
      indexes[i] = i; //先保存i的值
      // 传入的时候必须强制转换为void* 类型，即无类型指针        
      rc = pthread_create(&amp;threads[i], NULL, 
                          PrintHello, (void *)&amp;(indexes[i]));
      if (rc){
         cout &lt;&lt; &quot;Error:无法创建线程,&quot; &lt;&lt; rc &lt;&lt; endl;
         exit(-1);
      }
   }
   pthread_exit(NULL);
}
现在编译并执行程序，将产生下列结果：

$ g++ test.cpp -lpthread -o test.o
$ ./test.o
main() : 创建线程, 0
main() : 创建线程, 1
Hello Runoob! 线程 ID, 0
main() : 创建线程, Hello Runoob! 线程 ID, 21

main() : 创建线程, 3
Hello Runoob! 线程 ID, 2
main() : 创建线程, 4
Hello Runoob! 线程 ID, 3
Hello Runoob! 线程 ID, 4
向线程传递参数
这个实例演示了如何通过结构传递多个参数。您可以在线程回调中传递任意的数据类型，因为它指向 void，如下面的实例所示：

实例
#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
#include &lt;pthread.h&gt;
 
using namespace std;
 
#define NUM_THREADS     5
 
struct thread_data{
   int  thread_id;
   char *message;
};
 
void *PrintHello(void *threadarg)
{
   struct thread_data *my_data;
 
   my_data = (struct thread_data *) threadarg;
 
   cout &lt;&lt; &quot;Thread ID : &quot; &lt;&lt; my_data-&gt;thread_id ;
   cout &lt;&lt; &quot; Message : &quot; &lt;&lt; my_data-&gt;message &lt;&lt; endl;
 
   pthread_exit(NULL);
}
 
int main ()
{
   pthread_t threads[NUM_THREADS];
   struct thread_data td[NUM_THREADS];
   int rc;
   int i;
 
   for( i=0; i &lt; NUM_THREADS; i++ ){
      cout &lt;&lt;&quot;main() : creating thread, &quot; &lt;&lt; i &lt;&lt; endl;
      td[i].thread_id = i;
      td[i].message = (char*)&quot;This is message&quot;;
      rc = pthread_create(&amp;threads[i], NULL,
                          PrintHello, (void *)&amp;td[i]);
      if (rc){
         cout &lt;&lt; &quot;Error:unable to create thread,&quot; &lt;&lt; rc &lt;&lt; endl;
         exit(-1);
      }
   }
   pthread_exit(NULL);
}
当上面的代码被编译和执行时，它会产生下列结果：

$ g++ -Wno-write-strings test.cpp -lpthread -o test.o
$ ./test.o
main() : creating thread, 0
main() : creating thread, 1
Thread ID : 0 Message : This is message
main() : creating thread, Thread ID : 21
 Message : This is message
main() : creating thread, 3
Thread ID : 2 Message : This is message
main() : creating thread, 4
Thread ID : 3 Message : This is message
Thread ID : 4 Message : This is message
连接和分离线程
我们可以使用以下两个函数来连接或分离线程：

pthread_join (threadid, status) 
pthread_detach (threadid) 
pthread_join() 子程序阻碍调用程序，直到指定的 threadid 线程终止为止。当创建一个线程时，它的某个属性会定义它是否是可连接的（joinable）或可分离的（detached）。只有创建时定义为可连接的线程才可以被连接。如果线程创建时被定义为可分离的，则它永远也不能被连接。

这个实例演示了如何使用 pthread_join() 函数来等待线程的完成。

实例
#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
#include &lt;pthread.h&gt;
#include &lt;unistd.h&gt;
 
using namespace std;
 
#define NUM_THREADS     5
 
void *wait(void *t)
{
   int i;
   long tid;
 
   tid = (long)t;
 
   sleep(1);
   cout &lt;&lt; &quot;Sleeping in thread &quot; &lt;&lt; endl;
   cout &lt;&lt; &quot;Thread with id : &quot; &lt;&lt; tid &lt;&lt; &quot;  ...exiting &quot; &lt;&lt; endl;
   pthread_exit(NULL);
}
 
int main ()
{
   int rc;
   int i;
   pthread_t threads[NUM_THREADS];
   pthread_attr_t attr;
   void *status;
 
   // 初始化并设置线程为可连接的（joinable）
   pthread_attr_init(&amp;attr);
   pthread_attr_setdetachstate(&amp;attr, PTHREAD_CREATE_JOINABLE);
 
   for( i=0; i &lt; NUM_THREADS; i++ ){
      cout &lt;&lt; &quot;main() : creating thread, &quot; &lt;&lt; i &lt;&lt; endl;
      rc = pthread_create(&amp;threads[i], NULL, wait, (void *)&amp;i );
      if (rc){
         cout &lt;&lt; &quot;Error:unable to create thread,&quot; &lt;&lt; rc &lt;&lt; endl;
         exit(-1);
      }
   }
 
   // 删除属性，并等待其他线程
   pthread_attr_destroy(&amp;attr);
   for( i=0; i &lt; NUM_THREADS; i++ ){
      rc = pthread_join(threads[i], &amp;status);
      if (rc){
         cout &lt;&lt; &quot;Error:unable to join,&quot; &lt;&lt; rc &lt;&lt; endl;
         exit(-1);
      }
      cout &lt;&lt; &quot;Main: completed thread id :&quot; &lt;&lt; i ;
      cout &lt;&lt; &quot;  exiting with status :&quot; &lt;&lt; status &lt;&lt; endl;
   }
 
   cout &lt;&lt; &quot;Main: program exiting.&quot; &lt;&lt; endl;
   pthread_exit(NULL);
}
当上面的代码被编译和执行时，它会产生下列结果：

main() : creating thread, 0
main() : creating thread, 1
main() : creating thread, 2
main() : creating thread, 3
main() : creating thread, 4
Sleeping in thread 
Thread with id : 4  ...exiting 
Sleeping in thread 
Thread with id : 3  ...exiting 
Sleeping in thread 
Thread with id : 2  ...exiting 
Sleeping in thread 
Thread with id : 1  ...exiting 
Sleeping in thread 
Thread with id : 0  ...exiting 
Main: completed thread id :0  exiting with status :0
Main: completed thread id :1  exiting with status :0
Main: completed thread id :2  exiting with status :0
Main: completed thread id :3  exiting with status :0
Main: completed thread id :4  exiting with status :0
Main: program exiting.

C++ Web 编程
什么是 CGI？
公共网关接口（CGI），是一套标准，定义了信息是如何在 Web 服务器和客户端脚本之间进行交换的。
CGI 规范目前是由 NCSA 维护的，NCSA 定义 CGI 如下：
公共网关接口（CGI），是一种用于外部网关程序与信息服务器（如 HTTP 服务器）对接的接口标准。
目前的版本是 CGI/1.1，CGI/1.2 版本正在推进中。
Web 浏览
为了更好地了解 CGI 的概念，让我们点击一个超链接，浏览一个特定的网页或 URL，看看会发生什么。

您的浏览器联系上 HTTP Web 服务器，并请求 URL，即文件名。
Web 服务器将解析 URL，并查找文件名。如果找到请求的文件，Web 服务器会把文件发送回浏览器，否则发送一条错误消息，表明您请求了一个错误的文件。
Web 浏览器从 Web 服务器获取响应，并根据接收到的响应来显示文件或错误消息。
然而，以这种方式搭建起来的 HTTP 服务器，不管何时请求目录中的某个文件，HTTP 服务器发送回来的不是该文件，而是以程序形式执行，并把执行产生的输出发送回浏览器显示出来。

公共网关接口（CGI），是使得应用程序（称为 CGI 程序或 CGI 脚本）能够与 Web 服务器以及客户端进行交互的标准协议。这些 CGI 程序可以用 Python、PERL、Shell、C 或 C++ 等进行编写。

CGI 架构图
下图演示了 CGI 的架构：

CGI 架构
Web 服务器配置
在您进行 CGI 编程之前，请确保您的 Web 服务器支持 CGI，并已配置成可以处理 CGI 程序。所有由 HTTP 服务器执行的 CGI 程序，都必须在预配置的目录中。该目录称为 CGI 目录，按照惯例命名为 /var/www/cgi-bin。虽然 CGI 文件是 C++ 可执行文件，但是按照惯例它的扩展名是 .cgi。

默认情况下，Apache Web 服务器会配置在 /var/www/cgi-bin 中运行 CGI 程序。如果您想指定其他目录来运行 CGI 脚本，您可以在 httpd.conf 文件中修改以下部分：

&lt;Directory &quot;/var/www/cgi-bin&quot;&gt;
   AllowOverride None
   Options ExecCGI
   Order allow,deny
   Allow from all
&lt;/Directory&gt;
 
&lt;Directory &quot;/var/www/cgi-bin&quot;&gt;
Options All
&lt;/Directory&gt;
在这里，我们假设已经配置好 Web 服务器并能成功运行，你可以运行任意的 CGI 程序，比如 Perl 或 Shell 等。

第一个 CGI 程序
请看下面的 C++ 程序：

实例
#include &lt;iostream&gt;
using namespace std;
 
int main ()
{
    
   cout &lt;&lt; &quot;Content-type:text/html\r\n\r\n&quot;;
   cout &lt;&lt; &quot;&lt;html&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;title&gt;Hello World - 第一个 CGI 程序&lt;/title&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;h2&gt;Hello World! 这是我的第一个 CGI 程序&lt;/h2&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/html&gt;\n&quot;;
   
   return 0;
}
编译上面的代码，把可执行文件命名为 cplusplus.cgi，并把这个文件保存在 /var/www/cgi-bin 目录中。在运行 CGI 程序之前，请使用 chmod 755 cplusplus.cgi UNIX 命令来修改文件模式，确保文件可执行。访问可执行文件，您会看到下面的输出：

Hello World! 这是我的第一个 CGI 程序
上面的 C++ 程序是一个简单的程序，把它的输出写在 STDOUT 文件上，即显示在屏幕上。在这里，值得注意一点，第一行输出 Content-type:text/html\r\n\r\n。这一行发送回浏览器，并指定要显示在浏览器窗口上的内容类型。您必须理解 CGI 的基本概念，这样才能进一步使用 Python 编写更多复杂的 CGI 程序。C++ CGI 程序可以与任何其他外部的系统（如 RDBMS）进行交互。

HTTP 头信息
行 Content-type:text/html\r\n\r\n 是 HTTP 头信息的组成部分，它被发送到浏览器，以便更好地理解页面内容。HTTP 头信息的形式如下：

HTTP 字段名称: 字段内容
 
例如
Content-type: text/html\r\n\r\n
还有一些其他的重要的 HTTP 头信息，这些在您的 CGI 编程中都会经常被用到。

头信息	描述
Content-type:	MIME 字符串，定义返回的文件格式。例如 Content-type:text/html。
Expires: Date	信息变成无效的日期。浏览器使用它来判断一个页面何时需要刷新。一个有效的日期字符串的格式应为 01 Jan 1998 12:00:00 GMT。
Location: URL	这个 URL 是指应该返回的 URL，而不是请求的 URL。你可以使用它来重定向一个请求到任意的文件。
Last-modified: Date	资源的最后修改日期。
Content-length: N	要返回的数据的长度，以字节为单位。浏览器使用这个值来表示一个文件的预计下载时间。
Set-Cookie: String	通过 string 设置 cookie。
CGI 环境变量
所有的 CGI 程序都可以访问下列的环境变量。这些变量在编写 CGI 程序时扮演了非常重要的角色。

变量名	描述
CONTENT_TYPE	内容的数据类型。当客户端向服务器发送附加内容时使用。例如，文件上传等功能。
CONTENT_LENGTH	查询的信息长度。只对 POST 请求可用。
HTTP_COOKIE	以键 &amp; 值对的形式返回设置的 cookies。
HTTP_USER_AGENT	用户代理请求标头字段，递交用户发起请求的有关信息，包含了浏览器的名称、版本和其他平台性的附加信息。
PATH_INFO	CGI 脚本的路径。
QUERY_STRING	通过 GET 方法发送请求时的 URL 编码信息，包含 URL 中问号后面的参数。
REMOTE_ADDR	发出请求的远程主机的 IP 地址。这在日志记录和认证时是非常有用的。
REMOTE_HOST	发出请求的主机的完全限定名称。如果此信息不可用，则可以用 REMOTE_ADDR 来获取 IP 地址。
REQUEST_METHOD	用于发出请求的方法。最常见的方法是 GET 和 POST。
SCRIPT_FILENAME	CGI 脚本的完整路径。
SCRIPT_NAME	CGI 脚本的名称。
SERVER_NAME	服务器的主机名或 IP 地址。
SERVER_SOFTWARE	服务器上运行的软件的名称和版本。
下面的 CGI 程序列出了所有的 CGI 变量。

实例
#include &lt;iostream&gt;
#include &lt;stdlib.h&gt;
#include &lt;string&gt;
using namespace std;
 
const string ENV[ 24 ] = {                 
        &quot;COMSPEC&quot;, &quot;DOCUMENT_ROOT&quot;, &quot;GATEWAY_INTERFACE&quot;,   
        &quot;HTTP_ACCEPT&quot;, &quot;HTTP_ACCEPT_ENCODING&quot;,             
        &quot;HTTP_ACCEPT_LANGUAGE&quot;, &quot;HTTP_CONNECTION&quot;,         
        &quot;HTTP_HOST&quot;, &quot;HTTP_USER_AGENT&quot;, &quot;PATH&quot;,            
        &quot;QUERY_STRING&quot;, &quot;REMOTE_ADDR&quot;, &quot;REMOTE_PORT&quot;,      
        &quot;REQUEST_METHOD&quot;, &quot;REQUEST_URI&quot;, &quot;SCRIPT_FILENAME&quot;,
        &quot;SCRIPT_NAME&quot;, &quot;SERVER_ADDR&quot;, &quot;SERVER_ADMIN&quot;,      
        &quot;SERVER_NAME&quot;,&quot;SERVER_PORT&quot;,&quot;SERVER_PROTOCOL&quot;,     
        &quot;SERVER_SIGNATURE&quot;,&quot;SERVER_SOFTWARE&quot; };   
 
int main ()
{
    
   cout &lt;&lt; &quot;Content-type:text/html\r\n\r\n&quot;;
   cout &lt;&lt; &quot;&lt;html&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;title&gt;CGI 环境变量&lt;/title&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;table border = \&quot;0\&quot; cellspacing = \&quot;2\&quot;&gt;&quot;;
 
   for ( int i = 0; i &lt; 24; i++ )
   {
       cout &lt;&lt; &quot;&lt;tr&gt;&lt;td&gt;&quot; &lt;&lt; ENV[ i ] &lt;&lt; &quot;&lt;/td&gt;&lt;td&gt;&quot;;
       // 尝试检索环境变量的值
       char *value = getenv( ENV[ i ].c_str() );  
       if ( value != 0 ){
         cout &lt;&lt; value;                                 
       }else{
         cout &lt;&lt; &quot;环境变量不存在。&quot;;
       }
       cout &lt;&lt; &quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;;
   }
   cout &lt;&lt; &quot;&lt;/table&gt;&lt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/html&gt;\n&quot;;
   
   return 0;
}
C++ CGI 库
在真实的实例中，您需要通过 CGI 程序执行许多操作。这里有一个专为 C++ 程序而编写的 CGI 库，我们可以从 ftp://ftp.gnu.org/gnu/cgicc/ 上下载这个 CGI 库，并按照下面的步骤安装库：



$ tar xzf cgicc-X.X.X.tar.gz 
$ cd cgicc-X.X.X/ 
$ ./configure --prefix=/usr 
$ make
$ make install
注意：libcgicc.so 和 libcgicc.a 库会被安装到/usr/lib目录下，需执行拷贝命令：

$ sudo cp /usr/lib/libcgicc.* /usr/lib64/
才能使 CGI 程序自动找到 libcgicc.so 动态链接库。

您可以点击 C++ CGI Lib Documentation，查看相关的库文档。

GET 和 POST 方法
您可能有遇到过这样的情况，当您需要从浏览器传递一些信息到 Web 服务器，最后再传到 CGI 程序。通常浏览器会使用两种方法把这个信息传到 Web 服务器，分别是 GET 和 POST 方法。

使用 GET 方法传递信息
GET 方法发送已编码的用户信息追加到页面请求中。页面和已编码信息通过 ? 字符分隔开，如下所示：

http://www.test.com/cgi-bin/cpp.cgi?key1=value1&amp;key2=value2
GET 方法是默认的从浏览器向 Web 服务器传信息的方法，它会在浏览器的地址栏中生成一串很长的字符串。当您向服务器传密码或其他一些敏感信息时，不要使用 GET 方法。GET 方法有大小限制，在一个请求字符串中最多可以传 1024 个字符。

当使用 GET 方法时，是使用 QUERY_STRING http 头来传递信息，在 CGI 程序中可使用 QUERY_STRING 环境变量来访问。

您可以通过在 URL 后跟上简单连接的键值对，也可以通过使用 HTML &lt;FORM&gt; 标签的 GET 方法来传信息。

简单的 URL 实例：Get 方法
下面是一个简单的 URL，使用 GET 方法传递两个值给 hello_get.py 程序。

/cgi-bin/cpp_get.cgi?first_name=ZARA&amp;last_name=ALI

下面的实例生成 cpp_get.cgi CGI 程序，用于处理 Web 浏览器给出的输入。通过使用 C++ CGI 库，可以很容易地访问传递的信息：

实例
#include &lt;iostream&gt;
#include &lt;vector&gt;  
#include &lt;string&gt;  
#include &lt;stdio.h&gt;  
#include &lt;stdlib.h&gt; 
 
#include &lt;cgicc/CgiDefs.h&gt; 
#include &lt;cgicc/Cgicc.h&gt; 
#include &lt;cgicc/HTTPHTMLHeader.h&gt; 
#include &lt;cgicc/HTMLClasses.h&gt;  
 
using namespace std;
using namespace cgicc;
 
int main ()
{
   Cgicc formData;
   
   cout &lt;&lt; &quot;Content-type:text/html\r\n\r\n&quot;;
   cout &lt;&lt; &quot;&lt;html&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;title&gt;使用 GET 和 POST 方法&lt;/title&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;body&gt;\n&quot;;
 
   form_iterator fi = formData.getElement(&quot;first_name&quot;);  
   if( !fi-&gt;isEmpty() &amp;&amp; fi != (*formData).end()) {  
      cout &lt;&lt; &quot;名：&quot; &lt;&lt; **fi &lt;&lt; endl;  
   }else{
      cout &lt;&lt; &quot;No text entered for first name&quot; &lt;&lt; endl;  
   }
   cout &lt;&lt; &quot;&lt;br/&gt;\n&quot;;
   fi = formData.getElement(&quot;last_name&quot;);  
   if( !fi-&gt;isEmpty() &amp;&amp;fi != (*formData).end()) {  
      cout &lt;&lt; &quot;姓：&quot; &lt;&lt; **fi &lt;&lt; endl;  
   }else{
      cout &lt;&lt; &quot;No text entered for last name&quot; &lt;&lt; endl;  
   }
   cout &lt;&lt; &quot;&lt;br/&gt;\n&quot;;
 
   cout &lt;&lt; &quot;&lt;/body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/html&gt;\n&quot;;
   
   return 0;
}
现在，编译上面的程序，如下所示：

$g++ -o cpp_get.cgi cpp_get.cpp -lcgicc
生成 cpp_get.cgi，并把它放在 CGI 目录中，并尝试使用下面的链接进行访问：

/cgi-bin/cpp_get.cgi?first_name=ZARA&amp;last_name=ALI

这会产生以下结果：

名：ZARA 
姓：ALI 
简单的表单实例：GET 方法
下面是一个简单的实例，使用 HTML 表单和提交按钮传递两个值。我们将使用相同的 CGI 脚本 cpp_get.cgi 来处理输入。

&lt;form action=&quot;/cgi-bin/cpp_get.cgi&quot; method=&quot;get&quot;&gt;
名：&lt;input type=&quot;text&quot; name=&quot;first_name&quot;&gt;  &lt;br /&gt;
 
姓：&lt;input type=&quot;text&quot; name=&quot;last_name&quot; /&gt;
&lt;input type=&quot;submit&quot; value=&quot;提交&quot; /&gt;
&lt;/form&gt;
下面是上述表单的实际输出，请输入名和姓，然后点击提交按钮查看结果。

使用 POST 方法传递信息
一个更可靠的向 CGI 程序传递信息的方法是 POST 方法。这种方法打包信息的方式与 GET 方法相同，不同的是，它不是把信息以文本字符串形式放在 URL 中的 ? 之后进行传递，而是把它以单独的消息形式进行传递。该消息是以标准输入的形式传给 CGI 脚本的。

我们同样使用 cpp_get.cgi 程序来处理 POST 方法。让我们以同样的例子，通过使用 HTML 表单和提交按钮来传递两个值，只不过这次我们使用的不是 GET 方法，而是 POST 方法，如下所示：

&lt;form action=&quot;/cgi-bin/cpp_get.cgi&quot; method=&quot;post&quot;&gt;
名：&lt;input type=&quot;text&quot; name=&quot;first_name&quot;&gt;&lt;br /&gt;
姓：&lt;input type=&quot;text&quot; name=&quot;last_name&quot; /&gt;
 
&lt;input type=&quot;submit&quot; value=&quot;提交&quot; /&gt;
&lt;/form&gt;
向 CGI 程序传递复选框数据
当需要选择多个选项时，我们使用复选框。

下面的 HTML 代码实例是一个带有两个复选框的表单：

&lt;form action=&quot;/cgi-bin/cpp_checkbox.cgi&quot; 
         method=&quot;POST&quot; 
         target=&quot;_blank&quot;&gt;
&lt;input type=&quot;checkbox&quot; name=&quot;maths&quot; value=&quot;on&quot; /&gt; 数学
&lt;input type=&quot;checkbox&quot; name=&quot;physics&quot; value=&quot;on&quot; /&gt; 物理
&lt;input type=&quot;submit&quot; value=&quot;选择学科&quot; /&gt;
&lt;/form&gt;
下面的 C++ 程序会生成 cpp_checkbox.cgi 脚本，用于处理 Web 浏览器通过复选框给出的输入。

实例
#include &lt;iostream&gt;
#include &lt;vector&gt;  
#include &lt;string&gt;  
#include &lt;stdio.h&gt;  
#include &lt;stdlib.h&gt; 
 
#include &lt;cgicc/CgiDefs.h&gt; 
#include &lt;cgicc/Cgicc.h&gt; 
#include &lt;cgicc/HTTPHTMLHeader.h&gt; 
#include &lt;cgicc/HTMLClasses.h&gt; 
 
using namespace std;
using namespace cgicc;
 
int main ()
{
   Cgicc formData;
   bool maths_flag, physics_flag;
 
   cout &lt;&lt; &quot;Content-type:text/html\r\n\r\n&quot;;
   cout &lt;&lt; &quot;&lt;html&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;title&gt;向 CGI 程序传递复选框数据&lt;/title&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;body&gt;\n&quot;;
 
   maths_flag = formData.queryCheckbox(&quot;maths&quot;);
   if( maths_flag ) {  
      cout &lt;&lt; &quot;Maths Flag: ON &quot; &lt;&lt; endl;  
   }else{
      cout &lt;&lt; &quot;Maths Flag: OFF &quot; &lt;&lt; endl;  
   }
   cout &lt;&lt; &quot;&lt;br/&gt;\n&quot;;
 
   physics_flag = formData.queryCheckbox(&quot;physics&quot;);
   if( physics_flag ) {  
      cout &lt;&lt; &quot;Physics Flag: ON &quot; &lt;&lt; endl;  
   }else{
      cout &lt;&lt; &quot;Physics Flag: OFF &quot; &lt;&lt; endl;  
   }
   cout &lt;&lt; &quot;&lt;br/&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/html&gt;\n&quot;;
   
   return 0;
}
向 CGI 程序传递单选按钮数据
当只需要选择一个选项时，我们使用单选按钮。

下面的 HTML 代码实例是一个带有两个单选按钮的表单：

&lt;form action=&quot;/cgi-bin/cpp_radiobutton.cgi&quot; 
         method=&quot;post&quot; 
         target=&quot;_blank&quot;&gt;
&lt;input type=&quot;radio&quot; name=&quot;subject&quot; value=&quot;maths&quot; 
                                    checked=&quot;checked&quot;/&gt; 数学 
&lt;input type=&quot;radio&quot; name=&quot;subject&quot; value=&quot;physics&quot; /&gt; 物理
&lt;input type=&quot;submit&quot; value=&quot;选择学科&quot; /&gt;
&lt;/form&gt;
下面的 C++ 程序会生成 cpp_radiobutton.cgi 脚本，用于处理 Web 浏览器通过单选按钮给出的输入。

实例
#include &lt;iostream&gt;
#include &lt;vector&gt;  
#include &lt;string&gt;  
#include &lt;stdio.h&gt;  
#include &lt;stdlib.h&gt; 
 
#include &lt;cgicc/CgiDefs.h&gt; 
#include &lt;cgicc/Cgicc.h&gt; 
#include &lt;cgicc/HTTPHTMLHeader.h&gt; 
#include &lt;cgicc/HTMLClasses.h&gt; 
 
using namespace std;
using namespace cgicc;
 
int main ()
{
   Cgicc formData;
  
   cout &lt;&lt; &quot;Content-type:text/html\r\n\r\n&quot;;
   cout &lt;&lt; &quot;&lt;html&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;title&gt;向 CGI 程序传递单选按钮数据&lt;/title&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;body&gt;\n&quot;;
 
   form_iterator fi = formData.getElement(&quot;subject&quot;);  
   if( !fi-&gt;isEmpty() &amp;&amp; fi != (*formData).end()) {  
      cout &lt;&lt; &quot;Radio box selected: &quot; &lt;&lt; **fi &lt;&lt; endl;  
   }
  
   cout &lt;&lt; &quot;&lt;br/&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/html&gt;\n&quot;;
   
   return 0;
}
向 CGI 程序传递文本区域数据
当需要向 CGI 程序传递多行文本时，我们使用 TEXTAREA 元素。

下面的 HTML 代码实例是一个带有 TEXTAREA 框的表单：

&lt;form action=&quot;/cgi-bin/cpp_textarea.cgi&quot; 
         method=&quot;post&quot; 
         target=&quot;_blank&quot;&gt;
&lt;textarea name=&quot;textcontent&quot; cols=&quot;40&quot; rows=&quot;4&quot;&gt;
请在这里输入文本...
&lt;/textarea&gt;
&lt;input type=&quot;submit&quot; value=&quot;提交&quot; /&gt;
&lt;/form&gt;
下面的 C++ 程序会生成 cpp_textarea.cgi 脚本，用于处理 Web 浏览器通过文本区域给出的输入。

实例
#include &lt;iostream&gt;
#include &lt;vector&gt;  
#include &lt;string&gt;  
#include &lt;stdio.h&gt;  
#include &lt;stdlib.h&gt; 
 
#include &lt;cgicc/CgiDefs.h&gt; 
#include &lt;cgicc/Cgicc.h&gt; 
#include &lt;cgicc/HTTPHTMLHeader.h&gt; 
#include &lt;cgicc/HTMLClasses.h&gt; 
 
using namespace std;
using namespace cgicc;
 
int main ()
{
   Cgicc formData;
  
   cout &lt;&lt; &quot;Content-type:text/html\r\n\r\n&quot;;
   cout &lt;&lt; &quot;&lt;html&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;title&gt;向 CGI 程序传递文本区域数据&lt;/title&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;body&gt;\n&quot;;
 
   form_iterator fi = formData.getElement(&quot;textcontent&quot;);  
   if( !fi-&gt;isEmpty() &amp;&amp; fi != (*formData).end()) {  
      cout &lt;&lt; &quot;Text Content: &quot; &lt;&lt; **fi &lt;&lt; endl;  
   }else{
      cout &lt;&lt; &quot;No text entered&quot; &lt;&lt; endl;  
   }
  
   cout &lt;&lt; &quot;&lt;br/&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/html&gt;\n&quot;;
   
   return 0;
}
向 CGI 程序传递下拉框数据
当有多个选项可用，但只能选择一个或两个选项时，我们使用下拉框。

下面的 HTML 代码实例是一个带有下拉框的表单：

&lt;form action=&quot;/cgi-bin/cpp_dropdown.cgi&quot; 
                       method=&quot;post&quot; target=&quot;_blank&quot;&gt;
&lt;select name=&quot;dropdown&quot;&gt;
&lt;option value=&quot;Maths&quot; selected&gt;数学&lt;/option&gt;
&lt;option value=&quot;Physics&quot;&gt;物理&lt;/option&gt;
&lt;/select&gt;
&lt;input type=&quot;submit&quot; value=&quot;提交&quot;/&gt;
&lt;/form&gt;
下面的 C++ 程序会生成 cpp_dropdown.cgi 脚本，用于处理 Web 浏览器通过下拉框给出的输入。

实例
#include &lt;iostream&gt;
#include &lt;vector&gt;  
#include &lt;string&gt;  
#include &lt;stdio.h&gt;  
#include &lt;stdlib.h&gt; 
 
#include &lt;cgicc/CgiDefs.h&gt; 
#include &lt;cgicc/Cgicc.h&gt; 
#include &lt;cgicc/HTTPHTMLHeader.h&gt; 
#include &lt;cgicc/HTMLClasses.h&gt; 
 
using namespace std;
using namespace cgicc;
 
int main ()
{
   Cgicc formData;
  
   cout &lt;&lt; &quot;Content-type:text/html\r\n\r\n&quot;;
   cout &lt;&lt; &quot;&lt;html&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;title&gt;向 CGI 程序传递下拉框数据&lt;/title&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;body&gt;\n&quot;;
 
   form_iterator fi = formData.getElement(&quot;dropdown&quot;);  
   if( !fi-&gt;isEmpty() &amp;&amp; fi != (*formData).end()) {  
      cout &lt;&lt; &quot;Value Selected: &quot; &lt;&lt; **fi &lt;&lt; endl;  
   }
  
   cout &lt;&lt; &quot;&lt;br/&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/html&gt;\n&quot;;
   
   return 0;
}
在 CGI 中使用 Cookies
HTTP 协议是一种无状态的协议。但对于一个商业网站，它需要在不同页面间保持会话信息。例如，一个用户在完成多个页面的步骤之后结束注册。但是，如何在所有网页中保持用户的会话信息。

在许多情况下，使用 cookies 是记忆和跟踪有关用户喜好、购买、佣金以及其他为追求更好的游客体验或网站统计所需信息的最有效的方法。

它是如何工作的
服务器以 cookie 的形式向访客的浏览器发送一些数据。如果浏览器接受了 cookie，则 cookie 会以纯文本记录的形式存储在访客的硬盘上。现在，当访客访问网站上的另一个页面时，会检索 cookie。一旦找到 cookie，服务器就知道存储了什么。

cookie 是一种纯文本的数据记录，带有 5 个可变长度的字段：

Expires : cookie 的过期日期。如果此字段留空，cookie 会在访客退出浏览器时过期。
Domain : 网站的域名。
Path : 设置 cookie 的目录或网页的路径。如果您想从任意的目录或网页检索 cookie，此字段可以留空。
Secure : 如果此字段包含单词 &quot;secure&quot;，那么 cookie 只能通过安全服务器进行检索。如果此字段留空，则不存在该限制。
Name=Value : cookie 以键值对的形式被设置和获取。
设置 Cookies
向浏览器发送 cookies 是非常简单的。这些 cookies 会在 Content-type 字段之前，与 HTTP 头一起被发送。假设您想设置 UserID 和 Password 为 cookies，设置 cookies 的步骤如下所示：

实例
#include &lt;iostream&gt;
using namespace std;
 
int main ()
{
 
   cout &lt;&lt; &quot;Set-Cookie:UserID=XYZ;\r\n&quot;;
   cout &lt;&lt; &quot;Set-Cookie:Password=XYZ123;\r\n&quot;;
   cout &lt;&lt; &quot;Set-Cookie:Domain=www.w3cschool.cc;\r\n&quot;;
   cout &lt;&lt; &quot;Set-Cookie:Path=/perl;\n&quot;;
   cout &lt;&lt; &quot;Content-type:text/html\r\n\r\n&quot;;
 
   cout &lt;&lt; &quot;&lt;html&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;title&gt;CGI 中的 Cookies&lt;/title&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;body&gt;\n&quot;;
 
   cout &lt;&lt; &quot;设置 cookies&quot; &lt;&lt; endl;  
  
   cout &lt;&lt; &quot;&lt;br/&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/html&gt;\n&quot;;
   
   return 0;
}
从这个实例中，我们了解了如何设置 cookies。我们使用 Set-Cookie HTTP 头来设置 cookies。

在这里，有一些设置 cookies 的属性是可选的，比如 Expires、Domain 和 Path。值得注意的是，cookies 是在发送行 &quot;Content-type:text/html\r\n\r\n 之前被设置的。

编译上面的程序，生成 setcookies.cgi，并尝试使用下面的链接设置 cookies。它会在您的计算机上设置四个 cookies：

/cgi-bin/setcookies.cgi

获取 Cookies
检索所有设置的 cookies 是非常简单的。cookies 被存储在 CGI 环境变量 HTTP_COOKIE 中，且它们的形式如下：

key1=value1;key2=value2;key3=value3....
下面的实例演示了如何获取 cookies。

实例
#include &lt;iostream&gt;
#include &lt;vector&gt;  
#include &lt;string&gt;  
#include &lt;stdio.h&gt;  
#include &lt;stdlib.h&gt; 
 
#include &lt;cgicc/CgiDefs.h&gt; 
#include &lt;cgicc/Cgicc.h&gt; 
#include &lt;cgicc/HTTPHTMLHeader.h&gt; 
#include &lt;cgicc/HTMLClasses.h&gt;
 
using namespace std;
using namespace cgicc;
 
int main ()
{
   Cgicc cgi;
   const_cookie_iterator cci;
 
   cout &lt;&lt; &quot;Content-type:text/html\r\n\r\n&quot;;
   cout &lt;&lt; &quot;&lt;html&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;title&gt;CGI 中的 Cookies&lt;/title&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;table border = \&quot;0\&quot; cellspacing = \&quot;2\&quot;&gt;&quot;;
   
   // 获取环境变量
   const CgiEnvironment&amp; env = cgi.getEnvironment();
 
   for( cci = env.getCookieList().begin();
        cci != env.getCookieList().end(); 
        ++cci )
   {
      cout &lt;&lt; &quot;&lt;tr&gt;&lt;td&gt;&quot; &lt;&lt; cci-&gt;getName() &lt;&lt; &quot;&lt;/td&gt;&lt;td&gt;&quot;;
      cout &lt;&lt; cci-&gt;getValue();                                 
      cout &lt;&lt; &quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;;
   }
   cout &lt;&lt; &quot;&lt;/table&gt;&lt;\n&quot;;
  
   cout &lt;&lt; &quot;&lt;br/&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/html&gt;\n&quot;;
   
   return 0;
}
现在，编译上面的程序，生成 getcookies.cgi，并尝试使用下面的链接获取您的计算机上所有可用的 cookies：

/cgi-bin/getcookies.cgi

这会产生一个列表，显示了上一节中设置的四个 cookies 以及您的计算机上所有其他的 cookies：

UserID XYZ 
Password XYZ123 
Domain www.w3cschool.cc 
Path /perl 
文件上传实例
为了上传一个文件，HTML 表单必须把 enctype 属性设置为 multipart/form-data。带有文件类型的 input 标签会创建一个 &quot;Browse&quot; 按钮。

&lt;html&gt;
&lt;body&gt;
   &lt;form enctype=&quot;multipart/form-data&quot; 
            action=&quot;/cgi-bin/cpp_uploadfile.cgi&quot; 
            method=&quot;post&quot;&gt;
   &lt;p&gt;文件：&lt;input type=&quot;file&quot; name=&quot;userfile&quot; /&gt;&lt;/p&gt;
   &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;上传&quot; /&gt;&lt;/p&gt;
   &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
这段代码的结果是下面的表单：

文件：


注意：上面的实例已经故意禁用了保存上传的文件在我们的服务器上。您可以在自己的服务器上尝试上面的代码。

下面是用于处理文件上传的脚本 cpp_uploadfile.cpp：

实例
#include &lt;iostream&gt;
#include &lt;vector&gt;  
#include &lt;string&gt;  
#include &lt;stdio.h&gt;  
#include &lt;stdlib.h&gt; 
 
#include &lt;cgicc/CgiDefs.h&gt; 
#include &lt;cgicc/Cgicc.h&gt; 
#include &lt;cgicc/HTTPHTMLHeader.h&gt; 
#include &lt;cgicc/HTMLClasses.h&gt;
 
using namespace std;
using namespace cgicc;
 
int main ()
{
   Cgicc cgi;
 
   cout &lt;&lt; &quot;Content-type:text/html\r\n\r\n&quot;;
   cout &lt;&lt; &quot;&lt;html&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;title&gt;CGI 中的文件上传&lt;/title&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/head&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;body&gt;\n&quot;;
 
   // 获取要被上传的文件列表
   const_file_iterator file = cgi.getFile(&quot;userfile&quot;);
   if(file != cgi.getFiles().end()) {
      // 在 cout 中发送数据类型
      cout &lt;&lt; HTTPContentHeader(file-&gt;getDataType());
      // 在 cout 中写入内容
      file-&gt;writeToStream(cout);
   }
   cout &lt;&lt; &quot;&lt;文件上传成功&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/body&gt;\n&quot;;
   cout &lt;&lt; &quot;&lt;/html&gt;\n&quot;;
   
   return 0;
}
上面的实例是在 cout 流中写入内容，但您可以打开文件流，并把上传的文件内容保存在目标位置的某个文件中。
</code></pre></div><h2 id="c-stl-教程"><a href="#c-stl-教程" class="header-anchor">#</a> C++ STL 教程</h2> <p>在前面的章节中，我们已经学习了 C++ 模板的概念。C++ STL（标准模板库）是一套功能强大的 C++ 模板类，提供了通用的模板类和函数，这些模板类和函数可以实现多种流行和常用的算法和数据结构，如向量、链表、队列、栈。</p> <p>C++ 标准模板库的核心包括以下三个组件：</p> <div class="language- extra-class"><pre class="language-text"><code>组件	描述
容器（Containers）	容器是用来管理某一类对象的集合。C++ 提供了各种不同类型的容器，比如 deque、list、vector、map 等。
算法（Algorithms）	算法作用于容器。它们提供了执行各种操作的方式，包括对容器内容执行初始化、排序、搜索和转换等操作。
迭代器（iterators）	迭代器用于遍历对象集合的元素。这些集合可能是容器，也可能是容器的子集。
这三个组件都带有丰富的预定义函数，帮助我们通过简单的方式处理复杂的任务。
</code></pre></div><p>下面的程序演示了向量容器（一个 C++ 标准的模板），它与数组十分相似，唯一不同的是，向量在需要扩展大小的时候，会自动处理它自己的存储需求：</p> <p>实例</p> <div class="language- extra-class"><pre class="language-text"><code>#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;
 
int main()
{
   // 创建一个向量存储 int
   vector&lt;int&gt; vec; 
   int i;
 
   // 显示 vec 的原始大小
   cout &lt;&lt; &quot;vector size = &quot; &lt;&lt; vec.size() &lt;&lt; endl;
 
   // 推入 5 个值到向量中
   for(i = 0; i &lt; 5; i++){
      vec.push_back(i);
   }
 
   // 显示 vec 扩展后的大小
   cout &lt;&lt; &quot;extended vector size = &quot; &lt;&lt; vec.size() &lt;&lt; endl;
 
   // 访问向量中的 5 个值
   for(i = 0; i &lt; 5; i++){
      cout &lt;&lt; &quot;value of vec [&quot; &lt;&lt; i &lt;&lt; &quot;] = &quot; &lt;&lt; vec[i] &lt;&lt; endl;
   }
 
   // 使用迭代器 iterator 访问值
   vector&lt;int&gt;::iterator v = vec.begin();
   while( v != vec.end()) {
      cout &lt;&lt; &quot;value of v = &quot; &lt;&lt; *v &lt;&lt; endl;
      v++;
   }
 
   return 0;
}
当上面的代码被编译和执行时，它会产生下列结果：

vector size = 0
extended vector size = 5
value of vec [0] = 0
value of vec [1] = 1
value of vec [2] = 2
value of vec [3] = 3
value of vec [4] = 4
value of v = 0
value of v = 1
value of v = 2
value of v = 3
value of v = 4
</code></pre></div><p>关于上面实例中所使用的各种函数，有几点要注意：</p> <p>push_back( ) 成员函数在向量的末尾插入值，如果有必要会扩展向量的大小。
size( ) 函数显示向量的大小。
begin( ) 函数返回一个指向向量开头的迭代器。
end( ) 函数返回一个指向向量末尾的迭代器。</p> <div class="language- extra-class"><pre class="language-text"><code>C++ 标准库
C++ 标准库可以分为两部分：

标准函数库： 这个库是由通用的、独立的、不属于任何类的函数组成的。函数库继承自 C 语言。
面向对象类库： 这个库是类及其相关函数的集合。
C++ 标准库包含了所有的 C 标准库，为了支持类型安全，做了一定的添加和修改。

标准函数库
标准函数库分为以下几类：

输入/输出 I/O
字符串和字符处理
数学
时间、日期和本地化
动态分配
其他
宽字符函数
面向对象类库
标准的 C++ 面向对象类库定义了大量支持一些常见操作的类，比如输入/输出 I/O、字符串处理、数值处理。面向对象类库包含以下内容：

标准的 C++ I/O 类
String 类
数值类
STL 容器类
STL 算法
STL 函数对象
STL 迭代器
STL 分配器
本地化库
异常处理类
杂项支持库

C++ 有用的资源
以下资源包含了 C++ 有关的网站、书籍和文章。请使用它们来进一步学习 C++ 的知识。

C++ 有用的网站
C++ Programming Language Tutorials − C++ 编程语言教程。
C++ Programming − 这本书涵盖了 C++ 语言编程、软件交互设计、C++ 语言的现实生活应用。
C++ FAQ − C++ 常见问题
Free Country − Free Country 提供了免费的 C++ 源代码和 C++ 库，这些源代码和库涵盖了压缩、存档、游戏编程、标准模板库和 GUI 编程等 C++ 编程领域。
C and C++ Users Group − C 和 C++ 的用户团体提供了免费的涵盖各种编程领域 C++ 项目的源代码，包括 AI、动画、编译器、数据库、调试、加密、游戏、图形、GUI、语言工具、系统编程等。
C++ 有用的书籍
《Essential C++ 中文版》
《C++ Primer Plus 第6版中文版》
《C++ Primer中文版（第5版）》

C++ 实例
C++ 实例 - 输出 &quot;Hello, World!&quot;
C++ 实例 - 标准输入输出
C++ 实例 - 实现两个数相加
C++ 实例 - 求商及余数
C++ 实例 - 查看 int, float, double 和 char 变量大小
C++ 实例 - 交换两个数
C++ 实例 - 判断一个数是奇数还是偶数
C++ 实例 - 判断元音/辅音
C++ 实例 - 判断三个数中的最大数
C++ 实例 - 求一元二次方程的根
C++ 实例 - 计算自然数之和
C++ 实例 - 判断闰年
C++ 实例 - 求一个数的阶乘
C++ 实例 - 创建各类三角形图案
C++ 实例 - 求两数的最大公约数
C++ 实例 - 求两数最小公倍数
C++ 实例 - 实现一个简单的计算器
猴子吃桃问题
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/assets/js/app.f33c03af.js" defer></script><script src="/assets/js/2.8a1ae630.js" defer></script><script src="/assets/js/18.eada6ffb.js" defer></script>
  </body>
</html>
